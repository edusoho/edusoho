(window.webpackJsonp=window.webpackJsonp||[]).push([["fastlogin"],{"1495a":function(t,e,n){"use strict";n.r(e);var r=n("db72"),o=(n("96cf"),n("3b8d")),i=n("f13d"),a=(n("7185"),n("8e6c"),n("3ce7")),c=n("a262"),s=n("d863"),u=n("1527"),l=n("2f62"),f={name:"FastLogin",components:{EDrag:i.a},mixins:[c.a,s.a,u.a],data:function(){return{userinfo:{mobile:"",dragCaptchaToken:void 0,smsCode:"",smsToken:"",type:"sms_login"},userTerms:!1,privacyPolicy:!1,registerSettings:null,agreement:!0,dragEnable:!1,dragKey:0,errorMessage:{mobile:""},validated:{mobile:!1}}},computed:{btnDisable:function(){return!(this.userinfo.mobile&&this.userinfo.smsCode&&this.agreement)}},created:function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$store.state.token){t.next=4;break}return Toast.loading({message:"请稍后"}),this.afterLogin(),t.abrupt("return");case 4:this.getPrivacySetting();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),methods:Object(r.a)({},Object(l.b)(["addUser","setMobile","sendSmsSend","fastLogin"]),{getPrivacySetting:function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.getSettings({query:{type:"user"}}).then((function(t){t.auth.user_terms_enabled&&(e.userTerms=!0),t.auth.privacy_policy_enabled&&(e.privacyPolicy=!0)})).catch((function(t){Toast.fail(t.message)}));case 2:this.registerSettings=t.sent;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),lookPrivacyPolicy:function(){window.location.href=window.location.origin+"/mapi_v2/School/getPrivacyPolicy"},handleSmsSuccess:function(t){this.userinfo.dragCaptchaToken=t,this.handleSendSms()},handleSubmitSuccess:function(){this.afterLogin()},checkAgree:function(){this.agreement=!this.agreement},changeLogin:function(){this.$router.push({name:"login"})}})},d=n("0c7c"),h=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("span",{staticClass:"login-title"},[t._v("手机快捷登录")]),n("span",{staticClass:"login-des"},[t._v("新用户将为您自动注册")]),n("van-field",{staticClass:"login-input e-input",attrs:{border:!1,"error-message":t.errorMessage.mobile,placeholder:"请输入手机号","max-length":"11",type:"number",clearable:""},on:{blur:function(e){return t.validateMobileOrPsw("mobile")},keyup:function(e){return t.validatedChecker()}},model:{value:t.userinfo.mobile,callback:function(e){t.$set(t.userinfo,"mobile",e)},expression:"userinfo.mobile"}}),t.dragEnable?n("e-drag",{key:t.dragKey,ref:"dragComponent",attrs:{"limit-type":"sms_login"},on:{success:t.handleSmsSuccess}}):t._e(),n("van-field",{ref:"smsCode",staticClass:"login-input e-input",attrs:{border:!1,type:"number",center:"",clearable:"","max-length":"6",placeholder:"请输入验证码"},model:{value:t.userinfo.smsCode,callback:function(e){t.$set(t.userinfo,"smsCode",e)},expression:"userinfo.smsCode"}},[n("van-button",{attrs:{slot:"button",disabled:t.count.codeBtnDisable||!t.validated.mobile,size:"small",type:"primary"},on:{click:t.clickSmsBtn},slot:"button"},[t._v("\n      发送验证码\n      "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.count.showCount,expression:"count.showCount"}]},[t._v("("+t._s(t.count.num)+")")])])],1),n("van-button",{staticClass:"primary-btn mb20",attrs:{disabled:t.btnDisable,type:"default"},on:{click:function(e){return t.handleSubmit(t.handleSubmitSuccess)}}},[t._v("登录")]),n("div",{staticClass:"login-bottom text-center"},[t.userTerms||t.privacyPolicy?n("div",{staticClass:"login-agree"},[n("van-checkbox",{attrs:{"icon-size":16,"checked-color":"#408ffb"},on:{click:t.checkAgree},model:{value:t.agreement,callback:function(e){t.agreement=e},expression:"agreement"}}),t._v("\n      我已阅读并同意"),t.userTerms?n("i",{on:{click:t.lookPrivacyPolicy}},[t._v("《用户服务》")]):t._e(),t.userTerms&&t.privacyPolicy?n("span",[t._v("和")]):t._e(),t.privacyPolicy?n("span",[t._v("《"),n("i",{on:{click:t.lookPrivacyPolicy}},[t._v("隐私协议")]),t._v("》")]):t._e()],1):t._e(),n("div",{staticClass:"login-change",on:{click:t.changeLogin}},[n("img",{staticClass:"login_change-icon",attrs:{src:"static/images/login_change.png"}}),t._v("切换账号密码登录\n    ")])])],1)}),[],!1,null,null,null);e.default=h.exports},1527:function(t,e,n){"use strict";n("e7e5");var r=n("d399"),o=n("7185");e.a={data:function(){return{count:{showCount:!1,num:60,codeBtnDisable:!1}}},methods:{validateMobileOrPsw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mobile",e=this.userinfo[t],n=o.a[t];0===e.length&&(this.errorMessage[t]=""),this.errorMessage[t]=n.validator(e)?"":n.message},validatedChecker:function(){this.userinfo.mobile.length>11&&(this.userinfo.mobile=this.userinfo.mobile.substring(0,11));var t=this.userinfo.mobile,e=o.a.mobile;this.validated.mobile=e.validator(t)},countDown:function(){var t=this;this.$nextTick((function(){t.$refs.smsCode.$refs.input.focus()})),this.count.showCount=!0,this.count.codeBtnDisable=!0,this.count.num=60;var e=setInterval((function(){if(t.count.num<=0)return t.count.codeBtnDisable=!1,t.count.showCount=!1,void clearInterval(e);t.count.num-=1}),1e3)},handleSubmit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.btnDisable||this.fastLogin({mobile:this.userinfo.mobile,smsToken:this.userinfo.smsToken,smsCode:this.userinfo.smsCode,loginType:"sms",client:"h5"}).then((function(e){return t(e)})).catch((function(t){e&&e(t.message),r.a.fail(t.message)}))},handleSendSms:function(){var t=this;this.sendSmsSend(this.userinfo).then((function(e){t.userinfo.smsToken=e.smsToken,t.countDown(),t.dragEnable=!1,t.userinfo.dragCaptchaToken=""})).catch((function(e){switch(e.code){case 4030301:case 4030302:t.dragKey+=1,t.userinfo.dragCaptchaToken="",t.userinfo.smsToken="",r.a.fail(e.message);break;case 4030303:t.dragEnable?r.a.fail(e.message):t.dragEnable=!0;break;default:r.a.fail(e.message)}}))},clickSmsBtn:function(){!this.count.codeBtnDisable&&this.validated.mobile&&(this.dragEnable?this.$refs.dragComponent.dragToEnd?this.$refs.dragComponent.initDragCaptcha():Object(r.a)("请先完成拼图验证"):this.handleSendSms())}}}},"4eb5":function(t,e,n){var r=n("6981"),o={autoSetContainer:!1,appendToBody:!0},i={install:function(t){t.prototype.$clipboardConfig=o,t.prototype.$copyText=function(t,e){return new Promise((function(n,i){var a=document.createElement("button"),c=new r(a,{text:function(){return t},action:function(){return"copy"},container:"object"==typeof e?e:document.body});c.on("success",(function(t){c.destroy(),n(t)})),c.on("error",(function(t){c.destroy(),i(t)})),o.appendToBody&&document.body.appendChild(a),a.click(),o.appendToBody&&document.body.removeChild(a)}))},t.directive("clipboard",{bind:function(t,e,n){if("success"===e.arg)t._vClipboard_success=e.value;else if("error"===e.arg)t._vClipboard_error=e.value;else{var i=new r(t,{text:function(){return e.value},action:function(){return"cut"===e.arg?"cut":"copy"},container:o.autoSetContainer?t:void 0});i.on("success",(function(e){var n=t._vClipboard_success;n&&n(e)})),i.on("error",(function(e){var n=t._vClipboard_error;n&&n(e)})),t._vClipboard=i}},update:function(t,e){"success"===e.arg?t._vClipboard_success=e.value:"error"===e.arg?t._vClipboard_error=e.value:(t._vClipboard.text=function(){return e.value},t._vClipboard.action=function(){return"cut"===e.arg?"cut":"copy"})},unbind:function(t,e){"success"===e.arg?delete t._vClipboard_success:"error"===e.arg?delete t._vClipboard_error:(t._vClipboard.destroy(),delete t._vClipboard)}})},config:o};t.exports=i},6981:function(t,e,n){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(1)),a=s(n(3)),c=s(n(4));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===r(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),e}();function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}t.exports=u},function(t,e,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=(r=a)&&r.__esModule?r:{default:r},s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,c.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,c.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(t),r.removeAllRanges(),r.addRange(o),e=r.toString()}return e}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=n},function(t,e,n){var r=n(5),o=n(6);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return d=e,h=n,(f=t).addEventListener(d,h),{destroy:function(){f.removeEventListener(d,h)}};if(r.nodeList(t))return s=t,u=e,l=n,Array.prototype.forEach.call(s,(function(t){t.addEventListener(u,l)})),{destroy:function(){Array.prototype.forEach.call(s,(function(t){t.removeEventListener(u,l)}))}};if(r.string(t))return i=t,a=e,c=n,o(document.body,i,a,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,a,c,s,u,l,f,d,h}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(7);function o(t,e,n,o,i){var a=function(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,a,i),{destroy:function(){t.removeEventListener(n,a,i)}}}t.exports=function(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return o(t,e,n,r,i)})))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])},7067:function(t,e,n){"use strict";n("e17f");var r=n("2241"),o=(n("e7e5"),n("d399")),i=n("a026"),a=n("3ce7"),c=n("4eb5"),s=n.n(c);i.a.use(s.a);var u=/micromessenger/.test(navigator.userAgent.toLowerCase());e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||n&&!e)o.a.fail("缺少分享参数");else{var c={domainUri:location.origin,itemUri:"",source:"h5"};a.a.marketingActivities({query:{activityId:t},data:c}).then((function(t){var a=-1!==t.url.indexOf("?")?"&":"?",c=n?"".concat(e).concat(a,"ticket=").concat(t.ticket):t.url;u?window.location.href=c:r.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{i.a.prototype.$copyText(c).then((function(){o.a.success("复制成功")}),(function(){o.a.fail("请更换浏览器复制")}))}catch(t){o.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(t){o.a.fail(t.message)}))}}},"8e6c":function(t,e,n){"use strict";n("6b54"),n("28a5"),function(t){var e,n;void 0===t.btoa&&(t.btoa=(e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(t){var n,r,o,i,a,c,s;for(r=o=0,i=t.length,c=(i-=a=i%3)/3<<2,a>0&&(c+=4),n=new Array(c);r<i;)s=t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<8|t.charCodeAt(r++),n[o++]=e[s>>18]+e[s>>12&63]+e[s>>6&63]+e[63&s];return 1==a?(s=t.charCodeAt(r++),n[o++]="".concat(e[s>>2]+e[(3&s)<<4],"==")):2==a&&(s=t.charCodeAt(r++)<<8|t.charCodeAt(r++),n[o++]="".concat(e[s>>10]+e[s>>4&63]+e[(15&s)<<2],"=")),n.join("")})),void 0===t.atob&&(t.atob=(n=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],function(t){var e,r,o,i,a,c,s,u,l,f;if((s=t.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(t))return"";for(l=s,(u="="==t.charAt(s-2)?1:"="==t.charAt(s-1)?2:0)>0&&(l-=4),l=3*(l>>2)+u,f=new Array(l),a=c=0;a<s&&-1!=(e=n[t.charCodeAt(a++)])&&-1!=(r=n[t.charCodeAt(a++)])&&(f[c++]=String.fromCharCode(e<<2|(48&r)>>4),-1!=(o=n[t.charCodeAt(a++)]))&&(f[c++]=String.fromCharCode((15&r)<<4|(60&o)>>2),-1!=(i=n[t.charCodeAt(a++)]));)f[c++]=String.fromCharCode((3&o)<<6|i);return f.join("")}));var r=2654435769;function o(t,e){var n=t.length,r=n<<2;if(e){var o=t[n-1];if(o<(r-=4)-3||o>r)return null;r=o}for(var i=0;i<n;i++)t[i]=String.fromCharCode(255&t[i],t[i]>>>8&255,t[i]>>>16&255,t[i]>>>24&255);var a=t.join("");return e?a.substring(0,r):a}function i(t,e){var n,r=t.length,o=r>>2;0!=(3&r)&&++o,e?(n=new Array(o+1))[o]=r:n=new Array(o);for(var i=0;i<r;++i)n[i>>2]|=t.charCodeAt(i)<<((3&i)<<3);return n}function a(t){return 4294967295&t}function c(t,e,n,r,o,i){return(n>>>5^e<<2)+(e>>>3^n<<4)^(t^e)+(i[3&r^o]^n)}function s(t){return t.length<4&&(t.length=4),t}function u(t){if(/^[\x00-\x7f]*$/.test(t))return t;for(var e=[],n=t.length,r=0,o=0;r<n;++r,++o){var i=t.charCodeAt(r);if(i<128)e[o]=t.charAt(r);else if(i<2048)e[o]=String.fromCharCode(192|i>>6,128|63&i);else{if(!(i<55296||i>57343)){if(r+1<n){var a=t.charCodeAt(r+1);if(i<56320&&a>=56320&&a<=57343){var c=65536+((1023&i)<<10|1023&a);e[o]=String.fromCharCode(240|c>>18&63,128|c>>12&63,128|c>>6&63,128|63&c),++r;continue}}throw new Error("Malformed string")}e[o]=String.fromCharCode(224|i>>12,128|i>>6&63,128|63&i)}}return e.join("")}function l(t,e){return(null==e||e<0)&&(e=t.length),0===e?"":/^[\x00-\x7f]*$/.test(t)||!/^[\x00-\xff]*$/.test(t)?e===t.length?t:t.substr(0,e):e<65535?function(t,e){for(var n=new Array(e),r=0,o=0,i=t.length;r<e&&o<i;r++){var a=t.charCodeAt(o++);switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[r]=a;break;case 12:case 13:if(!(o<i))throw new Error("Unfinished UTF-8 octet sequence");n[r]=(31&a)<<6|63&t.charCodeAt(o++);break;case 14:if(!(o+1<i))throw new Error("Unfinished UTF-8 octet sequence");n[r]=(15&a)<<12|(63&t.charCodeAt(o++))<<6|63&t.charCodeAt(o++);break;case 15:if(!(o+2<i))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&a)<<18|(63&t.charCodeAt(o++))<<12|(63&t.charCodeAt(o++))<<6|63&t.charCodeAt(o++))-65536;if(!(c>=0&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x".concat(c.toString(16)));n[r++]=c>>10&1023|55296,n[r]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x".concat(a.toString(16)))}}return r<e&&(n.length=r),String.fromCharCode.apply(String,n)}(t,e):function(t,e){for(var n=[],r=new Array(32768),o=0,i=0,a=t.length;o<e&&i<a;o++){var c=t.charCodeAt(i++);switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[o]=c;break;case 12:case 13:if(!(i<a))throw new Error("Unfinished UTF-8 octet sequence");r[o]=(31&c)<<6|63&t.charCodeAt(i++);break;case 14:if(!(i+1<a))throw new Error("Unfinished UTF-8 octet sequence");r[o]=(15&c)<<12|(63&t.charCodeAt(i++))<<6|63&t.charCodeAt(i++);break;case 15:if(!(i+2<a))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&c)<<18|(63&t.charCodeAt(i++))<<12|(63&t.charCodeAt(i++))<<6|63&t.charCodeAt(i++))-65536;if(!(s>=0&&s<=1048575))throw new Error("Character outside valid Unicode range: 0x".concat(s.toString(16)));r[o++]=s>>10&1023|55296,r[o]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x".concat(c.toString(16)))}if(o>=32766){var u=o+1;r.length=u,n[n.length]=String.fromCharCode.apply(String,r),e-=u,o=-1}}return o>0&&(r.length=o,n[n.length]=String.fromCharCode.apply(String,r)),n.join("")}(t,e)}function f(t,e){return null==t||0===t.length?t:(t=u(t),e=u(e),o(function(t,e){var n,o,i,s,u,l,f=t.length,d=f-1;for(o=t[d],i=0,l=0|Math.floor(6+52/f);l>0;--l){for(s=(i=a(i+r))>>>2&3,u=0;u<d;++u)n=t[u+1],o=t[u]=a(t[u]+c(i,n,o,u,s,e));n=t[0],o=t[d]=a(t[d]+c(i,n,o,d,s,e))}return t}(i(t,!0),s(i(e,!1))),!1))}function d(t,e){return null==t||0===t.length?t:(e=u(e),l(o(function(t,e){var n,o,i,s,u,l=t.length,f=l-1;for(n=t[0],i=a(Math.floor(6+52/l)*r);0!==i;i=a(i-r)){for(s=i>>>2&3,u=f;u>0;--u)o=t[u-1],n=t[u]=a(t[u]-c(i,n,o,u,s,e));o=t[f],n=t[0]=a(t[0]-c(i,n,o,0,s,e))}return t}(i(t,!1),s(i(e,!1))),!0)))}t.XXTEA={utf8Encode:u,utf8Decode:l,encrypt:f,encryptToBase64:function(e,n){return t.btoa(f(e,n))},decrypt:d,decryptFromBase64:function(e,n){return null==e||0===e.length?e:d(t.atob(e),n)}}}(window)},a262:function(t,e,n){"use strict";var r=n("7067");e.a={methods:{activityHandle:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(r.a)(t,e,n)}}}},d863:function(t,e,n){"use strict";n("a481");var r=n("7067");e.a={data:function(){return{redirect:""}},created:function(){this.redirect=decodeURIComponent(this.$route.fullPath)},methods:{afterLogin:function(){var t=this,e=this.$route.query.redirect?decodeURIComponent(this.$route.query.redirect):"/",n=this.$route.query.skipUrl?decodeURIComponent(this.$route.query.skipUrl):"",o=this.$route.query.callbackType,i=this.$route.query.activityId,a=decodeURIComponent(this.$route.query.callback);setTimeout((function(){if(o)switch(o){case"marketing":Object(r.a)(i,a)}else n?t.$router.replace({path:e,query:{backUrl:n}}):t.$router.replace({path:e})}),2e3)}}}},f13d:function(t,e,n){"use strict";var r=n("75fc"),o=(n("e7e5"),n("d399")),i=n("db72"),a=(n("c5f6"),n("3ce7")),c={props:{tips:{type:String,default:"拖动左边滑块完成上方拼图"},limitType:{type:String,default:""}},data:function(){return{imgInfo:{url:"",jigsaw:"",token:""},dragState:{left:0,width:0,currentX:0,currentLeft:0,btnWidth:0,maskWidth:0},dragToEnd:!1}},created:function(){this.initDragCaptcha()},mounted:function(){var t=this.$refs.bar,e=this.$refs.dragBtn,n=(this.$refs.drag,t.getBoundingClientRect());Object.assign(this.dragState,{left:Number(n.left.toFixed(2)),width:t.clientWidth,btnWidth:e.offsetWidth/2})},methods:{initDragCaptcha:function(){var t=this,e={};this.limitType&&(e={limitType:this.limitType}),a.a.dragCaptcha({data:e}).then((function(e){t.imgInfo=Object(i.a)({},e),Object.assign(t.dragState,{currentLeft:0,maskWidth:0}),t.dragToEnd=!1})).catch((function(t){o.a.fail(t.message)}))},handletTouchEnd:function(){var t=this;if(!this.dragToEnd&&this.dragState.currentLeft){var e=this.getToken();this.dragToEnd=!0,a.a.dragValidate({query:{token:e}}).then((function(n){o.a.success("验证成功"),t.$emit("success",e)})).catch((function(e){o.a.fail(e.message),t.initDragCaptcha()}))}},handleTouchMove:function(t){if(!this.dragToEnd){t.preventDefault();var e=this.$refs.dragBtn,n=(this.$refs.dragImgBg,this.dragState),r=t.clientX?t.clientX.toFixed(2):t.targetTouches[0].pageX.toFixed(2)-this.$refs.drag.offsetLeft,o=(r-n.left-n.btnWidth).toFixed(2);o<0&&(o=0),r>n.width+this.$refs.drag.offsetLeft&&(o=n.width-this.$refs.dragImg.width),Object.assign(this.dragState,{currentLeft:o,maskWidth:(Number(o)+e.offsetWidth/2).toFixed(2)})}},calPositionX:function(){var t=this.$refs.dragImgBg,e=(t.naturalWidth/t.width).toFixed(2);return(Number(this.dragState.currentLeft).toFixed(2)*e).toFixed(2)},getToken:function(){var t={token:this.imgInfo.token,captcha:this.calPositionX()};return Object(r.a)(btoa(JSON.stringify(t))).reverse().join("")}}},s=n("0c7c"),u=Object(s.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"drag",staticClass:"e-drag"},[n("div",{staticClass:"e-drag-section"},[n("div",{staticClass:"e-drag-img"},[n("img",{ref:"dragImgBg",attrs:{src:t.imgInfo.url,alt:""}}),n("img",{ref:"dragImg",staticClass:"e-drag-img__dragable",style:{left:t.dragState.currentLeft+"px"},attrs:{src:t.imgInfo.jigsaw,alt:""}})]),n("div",{ref:"bar",staticClass:"e-drag-bar"},[n("span",[t._v(t._s(t.tips))]),n("div",{staticClass:"e-drag-bar__mask",style:{width:t.dragState.maskWidth+"px"}}),n("div",{ref:"dragBtn",staticClass:"e-drag-btn",style:{left:t.dragState.currentLeft+"px"},on:{touchend:t.handletTouchEnd,touchmove:t.handleTouchMove}},[n("img",{attrs:{src:"static/images/drag.png",alt:""}})])])])])}),[],!1,null,null,null);e.a=u.exports}}]);