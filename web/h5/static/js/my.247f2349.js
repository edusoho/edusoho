(window.webpackJsonp=window.webpackJsonp||[]).push([["my"],{"4eb5":function(t,e,i){var r=i("6981"),n={autoSetContainer:!1,appendToBody:!0},o={install:function(t){t.prototype.$clipboardConfig=n,t.prototype.$copyText=function(t,e){return new Promise((function(i,o){var s=document.createElement("button"),a=new r(s,{text:function(){return t},action:function(){return"copy"},container:"object"==typeof e?e:document.body});a.on("success",(function(t){a.destroy(),i(t)})),a.on("error",(function(t){a.destroy(),o(t)})),n.appendToBody&&document.body.appendChild(s),s.click(),n.appendToBody&&document.body.removeChild(s)}))},t.directive("clipboard",{bind:function(t,e,i){if("success"===e.arg)t._vClipboard_success=e.value;else if("error"===e.arg)t._vClipboard_error=e.value;else{var o=new r(t,{text:function(){return e.value},action:function(){return"cut"===e.arg?"cut":"copy"},container:n.autoSetContainer?t:void 0});o.on("success",(function(e){var i=t._vClipboard_success;i&&i(e)})),o.on("error",(function(e){var i=t._vClipboard_error;i&&i(e)})),t._vClipboard=o}},update:function(t,e){"success"===e.arg?t._vClipboard_success=e.value:"error"===e.arg?t._vClipboard_error=e.value:(t._vClipboard.text=function(){return e.value},t._vClipboard.action=function(){return"cut"===e.arg?"cut":"copy"})},unbind:function(t,e){"success"===e.arg?delete t._vClipboard_success:"error"===e.arg?delete t._vClipboard_error:(t._vClipboard.destroy(),delete t._vClipboard)}})},config:n};t.exports=o},"5ede":function(t,e,i){"use strict";var r=i("240b");e.a={beforeRouteEnter:function(t,e,i){r.a.state.token?i():i({name:"prelogin",query:{redirect:t.fullPath}})}}},6981:function(t,e,i){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
t.exports=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=c(i(1)),s=c(i(3)),a=c(i(4));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(i),r.listenClick(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),n(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===r(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,a.default)(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return e.forEach((function(t){i=i&&!!document.queryCommandSupported(t)})),i}}]),e}();function l(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}t.exports=u},function(t,e,i){"use strict";var r,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=i(2),a=(r=s)&&r.__esModule?r:{default:r},c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":n(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=c},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),n=document.createRange();n.selectNodeContents(t),r.removeAllRanges(),r.addRange(n),e=r.toString()}return e}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var r=this;function n(){r.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),r=0,n=i.length;r<n;r++)i[r].fn.apply(i[r].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),r=i[t],n=[];if(r&&e)for(var o=0,s=r.length;o<s;o++)r[o].fn!==e&&r[o].fn._!==e&&n.push(r[o]);return n.length?i[t]=n:delete i[t],this}},t.exports=i},function(t,e,i){var r=i(5),n=i(6);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(i))throw new TypeError("Third argument must be a Function");if(r.node(t))return f=e,p=i,(d=t).addEventListener(f,p),{destroy:function(){d.removeEventListener(f,p)}};if(r.nodeList(t))return c=t,u=e,l=i,Array.prototype.forEach.call(c,(function(t){t.addEventListener(u,l)})),{destroy:function(){Array.prototype.forEach.call(c,(function(t){t.removeEventListener(u,l)}))}};if(r.string(t))return o=t,s=e,a=i,n(document.body,o,s,a);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,s,a,c,u,l,d,f,p}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var i=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){var r=i(7);function n(t,e,i,n,o){var s=function(t,e,i,n){return function(i){i.delegateTarget=r(i.target,e),i.delegateTarget&&n.call(t,i)}}.apply(this,arguments);return t.addEventListener(i,s,o),{destroy:function(){t.removeEventListener(i,s,o)}}}t.exports=function(t,e,i,r,o){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof i?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return n(t,e,i,r,o)})))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])},7067:function(t,e,i){"use strict";i("e17f");var r=i("2241"),n=(i("e7e5"),i("d399")),o=i("a026"),s=i("3ce7"),a=i("4eb5"),c=i.n(a);o.a.use(c.a);var u=/micromessenger/.test(navigator.userAgent.toLowerCase());e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||i&&!e)n.a.fail("缺少分享参数");else{var a={domainUri:location.origin,itemUri:"",source:"h5"};s.a.marketingActivities({query:{activityId:t},data:a}).then((function(t){var s=-1!==t.url.indexOf("?")?"&":"?",a=i?"".concat(e).concat(s,"ticket=").concat(t.ticket):t.url;u?window.location.href=a:r.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{o.a.prototype.$copyText(a).then((function(){n.a.success("复制成功")}),(function(){n.a.fail("请更换浏览器复制")}))}catch(t){n.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(t){n.a.fail(t.message)}))}}},8807:function(t,e,i){"use strict";i("a481"),i("ac6a"),i("456d"),i("7f7f"),i("c5f6"),i("8e6e");var r=i("bd86"),n=i("2f62");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var s={props:{type:{type:String,default:"price"},course:{type:Object,default:{}},order:{type:Object,default:{}}},data:function(){return{isFree:0==this.course.price}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(i,!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(n.d)(["courseSettings"]),{rate:function(){return parseInt(this.course.publishedTaskNum)?parseInt(this.course.progress.percent):0},showStudent:function(){return!this.courseSettings||Number(this.courseSettings.show_student_num_enabled)}}),filters:{numFilter:function(t){return t?parseFloat(t).toFixed(2):""}},methods:{goToPay:function(){this.$router.push({path:"/pay",query:{id:this.order.id,source:"order",sn:this.order.sn,targetId:this.order.targetId,targetType:this.order.targetType}})}}},a=i("2877"),c={components:{switchBox:Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"e-course-switch-box"},["price"===t.type?i("div",{staticClass:"switch-box"},[i("span",{staticClass:"switch-box__price"},[t.isFree?i("p",{staticClass:"free"},[t._v("免费")]):t._e(),t.isFree?t._e():i("p",{staticClass:"price"},[t._v("¥ "+t._s(t.course.price))])]),i("span",{staticClass:"switch-box__state"},[t.showStudent?i("p",[t._v(t._s(t.course.studentNum)+"人在学")]):t._e()])]):t._e(),"order"===t.type?i("div",{staticClass:"switch-box"},[i("span",{staticClass:"switch-box__price"},[t.isFree?i("p",{staticClass:"free"},[t._v("免费")]):t._e(),t.isFree?t._e():i("p",{staticClass:"price"},[t._v("¥ "+t._s(t.order.pay_amount/100))])]),i("span",{staticClass:"switch-box__state"},["created"!==t.order.status&&"paying"!==t.order.status?i("p",{class:t.order.status},[t._v("\n        "+t._s(t._f("filterOrderStatus")(t.order.status))+"\n      ")]):t._e(),"created"===t.order.status||"paying"===t.order.status?i("span",{staticClass:"order-pay",on:{click:t.goToPay}},[t._v(t._s(t._f("filterOrderStatus")(t.order.status)))]):t._e()])]):t._e(),"confirmOrder"===t.type?i("div",{staticClass:"switch-box"},[i("span",{staticClass:"switch-box__price"},[i("p",{staticClass:"price"},[t._v("¥ "+t._s(t._f("numFilter")(t.order.totalPrice)))])])]):t._e(),"rank"===t.type?i("div",{staticClass:"rank-box"},[i("div",{staticClass:"progress round-conner"},[i("div",{staticClass:"curRate round-conner",style:{width:t.rate+"%"}})]),i("span",[t._v(t._s(this.rate)+"%")])]):t._e()])}),[],!1,null,null,null).exports},props:{course:{type:Object,default:function(){return{}}},order:{type:Object,default:function(){return{}}},type:{type:String,default:"price"},feedback:{type:Boolean,default:!0},typeList:{type:String,default:"course_list"},duration:{type:Number,default:0}},data:function(){return{pathName:this.$route.name}},computed:{imgSrc:function(){if("classroom_list"===this.typeList)return this.course.cover.middle;var t=this.course.courseSet;return t?t.cover.middle:this.order.cover.middle},title:function(){return"classroom_list"===this.typeList?this.course.title:this.course.courseSetTitle||(this.course.courseSet?this.course.courseSet.title:"")||this.order.title},teachPlan:function(){return!!this.course.title&&this.course.title},imgClass:function(){return"classroom_list"===this.typeList?"e-class__img":"vip"===this.typeList?"e-vip__img":"e-course__img"},vipDuration:function(){return"month"===this.order.unitType?"".concat(this.duration,"个月"):"year"===this.order.unitType?"".concat(this.duration,"年"):"".concat(this.duration,"天")}},watch:{course:{handler:function(t){var e=t.courseSet;if("miniprogramSetting"===this.pathName&&e)for(var i=Object.keys(e.cover),r=0;r<i.length;r++)e.cover[i[r]]=e.cover[i[r]].replace(/^(\/\/)|(http:\/\/)/,"https://")},immediate:!0}},methods:{onClick:function(t){if(this.feedback&&"vip"!==this.typeList){var e="order"===this.type,i=this.course.id||this.order.targetId;"SPAN"!==t.target.tagName&&(e?location.href=this.order.targetUrl:this.$router.push({path:"course_list"===this.typeList?"/course/".concat(i):"/classroom/".concat(i)}))}}}},u=Object(a.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"e-course"},[i("div",{staticClass:"clearfix",on:{click:t.onClick}},[i("div",{staticClass:"e-course__left pull-left"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgSrc,expression:"imgSrc"}],class:t.imgClass})]),i("div",{staticClass:"e-course__right pull-left"},["confirmOrder"===t.type?i("div",{staticClass:"e-course__title course-confirm-title"},[t._v("\n        "+t._s(t.title)),"vip"===t.typeList?i("span",{staticClass:"grey-medium"},[t._v(" x "+t._s(t.vipDuration))]):t._e()]):i("div",[i("div",{staticClass:"e-course__title text-overflow"},[t._v(t._s(t.title))]),"classroom_list"===t.typeList?i("div",{staticClass:"e-course__count"},[t._v("\n          共 "+t._s(t.course.courseNum)+" 门课程\n        ")]):t._e(),"course_list"===t.typeList?i("div",{staticClass:"e-course__project text-overflow"},[t.teachPlan?i("span",[t._v(t._s(t.teachPlan))]):t._e()]):t._e()]),i("switchBox",{attrs:{type:t.type,course:t.course,order:t.order,"student-num":t.course.studentNum,"published-task-num":t.course.publishedTaskNum}})],1)])])}),[],!1,null,null,null);e.a=u.exports},a262:function(t,e,i){"use strict";var r=i("7067");e.a={methods:{activityHandle:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(r.a)(t,e,i)}}}},b864:function(t,e,i){"use strict";i.r(e),i("8e6e"),i("ac6a"),i("456d");var r=i("bd86"),n=(i("e7e5"),i("d399")),o=i("75fc"),s=i("8807"),a=i("3ce7"),c={components:{eCourse:s.a},data:function(){return{list:[],isFirstRequestCompile:!1,loading:!1,finished:!1,offset:0}},created:function(){},methods:{onLoad:function(){var t=this,e={offset:this.offset};a.a.getMyOrder({params:e}).then((function(e){var i=e.data,r=e.paging;t.isFirstRequestCompile=!0,t.list=[].concat(Object(o.a)(t.list),Object(o.a)(i)),t.offset=t.list.length,t.list.length==r.total&&(t.finished=!0),t.loading=!1})).catch((function(e){n.a.fail(e.message),t.isFirstRequestCompile=!0,t.loading=!1}))}}},u=i("2877"),l=Object(u.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orders"},[0===t.list.length&&t.isFirstRequestCompile?i("div",{staticClass:"orders-container__empty"},[i("img",{attrs:{src:"static/images/orderEmpty.png"}}),i("span",[t._v("暂无订单记录")])]):i("div",{staticClass:"order"},[i("van-list",{staticClass:"tab-list",attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return i("e-course",{key:t.id,attrs:{order:t,"type-list":t.targetType,type:"order"}})})),1)],1)])}),[],!1,null,null,null).exports,d=(i("c5f6"),i("a262")),f={cut:"砍价",groupon:"拼团",seckill:"秒杀"},p={cut:"砍",groupon:"团",seckill:"秒"},v={successed:"成功",ongoing:"中",failed:"失败"},h={name:"ActivityItem",mixins:[d.a],props:{activity:{type:Object,default:function(){return{}}}},data:function(){return{type2symbol:p,type2label:f,status2label:v,activityId:Number(this.activity.activityId)}},methods:{viewDetail:function(t){}}},y={components:{activityItem:Object(u.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"marketing-groupon activity-cell",on:{click:t.viewDetail}},[i("div",{staticClass:"activity-cell__head"},[i("span",{staticClass:"head-left",class:t.activity.type},[t._v(t._s(t.type2symbol[t.activity.type]))]),i("span",{staticClass:"head-right",class:t.activity.status},[t._v(t._s(t.type2label[t.activity.type]+t.status2label[t.activity.status]))])]),i("div",{staticClass:"activity-cell__body",on:{click:function(e){return t.activityHandle(t.activityId)}}},[i("div",{staticClass:"marketing-groupon__image-container",class:{"marketing-groupon__image-empty":!t.activity.cover}},[t.activity.cover?i("img",{staticClass:"marketing-groupon__image",attrs:{src:t.activity.cover}}):t._e()]),i("div",{staticClass:"marketing-groupon__context e-groupon__context"},[i("div",{staticClass:"context-title text-overflow"},[t._v(t._s(t.activity.name))]),i("div",{staticClass:"context-sale"},[t.activity.price?i("span",{staticClass:"context-sale__sale-price"},[t._v(t._s(t.activity.price)+"元")]):t._e(),t.activity.originPrice?i("span",{staticClass:"context-sale__origin-price"},[t._v(t._s(t.activity.originPrice)+"元")]):t._e(),i("span",{staticClass:"context-sale__shopping"},[t._v(t._s(t.type2label[t.activity.type])+"详情")])])])])])}),[],!1,null,"3fa10c57",null).exports},data:function(){return{list:[],isFirstRequestCompile:!1,loading:!1,finished:!1,offset:0}},mounted:function(){this.onLoad()},methods:{onLoad:function(){var t=this,e={offset:this.offset};a.a.myActivities({params:e}).then((function(e){var i=e.data,r=e.paging;t.isFirstRequestCompile=!0,t.list=[].concat(Object(o.a)(t.list),Object(o.a)(i)),t.offset=t.list.length,t.list.length==r.total&&(t.finished=!0),t.loading=!1})).catch((function(e){n.a.fail(e.message),t.isFirstRequestCompile=!0,t.loading=!1}))}}},m=Object(u.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orders"},[0===t.list.length&&t.isFirstRequestCompile?i("div",{staticClass:"orders-container__empty"},[i("img",{attrs:{src:"static/images/orderEmpty.png"}}),i("span",[t._v("暂无活动记录")])]):i("div",{staticClass:"activity"},[i("van-list",{staticClass:"tab-list",attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return i("activity-item",{key:e,attrs:{activity:t}})})),1)],1)])}),[],!1,null,null,null).exports,g=i("2f62");function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(i,!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var C={computed:_({},Object(g.d)(["user","vipSwitch"]),{vipDated:function(){if(!this.user.vip)return!1;var t=new Date(this.user.vip.deadline).getTime();return(new Date).getTime()>t}}),created:function(){this.getUserInfo()},methods:_({},Object(g.b)(["getUserInfo"]))};function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}var k={components:{Orders:l,activity:m,User:Object(u.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user"},[i("div",{staticClass:"user-section clearfix"},[i("router-link",{attrs:{to:"/settings"}},[t.user.avatar?i("img",{staticClass:"user-img",attrs:{src:t.user.avatar.large}}):t._e()]),i("div",{class:["user-middle",t.vipSwitch?"":"single-middle"]},[i("div",{staticClass:"user-name"},[t._v(t._s(t.user.nickname))]),t.vipSwitch?i("div",[t.user.vip?i("span",{staticClass:"user-vip"},[i("router-link",{attrs:{to:{path:"/vip",query:{id:t.user.vip.levelId}}}},[i("img",{class:["vip-img",t.vipDated?"vip-expired":""],attrs:{src:t.user.vip.icon}}),t.vipDated?i("span",{staticClass:"grey text-overflow vip-name"},[t._v(t._s(t.user.vip.vipName)+"已过期，"),i("span",{staticClass:"color-primary"},[t._v("重新开通")])]):i("span",{staticClass:"color-primary"},[t._v(t._s(t.user.vip.vipName))])])],1):i("div",[i("router-link",{staticClass:"user-vip",attrs:{to:"/vip"}},[t._v("\n            您还不是会员，"),i("span",{staticClass:"color-primary"},[t._v("去开通")])])],1)]):t._e()]),i("router-link",{staticClass:"user-setting",attrs:{to:"/settings"}},[i("img",{attrs:{src:"static/images/setting.png"}})])],1)])}),[],!1,null,null,null).exports},mixins:[i("5ede").a],data:function(){return{activeIndex:0,tabs:["我的订单","我的活动"],hasBusinessDrainage:!1,isShowDistributorEntrance:!1,drpSetting:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(i,!0).forEach((function(e){Object(r.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(g.d)({isLoading:function(t){return t.isLoading}})),created:function(){var t=this;setTimeout((function(){window.scrollTo(0,0)}),100),a.a.hasPluginInstalled().then((function(e){t.hasBusinessDrainage=e.BusinessDrainage})),this.showDistributorEntrance(),this.getDrpSetting()},methods:{showDistributorEntrance:function(){var t=this;a.a.hasDrpPluginInstalled().then((function(e){e.Drp?t.getAgencyBindRelation():t.isShowDistributorEntrance=!1}))},getAgencyBindRelation:function(){var t=this;a.a.getAgencyBindRelation().then((function(e){e.agencyId?t.isShowDistributorEntrance=!0:t.isShowDistributorEntrance=!1}))},getDrpSetting:function(){var t=this;a.a.getDrpSetting().then((function(e){t.drpSetting=e}))}}},x=Object(u.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading?i("e-loading"):t._e(),i("user"),i("router-link",{attrs:{to:{name:"couponCovert"}}},[t.hasBusinessDrainage?i("div",{staticClass:"coupon-code-entrance"},[t._v("兑换卡券\n      "),i("i",{staticClass:"van-icon van-icon-arrow pull-right"})]):t._e()]),t.isShowDistributorEntrance?i("a",{attrs:{href:t.drpSetting.distributor_login_url}},[t._m(0)]):t._e(),i("van-tabs",{staticClass:"after-tabs e-learn",model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.tabs,(function(t,e){return i("van-tab",{key:e,attrs:{title:t}})})),1),i("orders",{directives:[{name:"show",rawName:"v-show",value:0===t.activeIndex,expression:"activeIndex === 0"}]}),i("activity",{directives:[{name:"show",rawName:"v-show",value:1===t.activeIndex,expression:"activeIndex === 1"}]})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"coupon-code-entrance"},[this._v("分销中心\n      "),e("i",{staticClass:"van-icon van-icon-arrow pull-right"})])}],!1,null,null,null);e.default=x.exports}}]);