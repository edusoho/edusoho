webpackJsonp([28],{"9cC2":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("eqfM");var i=s("/QYm"),n=s("Gu7T"),a=s.n(n),o=s("gyMJ"),r={name:"comment",components:{review:s("GK7I").a},data:function(){return{reviews:[],loading:!1,finished:!1,offset:0,ApiType:{course:"getCourseReviews",classroom:"getClassroomReviews"}}},created:function(){},computed:{isClass:function(){return"classroom"===this.type}},methods:{onLoad:function(){var e=this,t=this.$route.params.id,s=this.$route.query.type,n=this.ApiType;o.a[n[s]]({query:{id:t},params:{offset:this.offset}}).then(function(t){var s=t.data,i=t.paging,n=e.reviews,o=i.total;e.reviews=[].concat(a()(n),a()(s)),e.offset=e.reviews.length,e.reviews.length==o&&(e.finished=!0),e.loading=!1}).catch(function(t){i.a.fail(t.message),e.loading=!1})}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment"},[s("van-list",{staticStyle:{"margin-top":"0"},attrs:{finished:e.finished},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.reviews,function(t){return[s("review",{attrs:{isClass:e.isClass,review:t,disableMask:!1,timeFormat:"complete",course:t.course}})]})],2)],1)},staticRenderFns:[]},c=s("VU/8")(r,l,!1,null,null,null);t.default=c.exports}});