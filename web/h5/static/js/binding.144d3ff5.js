(window.webpackJsonp=window.webpackJsonp||[]).push([["binding"],{"3e19":function(e,t,r){"use strict";r.r(t),r("8e6e"),r("ac6a"),r("456d"),r("e7e5");var n=r("d399"),o=r("bd86"),i=(r("7f7f"),r("a262")),a=r("d863"),c=r("f13d"),s=r("2f62"),u=(r("8e6c"),r("7185"));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={binding:"绑定手机",register:"注册账号"},h={binding:"绑定",register:"注册"},g={binding:"请输入密码",register:"请设置密码（5-20位字符）"},p={components:{EDrag:c.a},mixins:[i.a,a.a],data:function(){return{registerInfo:{mobile:"",dragCaptchaToken:void 0,encrypt_password:"",smsCode:"",smsToken:"",type:"register"},dragEnable:!1,dragKey:0,errorMessage:{mobile:"",encrypt_password:""},validated:{mobile:!1,encrypt_password:!1},count:{showCount:!1,num:120,codeBtnDisable:!1},pathName:this.$route.name,registerType:f,btnType:h,placeHolder:g}},computed:d({},Object(s.d)({isLoading:function(e){return e.isLoading}}),{btnDisable:function(){return!(this.registerInfo.mobile&&this.registerInfo.encrypt_password&&this.registerInfo.smsCode)}}),methods:d({},Object(s.b)(["addUser","setMobile","sendSmsCenter","userLogin"]),{validateMobileOrPsw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mobile",t=this.registerInfo[e],r=u.a[e];if(0==t.length)return this.errorMessage[e]="",!1;this.errorMessage[e]=r.validator(t)?"":r.message},validatedChecker:function(){var e=this.registerInfo.mobile,t=u.a.mobile;this.validated.mobile=t.validator(e)},handleSmsSuccess:function(e){this.registerInfo.dragCaptchaToken=e,this.handleSendSms()},handleSubmit:function(){var e=this,t=Object.assign({},this.registerInfo),r=t.encrypt_password,o=t.mobile,i=window.XXTEA.encryptToBase64(r,window.location.host);t.encrypt_password=i,"binding"!==this.pathName?this.addUser(t).then((function(t){n.a.success({duration:2e3,message:"注册成功"}),e.afterLogin()})).then((function(){e.userLogin({password:r,username:o})})).catch((function(e){n.a.fail(e.message)})):this.setMobile({query:{mobile:o},data:{password:r,smsCode:t.smsCode,smsToken:t.smsToken}}).then((function(t){n.a.success({duration:2e3,message:"绑定成功"}),e.afterLogin()})).catch((function(e){n.a.fail(e.message)}))},clickSmsBtn:function(){this.dragEnable?this.$refs.dragComponent.dragToEnd?this.$refs.dragComponent.initDragCaptcha():Object(n.a)("请先完成拼图验证"):this.handleSendSms()},handleSendSms:function(){var e=this;this.sendSmsCenter(this.registerInfo).then((function(t){e.registerInfo.smsToken=t.smsToken,e.countDown(),e.dragEnable=!1})).catch((function(t){switch(t.code){case 4030301:case 4030302:e.dragKey++,e.registerInfo.dragCaptchaToken="",e.registerInfo.smsToken="",n.a.fail(t.message);break;case 4030303:e.dragEnable?n.a.fail(t.message):e.dragEnable=!0;break;default:n.a.fail(t.message)}}))},countDown:function(){var e=this;this.count.showCount=!0,this.count.codeBtnDisable=!0,this.count.num=120;var t=setInterval((function(){if(e.count.num<=0)return e.count.codeBtnDisable=!1,e.count.showCount=!1,void clearInterval(t);e.count.num--}),1e3)}})},m=r("0c7c"),b=Object(m.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[e.isLoading?r("e-loading"):e._e(),r("span",{staticClass:"register-title"},[e._v(e._s(e.registerType[e.pathName]))]),r("van-field",{attrs:{border:!1,"error-message":e.errorMessage.mobile,placeholder:"请输入手机号","max-length":"11"},on:{blur:function(t){return e.validateMobileOrPsw("mobile")},keyup:function(t){return e.validatedChecker()}},model:{value:e.registerInfo.mobile,callback:function(t){e.$set(e.registerInfo,"mobile",t)},expression:"registerInfo.mobile"}}),r("van-field",{attrs:{border:!1,"error-message":e.errorMessage.encrypt_password,placeholder:e.placeHolder[e.pathName],type:"password","max-length":"20"},on:{blur:function(t){return e.validateMobileOrPsw("encrypt_password")}},model:{value:e.registerInfo.encrypt_password,callback:function(t){e.$set(e.registerInfo,"encrypt_password",t)},expression:"registerInfo.encrypt_password"}}),e.dragEnable?r("e-drag",{key:e.dragKey,ref:"dragComponent",on:{success:e.handleSmsSuccess}}):e._e(),r("van-field",{attrs:{border:!1,type:"text",center:"",clearable:"","max-length":"6",placeholder:"请输入验证码"},model:{value:e.registerInfo.smsCode,callback:function(t){e.$set(e.registerInfo,"smsCode",t)},expression:"registerInfo.smsCode"}},[r("van-button",{attrs:{slot:"button",disabled:e.count.codeBtnDisable||!e.validated.mobile,size:"small",type:"primary"},on:{click:e.clickSmsBtn},slot:"button"},[e._v("\n      发送验证码\n      "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.count.showCount,expression:"count.showCount"}]},[e._v("("+e._s(e.count.num)+")")])])],1),r("van-button",{staticClass:"primary-btn mb20",attrs:{disabled:e.btnDisable,type:"default"},on:{click:e.handleSubmit}},[e._v(e._s(e.btnType[e.pathName]))])],1)}),[],!1,null,null,null);t.default=b.exports},"4eb5":function(e,t,r){var n=r("6981"),o={autoSetContainer:!1,appendToBody:!0},i={install:function(e){e.prototype.$clipboardConfig=o,e.prototype.$copyText=function(e,t){return new Promise((function(r,i){var a=document.createElement("button"),c=new n(a,{text:function(){return e},action:function(){return"copy"},container:"object"==typeof t?t:document.body});c.on("success",(function(e){c.destroy(),r(e)})),c.on("error",(function(e){c.destroy(),i(e)})),o.appendToBody&&document.body.appendChild(a),a.click(),o.appendToBody&&document.body.removeChild(a)}))},e.directive("clipboard",{bind:function(e,t,r){if("success"===t.arg)e._vClipboard_success=t.value;else if("error"===t.arg)e._vClipboard_error=t.value;else{var i=new n(e,{text:function(){return t.value},action:function(){return"cut"===t.arg?"cut":"copy"},container:o.autoSetContainer?e:void 0});i.on("success",(function(t){var r=e._vClipboard_success;r&&r(t)})),i.on("error",(function(t){var r=e._vClipboard_error;r&&r(t)})),e._vClipboard=i}},update:function(e,t){"success"===t.arg?e._vClipboard_success=t.value:"error"===t.arg?e._vClipboard_error=t.value:(e._vClipboard.text=function(){return t.value},e._vClipboard.action=function(){return"cut"===t.arg?"cut":"copy"})},unbind:function(e,t){"success"===t.arg?delete e._vClipboard_success:"error"===t.arg?delete e._vClipboard_error:(e._vClipboard.destroy(),delete e._vClipboard)}})},config:o};e.exports=i},6981:function(e,t,r){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(1)),a=s(r(3)),c=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(r),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===n(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,r=!!document.queryCommandSupported;return t.forEach((function(e){r=r&&!!document.queryCommandSupported(e)})),r}}]),t}();function l(e,t){var r="data-clipboard-"+e;if(t.hasAttribute(r))return t.getAttribute(r)}e.exports=u},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(2),c=(n=a)&&n.__esModule?n:{default:n},s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,c.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,c.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}},function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function o(){n.off(e,o),t.apply(r,arguments)}return o._=t,this.on(e,o,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=r.length;n<o;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],o=[];if(n&&t)for(var i=0,a=n.length;i<a;i++)n[i].fn!==t&&n[i].fn._!==t&&o.push(n[i]);return o.length?r[e]=o:delete r[e],this}},e.exports=r},function(e,t,r){var n=r(5),o=r(6);e.exports=function(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(e))return f=t,h=r,(d=e).addEventListener(f,h),{destroy:function(){d.removeEventListener(f,h)}};if(n.nodeList(e))return s=e,u=t,l=r,Array.prototype.forEach.call(s,(function(e){e.addEventListener(u,l)})),{destroy:function(){Array.prototype.forEach.call(s,(function(e){e.removeEventListener(u,l)}))}};if(n.string(e))return i=e,a=t,c=r,o(document.body,i,a,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,a,c,s,u,l,d,f,h}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var r=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,r){var n=r(7);function o(e,t,r,o,i){var a=function(e,t,r,o){return function(r){r.delegateTarget=n(r.target,t),r.delegateTarget&&o.call(e,r)}}.apply(this,arguments);return e.addEventListener(r,a,i),{destroy:function(){e.removeEventListener(r,a,i)}}}e.exports=function(e,t,r,n,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof r?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,r,n,i)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])},7067:function(e,t,r){"use strict";r("e17f");var n=r("2241"),o=(r("e7e5"),r("d399")),i=r("a026"),a=r("3ce7"),c=r("4eb5"),s=r.n(c);i.a.use(s.a);var u=/micromessenger/.test(navigator.userAgent.toLowerCase());t.a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||r&&!t)o.a.fail("缺少分享参数");else{var c={domainUri:location.origin,itemUri:"",source:"h5"};a.a.marketingActivities({query:{activityId:e},data:c}).then((function(e){var a=-1!==e.url.indexOf("?")?"&":"?",c=r?"".concat(t).concat(a,"ticket=").concat(e.ticket):e.url;u?window.location.href=c:n.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{i.a.prototype.$copyText(c).then((function(){o.a.success("复制成功")}),(function(){o.a.fail("请更换浏览器复制")}))}catch(e){o.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(e){o.a.fail(e.message)}))}}},"8e6c":function(e,t,r){"use strict";r("6b54"),r("28a5"),function(e){var t,r;void 0===e.btoa&&(e.btoa=(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(e){var r,n,o,i,a,c,s;for(n=o=0,i=e.length,c=(i-=a=i%3)/3<<2,a>0&&(c+=4),r=new Array(c);n<i;)s=e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<8|e.charCodeAt(n++),r[o++]=t[s>>18]+t[s>>12&63]+t[s>>6&63]+t[63&s];return 1==a?(s=e.charCodeAt(n++),r[o++]="".concat(t[s>>2]+t[(3&s)<<4],"==")):2==a&&(s=e.charCodeAt(n++)<<8|e.charCodeAt(n++),r[o++]="".concat(t[s>>10]+t[s>>4&63]+t[(15&s)<<2],"=")),r.join("")})),void 0===e.atob&&(e.atob=(r=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],function(e){var t,n,o,i,a,c,s,u,l,d;if((s=e.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(e))return"";for(l=s,(u="="==e.charAt(s-2)?1:"="==e.charAt(s-1)?2:0)>0&&(l-=4),l=3*(l>>2)+u,d=new Array(l),a=c=0;a<s&&-1!=(t=r[e.charCodeAt(a++)])&&-1!=(n=r[e.charCodeAt(a++)])&&(d[c++]=String.fromCharCode(t<<2|(48&n)>>4),-1!=(o=r[e.charCodeAt(a++)]))&&(d[c++]=String.fromCharCode((15&n)<<4|(60&o)>>2),-1!=(i=r[e.charCodeAt(a++)]));)d[c++]=String.fromCharCode((3&o)<<6|i);return d.join("")}));var n=2654435769;function o(e,t){var r=e.length,n=r<<2;if(t){var o=e[r-1];if(o<(n-=4)-3||o>n)return null;n=o}for(var i=0;i<r;i++)e[i]=String.fromCharCode(255&e[i],e[i]>>>8&255,e[i]>>>16&255,e[i]>>>24&255);var a=e.join("");return t?a.substring(0,n):a}function i(e,t){var r,n=e.length,o=n>>2;0!=(3&n)&&++o,t?(r=new Array(o+1))[o]=n:r=new Array(o);for(var i=0;i<n;++i)r[i>>2]|=e.charCodeAt(i)<<((3&i)<<3);return r}function a(e){return 4294967295&e}function c(e,t,r,n,o,i){return(r>>>5^t<<2)+(t>>>3^r<<4)^(e^t)+(i[3&n^o]^r)}function s(e){return e.length<4&&(e.length=4),e}function u(e){if(/^[\x00-\x7f]*$/.test(e))return e;for(var t=[],r=e.length,n=0,o=0;n<r;++n,++o){var i=e.charCodeAt(n);if(i<128)t[o]=e.charAt(n);else if(i<2048)t[o]=String.fromCharCode(192|i>>6,128|63&i);else{if(!(i<55296||i>57343)){if(n+1<r){var a=e.charCodeAt(n+1);if(i<56320&&a>=56320&&a<=57343){var c=65536+((1023&i)<<10|1023&a);t[o]=String.fromCharCode(240|c>>18&63,128|c>>12&63,128|c>>6&63,128|63&c),++n;continue}}throw new Error("Malformed string")}t[o]=String.fromCharCode(224|i>>12,128|i>>6&63,128|63&i)}}return t.join("")}function l(e,t){return(void 0===t||null===t||t<0)&&(t=e.length),0===t?"":/^[\x00-\x7f]*$/.test(e)||!/^[\x00-\xff]*$/.test(e)?t===e.length?e:e.substr(0,t):t<65535?function(e,t){for(var r=new Array(t),n=0,o=0,i=e.length;n<t&&o<i;n++){var a=e.charCodeAt(o++);switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r[n]=a;break;case 12:case 13:if(!(o<i))throw new Error("Unfinished UTF-8 octet sequence");r[n]=(31&a)<<6|63&e.charCodeAt(o++);break;case 14:if(!(o+1<i))throw new Error("Unfinished UTF-8 octet sequence");r[n]=(15&a)<<12|(63&e.charCodeAt(o++))<<6|63&e.charCodeAt(o++);break;case 15:if(!(o+2<i))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&a)<<18|(63&e.charCodeAt(o++))<<12|(63&e.charCodeAt(o++))<<6|63&e.charCodeAt(o++))-65536;if(!(c>=0&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x".concat(c.toString(16)));r[n++]=c>>10&1023|55296,r[n]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x".concat(a.toString(16)))}}return n<t&&(r.length=n),String.fromCharCode.apply(String,r)}(e,t):function(e,t){for(var r=[],n=new Array(32768),o=0,i=0,a=e.length;o<t&&i<a;o++){var c=e.charCodeAt(i++);switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n[o]=c;break;case 12:case 13:if(!(i<a))throw new Error("Unfinished UTF-8 octet sequence");n[o]=(31&c)<<6|63&e.charCodeAt(i++);break;case 14:if(!(i+1<a))throw new Error("Unfinished UTF-8 octet sequence");n[o]=(15&c)<<12|(63&e.charCodeAt(i++))<<6|63&e.charCodeAt(i++);break;case 15:if(!(i+2<a))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&c)<<18|(63&e.charCodeAt(i++))<<12|(63&e.charCodeAt(i++))<<6|63&e.charCodeAt(i++))-65536;if(!(s>=0&&s<=1048575))throw new Error("Character outside valid Unicode range: 0x".concat(s.toString(16)));n[o++]=s>>10&1023|55296,n[o]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x".concat(c.toString(16)))}if(o>=32766){var u=o+1;n.length=u,r[r.length]=String.fromCharCode.apply(String,n),t-=u,o=-1}}return o>0&&(n.length=o,r[r.length]=String.fromCharCode.apply(String,n)),r.join("")}(e,t)}function d(e,t){return void 0===e||null===e||0===e.length?e:(e=u(e),t=u(t),o(function(e,t){var r,o,i,s,u,l,d=e.length,f=d-1;for(o=e[f],i=0,l=0|Math.floor(6+52/d);l>0;--l){for(s=(i=a(i+n))>>>2&3,u=0;u<f;++u)r=e[u+1],o=e[u]=a(e[u]+c(i,r,o,u,s,t));r=e[0],o=e[f]=a(e[f]+c(i,r,o,f,s,t))}return e}(i(e,!0),s(i(t,!1))),!1))}function f(e,t){return void 0===e||null===e||0===e.length?e:(t=u(t),l(o(function(e,t){var r,o,i,s,u,l=e.length,d=l-1;for(r=e[0],i=a(Math.floor(6+52/l)*n);0!==i;i=a(i-n)){for(s=i>>>2&3,u=d;u>0;--u)o=e[u-1],r=e[u]=a(e[u]-c(i,r,o,u,s,t));o=e[d],r=e[0]=a(e[0]-c(i,r,o,0,s,t))}return e}(i(e,!1),s(i(t,!1))),!0)))}e.XXTEA={utf8Encode:u,utf8Decode:l,encrypt:d,encryptToBase64:function(t,r){return e.btoa(d(t,r))},decrypt:f,decryptFromBase64:function(t,r){return void 0===t||null===t||0===t.length?t:f(e.atob(t),r)}}}(window)},a262:function(e,t,r){"use strict";var n=r("7067");t.a={methods:{activityHandle:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(n.a)(e,t,r)}}}},d863:function(e,t,r){"use strict";r("a481");var n=r("7067");t.a={data:function(){return{redirect:""}},created:function(){this.redirect=decodeURIComponent(this.$route.fullPath)},methods:{afterLogin:function(){var e=this,t=this.$route.query.redirect?decodeURIComponent(this.$route.query.redirect):"/",r=this.$route.query.skipUrl?decodeURIComponent(this.$route.query.skipUrl):"",o=this.$route.query.callbackType,i=this.$route.query.activityId,a=decodeURIComponent(this.$route.query.callback);setTimeout((function(){if(o)switch(o){case"marketing":Object(n.a)(i,a)}else r?e.$router.replace({path:t,query:{backUrl:r}}):e.$router.replace({path:t})}),2e3)}}}},f13d:function(e,t,r){"use strict";r("8e6e"),r("ac6a"),r("456d");var n=r("75fc"),o=(r("e7e5"),r("d399")),i=r("bd86"),a=(r("c5f6"),r("3ce7"));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var s={props:{tips:{type:String,default:"拖动左边滑块完成上方拼图"},limitType:{type:String,default:""}},data:function(){return{imgInfo:{url:"",jigsaw:"",token:""},dragState:{left:0,width:0,currentX:0,currentLeft:0,btnWidth:0,maskWidth:0},dragToEnd:!1}},created:function(){this.initDragCaptcha()},mounted:function(){var e=this.$refs.bar,t=this.$refs.dragBtn,r=(this.$refs.drag,e.getBoundingClientRect());Object.assign(this.dragState,{left:Number(r.left.toFixed(2)),width:e.clientWidth,btnWidth:t.offsetWidth/2})},methods:{initDragCaptcha:function(){var e=this,t={};this.limitType&&(t={limitType:this.limitType}),a.a.dragCaptcha({data:t}).then((function(t){e.imgInfo=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),Object.assign(e.dragState,{currentLeft:0,maskWidth:0}),e.dragToEnd=!1})).catch((function(e){o.a.fail(e.message)}))},handletTouchEnd:function(){var e=this;if(!this.dragToEnd&&this.dragState.currentLeft){var t=this.getToken();this.dragToEnd=!0,a.a.dragValidate({query:{token:t}}).then((function(r){o.a.success("验证成功"),e.$emit("success",t)})).catch((function(t){o.a.fail(t.message),e.initDragCaptcha()}))}},handleTouchMove:function(e){if(!this.dragToEnd){e.preventDefault();var t=this.$refs.dragBtn,r=(this.$refs.dragImgBg,this.dragState),n=e.clientX?e.clientX.toFixed(2):e.targetTouches[0].pageX.toFixed(2)-this.$refs.drag.offsetLeft,o=(n-r.left-r.btnWidth).toFixed(2);o<0&&(o=0),n>r.width+this.$refs.drag.offsetLeft&&(o=r.width-this.$refs.dragImg.width),Object.assign(this.dragState,{currentLeft:o,maskWidth:(Number(o)+t.offsetWidth/2).toFixed(2)})}},calPositionX:function(){var e=this.$refs.dragImgBg,t=(e.naturalWidth/e.width).toFixed(2);return(Number(this.dragState.currentLeft).toFixed(2)*t).toFixed(2)},getToken:function(){var e={token:this.imgInfo.token,captcha:this.calPositionX()};return Object(n.a)(btoa(JSON.stringify(e))).reverse().join("")}}},u=r("0c7c"),l=Object(u.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"drag",staticClass:"e-drag"},[r("div",{staticClass:"e-drag-section"},[r("div",{staticClass:"e-drag-img"},[r("img",{ref:"dragImgBg",attrs:{src:e.imgInfo.url,alt:""}}),r("img",{ref:"dragImg",staticClass:"e-drag-img__dragable",style:{left:e.dragState.currentLeft+"px"},attrs:{src:e.imgInfo.jigsaw,alt:""}})]),r("div",{ref:"bar",staticClass:"e-drag-bar"},[r("span",[e._v(e._s(e.tips))]),r("div",{staticClass:"e-drag-bar__mask",style:{width:e.dragState.maskWidth+"px"}}),r("div",{ref:"dragBtn",staticClass:"e-drag-btn",style:{left:e.dragState.currentLeft+"px"},on:{touchend:e.handletTouchEnd,touchmove:e.handleTouchMove}},[r("img",{attrs:{src:"static/images/drag.png",alt:""}})])])])])}),[],!1,null,null,null);t.a=l.exports}}]);