(window.webpackJsonp=window.webpackJsonp||[]).push([["goods~old-goods"],{1919:function(t,e,s){},2164:function(t,e,s){"use strict";s("e17f");var i=s("2241");e.a={methods:{copyPcUrl:function(t){var e=this,s="暂不支持此类课程学习，请移步至APP或电脑「".concat(t,"」完成课程。");i.a.alert({title:"暂不支持",message:s,messageAlign:"left",confirmButtonText:"复制链接"}).then((function(){e.$copyText(t).then((function(t){console.log(t)}))}))}}}},"228a":function(t,e,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("6b54"),s("c5f6");var i=s("bd86"),n=s("2f62");function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var o={name:"SwiperDirectory",props:{item:{type:Array,default:function(){return[]}},slideIndex:{type:Number,default:0},hasChapter:{type:Boolean,default:!0}},data:function(){return{current:this.slideIndex||0}},computed:a(a({},Object(n.e)(["courseSettings"])),{},{swiperWidth:function(){var t=window.innerWidth;return t<=500?265:t/1.5}}),watch:{slideIndex:function(t,e){t!=e&&(this.current=t||0)}},methods:{changeChapter:function(t){this.current=t,this.$emit("changeChapter",t)},handleChapter:function(t){this.$refs.chapterSwipe.swipeTo(t)}}},c=s("a6c2"),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-directory goods-swiper-directory"},[s("van-swipe",{ref:"chapterSwipe",attrs:{"show-indicators":!1,loop:!1,touchable:!0,width:t.swiperWidth,"initial-swipe":t.slideIndex},on:{change:t.changeChapter}},t._l(t.item,(function(e,i){return s("van-swipe-item",{key:i},[0==e.isExist?s("div",{staticClass:"chapter nochapter",class:"swiper-directory-active",staticStyle:{margin:"0 4vw 0 0"},style:i==t.item.length-1&&"margin-right: 0;",on:{click:function(e){return t.handleChapter(i)}}},[s("i",{staticClass:"iconfont icon-wuzhangjieliang"}),t._v("\n        "+t._s(t.$t("goods.noChapter"))+"\n      ")]):t._e(),1==e.isExist?s("div",{staticClass:"chapter haschapter",class:[t.current===i?"swiper-directory-active":""],staticStyle:{margin:"0 4vw 0 0"},style:i==t.item.length-1&&"margin-right: 0;",on:{click:function(e){return t.handleChapter(i)}}},[s("p",{staticClass:"chapter-title text-overflow"},[t._v("\n          第"+t._s(e.number)+t._s(t.courseSettings.chapter_name?t.courseSettings.chapter_name:t.$t("courseLearning.chapter"))+"："+t._s(e.title)+"\n        ")]),s("p",{staticClass:"chapter-des text-overflow"},[t._v("\n          "+t._s(t.hasChapter?t.$t("goods.section2")+"("+e.unitNum+")":"")+" "+t._s(t.$t("goods.lesson"))+"("+t._s(e.lessonNum)+") "+t._s(t.$t("goods.learningTasks"))+"("+t._s(e.tasksNum)+")\n        ")])]):t._e()])})),1)],1)}),[],!1,null,null,null).exports;function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var d={name:"UtilDirectory",props:{util:{type:Object,default:function(){}}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(n.e)(["courseSettings"]))},p=Object(c.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return 1==t.util.isExist?s("div",{staticClass:"util-directory text-overflow"},[t._v("\n  第"+t._s(t.util.number)+t._s(t.courseSettings.part_name?t.courseSettings.part_name:t.$t("courseLearning.section2"))+"："+t._s(t.util.title)+"\n")]):t._e()}),[],!1,null,null,null).exports,h=(s("e7e5"),s("d399")),f=(s("6762"),s("d863")),m=s("2164"),g=s("faa5"),v=s("a556");function _(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function y(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var b={name:"LessonDirectory",mixins:[f.a,m.a],props:{lesson:{type:Array,default:function(){return[]}},errorMsg:{type:String,default:""},taskId:{type:Number,default:-1},taskNumber:{type:Number,default:-1},unitNum:{type:Number,default:-1},goods:{type:Object,default:function(){}}},data:function(){return{currentTask:""}},watch:{taskId:{handler:"getTaskId",immediate:!0},details:function(t){console.log(t)}},computed:y(y({},Object(n.e)("course",{details:function(t){return t.details},joinStatus:function(t){return t.joinStatus},selectedPlanId:function(t){return t.selectedPlanId}})),{},{hasLesson:function(){return this.lesson.length>0},isNoData:function(){return 0===this.taskNumber&&0===this.unitNum}}),mounted:function(){if(Object.keys(this.$route.query).length){var t=this.$route.query,e=t.sourceType,s=t.taskId;this.setSourceType({sourceType:e,taskId:s})}},methods:y(y({},Object(n.d)("course",{setSourceType:g.A})),{},{isFree:function(t){return!!Number(t.isFree)},isTry:function(t){return!this.isFree(t)&&!!(this.details.tryLookable&&Number(this.details.tryLookable)&&"video"===t.type&&t.activity.mediaStorage)},getTaskId:function(){this.currentTask=this.taskId},showPaddingY:function(t){return"2k"===t||"4k"===t},doubleLine:function(t){if(!t.isReplay&&t.type)return"live"===t.type},showTask:function(t,e){var s=!0;return null==t.mode&&0==e&&(s=!1),"lesson"==t.mode&&(s=!1),s},isCanLearn:function(t){var e,s,i,n,r,a;if("closed"==(null===(e=this.goods)||void 0===e||null===(s=e.product)||void 0===s||null===(i=s.target)||void 0===i?void 0:i.status)&&!this.goods.isMember)return this.$router.push("/goods/closed?type=".concat(this.goods.type)),!0;var o=["testpaper","homework","exercise"].includes(t.type),c=!t.result||"finish"!=t.result.status;return"unpublished"!==(null===(n=this.goods)||void 0===n||null===(r=n.product)||void 0===r||null===(a=r.target)||void 0===a?void 0:a.status)||!!o&&(!o||!c)},lessonCellClick:function(t){if(!this.isCanLearn(t))return Object(v.a)("course");if(this.errorMsg||"create"===t.status)this.$emit("showDialog");else{var e=this.details;if(!e.allowAnonymousPreview&&this.$router.push({name:"login",query:{redirect:this.redirect}}),this.joinStatus||!Number(t.isFree)&&!Number(e.tryLookable))this.joinStatus?this.showTypeDetail(t):Object(h.a)(this.$t("goods.pleaseJoinTheCourses"));else switch(t.type){case"video":case"audio":this.$router.push({name:"course_try"}),this.setSourceType({sourceType:t.type,taskId:t.id});break;case"doc":case"text":case"ppt":this.$router.push({name:"course_web",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type,preview:1}});break;default:return Object(h.a)(this.$t("goods.pleaseJoinTheCourses"))}}},showTypeDetail:function(t){if("published"===t.status)if(t.lock)Object(h.a)(this.$t("goods.needToUnlockThePreviousTask"));else switch(t.type){case"video":"self"===t.mediaSource?this.setSourceType({sourceType:"video",taskId:t.id}):Object(h.a)(this.$t("goods.doesNotSupportThisType"));break;case"audio":this.setSourceType({sourceType:"audio",taskId:t.id});break;case"text":case"ppt":case"doc":this.$router.push({name:"course_web",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type}});break;case"live":var e=!1;if(new Date>new Date(1e3*t.endTime)){if("videoGenerated"===t.activity.replayStatus)return void("self"===t.mediaSource?this.setSourceType({sourceType:"video",taskId:t.id}):Object(h.a)(this.$t("goods.doesNotSupportThisType")));if("ungenerated"===t.activity.replayStatus)return void Object(h.a)(this.$t("goods.noReplay"));e=!0}this.$router.push({name:"live",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type,title:t.title,replay:e}});break;case"testpaper":var s=t.activity.testpaperInfo.testpaperId;this.$router.push({name:"testpaperIntro",query:{testId:s,targetId:t.id}});break;case"homework":this.$router.push({name:"homeworkIntro",query:{courseId:this.$route.params.id,taskId:t.id}});break;case"exercise":this.$router.push({name:"exerciseIntro",query:{courseId:this.$route.params.id,taskId:t.id}});break;default:Object(h.a)(this.$t("goods.doesNotSupportThisType"))}else Object(h.a)(this.$t("goods.stayTuned"))},iconfont:function(t){var e=t.type;if(t.isReplay)return"icon-replay";switch(e){case"audio":return"icon-yinpin";case"doc":return"icon-wendang";case"exercise":return"icon-lianxi";case"flash":return"icon-flash";case"homework":return"icon-zuoye";case"live":return"icon-zhibo";case"ppt":return"icon-ppt";case"discuss":return"icon-taolun";case"testpaper":return"icon-kaoshi";case"text":return"icon-tuwen";case"video":return"icon-shipin";case"download":return"icon-xiazai";default:return""}},studyStatus:function(t){if(t.lock)return"icon-suo";if(null==t.result)return"icon-weixuexi";switch(t.result.status){case"finish":return"icon-yiwanchengliang";case"start":return"icon-weiwancheng";default:return""}},liveClass:function(t){return"published"!==t.status||"live"!==t.type?"nopublished":(new Date).getTime()>new Date(1e3*t.endTime)?"ungenerated"===t.activity.replayStatus?"end":"back":"play"}})};function k(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function x(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?k(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var C={name:"AfterjoinDirectory",components:{swiperDirectory:l,utilDirectory:p,lessonDirectory:Object(c.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.lesson,(function(e,i){return s("div",{key:i,staticClass:"lesson-directory",staticStyle:{"margin-left":"0",width:"100%","box-sizing":"border-box"}},[s("div",{staticClass:"lesson-title flex justify-between items-center relative px-12",class:{"py-16":t.showPaddingY(e.tasks[e.index].videoMaxLevel),"zb-ks":t.doubleLine(e.tasks[e.index])},attrs:{id:e.tasks[e.index].id},on:{click:function(s){return t.lessonCellClick(e.tasks[e.index],i,e.index)}}},[s("div",{staticClass:"lesson-title-r"},[s("div",{staticClass:"lesson-title-des"},[t.doubleLine(e.tasks[e.index])?t._e():s("div",{staticClass:"bl l22"},[s("span",{staticClass:"ks py-8",class:{lessonactive:t.currentTask==e.tasks[e.index].id},staticStyle:{display:"flex","align-items":"center"}},["2k"===e.tasks[e.index].videoMaxLevel?s("span",{staticClass:"px-8 text-white text-12 font-medium bg-black bg-opacity-80",staticStyle:{"padding-top":"3px","padding-bottom":"3px","line-height":"12px","border-bottom-left-radius":"8px","border-top-right-radius":"8px",height:"fit-content"}},[t._v("2K 优享")]):t._e(),"4k"===e.tasks[e.index].videoMaxLevel?s("span",{staticClass:"px-8 text-[#492F0B] text-12 font-medium bg-gradient-to-l from-[#F7D27B] to-[#FCEABE] mr-8 h-fit",staticStyle:{"padding-top":"3px","padding-bottom":"3px","line-height":"12px","border-bottom-left-radius":"8px","border-top-right-radius":"8px",height:"fit-content"}},[t._v("4K 臻享")]):t._e(),t.isTry(e.tasks[e.index])?s("span",{staticClass:"tryLes"},[t._v(t._s(t.$t("goods.preview")))]):t._e(),t.isFree(e.tasks[e.index])?s("span",{staticClass:"freeAdmission"},[t._v(t._s(t.$t("goods.free")))]):t._e(),s("i",{staticClass:"iconfont",class:t.iconfont(e.tasks[e.index])}),s("div",[t._v("\n              "+t._s(Number(e.tasks[e.index].isOptional)?"":t.$t("goods.lesson"))+t._s(Number(e.tasks[e.index].isOptional)?e.title:e.tasks[e.index].number+":"+e.title)+"\n              ")])])]),t.doubleLine(e.tasks[e.index])?s("div",{staticClass:"bl"},[s("div",{staticClass:"block-inline",staticStyle:{display:"flex","flex-direction":"column"}},[s("span",{staticClass:"bl ks",class:{lessonactive:t.currentTask==e.tasks[e.index].id}},[t.isTry(e.tasks[e.index])?s("span",{staticClass:"tryLes"},[t._v(t._s(t.$t("goods.preview")))]):t._e(),t.isFree(e.tasks[e.index])?s("span",{staticClass:"freeAdmission"},[t._v(t._s(t.$t("goods.free")))]):t._e(),s("i",{staticClass:"iconfont",class:t.iconfont(e.tasks[e.index])}),t._v("\n                "+t._s(Number(e.tasks[e.index].isOptional)?"":t.$t("goods.lesson"))+t._s(Number(e.tasks[e.index].isOptional)?e.title:e.tasks[e.index].number+":"+e.title)+"\n              ")]),s("span",{staticClass:"bl zbtime"},[s("span",{staticClass:"whitespace-nowrap",class:[t.liveClass(e.tasks[e.index])]},[t._v(t._s(t._f("filterTaskTime")(e.tasks[e.index])))])])])]):t._e()])]),s("div",{staticClass:"lesson-title-l"},[Number(e.tasks[e.index].isOptional)?s("span",{staticClass:"elective-tag"},[t._v("\n          "+t._s(t.$t("goods.optional"))+"\n        ")]):t._e(),"live"!=e.tasks[e.index].type?s("span",[t._v(t._s(t._f("filterTaskTime")(e.tasks[e.index])))]):t._e(),s("i",{staticClass:"iconfont",class:t.studyStatus(e.tasks[e.index])})])]),e.tasks.length>1?s("div",{staticClass:"lesson-items"},t._l(e.tasks,(function(e,n){return s("div",{key:n,attrs:{id:e.id},on:{click:function(s){return t.lessonCellClick(e,i,n)}}},[t.showTask(e,n)?s("div",{staticClass:"litem"},[s("div",{staticClass:"litem-r",class:{lessonactive:t.currentTask==Number(e.id)},staticStyle:{display:"flex"}},[t.isTry(e)?s("span",{staticClass:"tryLes"},[t._v(t._s(t.$t("goods.preview")))]):t._e(),t.isFree(e)?s("span",{staticClass:"freeAdmission"},[t._v(t._s(t.$t("goods.free")))]):t._e(),s("i",{staticClass:"iconfont",class:t.iconfont(e)}),s("div",[t._v("\n            "+t._s(Number(e.isOptional)?"":t.$t("goods.lesson"))+t._s(Number(e.isOptional)?e.title:e.number+":"+e.title)+"\n            ")])]),t.showTask(e,n)?s("div",{staticClass:"litem-l clearfix"},[s("span",{class:[t.liveClass(e)]},[t._v(t._s(t._f("filterTaskTime")(e)))]),s("i",{staticClass:"iconfont",class:t.studyStatus(e)})]):t._e()]):t._e()])})),0):t._e()])})),t.isNoData?s("div",{staticClass:"noneItem"},[s("img",{staticClass:"notask",attrs:{src:"static/images/none.png"}}),s("p",[t._v(t._s(t.$t("goods.thereIsNoClassYet")))])]):t._e()],2)}),[],!1,null,null,null).exports},props:{goods:{type:Object,default:function(){}}},data:function(){return{scroll:"",item:[],level:3,chapterNum:0,unitNum:0,lessonNum:0,currentChapter:0,currentUnit:0,currentLesson:0,slideIndex:0,taskId:null,nodata:!1,allTask:{},allTaskId:[]}},computed:x(x({},Object(n.e)("course",{nextStudy:function(t){return t.nextStudy},selectedPlanId:function(t){return t.selectedPlanId},OptimizationCourseLessons:function(t){return t.OptimizationCourseLessons},details:function(t){return t.details},taskStatus:function(t){return t.taskStatus}})),{},{hasChapter:function(){return this.chapterNum>0}}),watch:{nextStudy:{handler:"getNextStudy",immediate:!0},selectedPlanId:{handler:"processItem",immediate:!0,deep:!0},taskStatus:{handler:"changeTaskStatus",immediate:!1}},methods:{getNextStudy:function(){if(this.nextStudy.nextTask){this.taskId=Number(this.nextStudy.nextTask.id);var t=this.allTask[this.taskId];if(!t)return;this.hasChapter?this.slideIndex=t.chapterIndex:this.slideIndex=t.unitIndex}},processItem:function(t){var e=this.OptimizationCourseLessons;this.resetData(),e.length?(this.nodata=!1,this.setItems(e),this.mapChild(this.item),this.startScroll(),console.log(this.allTask),this.$store.commit("course/".concat(g.n),this.allTask)):this.nodata=!0},resetData:function(){this.chapterNum=0,this.unitNum=0,this.lessonNum=0},setItems:function(t){this.level=1===t.length&&0==t[0].isExist?2:3,1===t.length?this.item=2===this.level?t[0].children:t:t.length>1&&(this.item=t)},mapChild:function(t){var e=this;t.map((function(s,i){"chapter"===s.type?e.formatChapter(s,t,i):"unit"===s.type?e.formatUnit(s,t,i):"lesson"===s.type?e.formatLesson(s,t,i):e.formatTask(s,t,i)}))},startScroll:function(){var t=this;this.$nextTick((function(){if(t.taskId){var e=document.getElementById("progress-bar"),s=document.getElementById("swiper-directory"),i=document.getElementById(t.taskId);e&&e.offsetHeight,s&&s.offsetHeight;i&&i.offsetTop,document.documentElement.clientWidth}}))},formatChapter:function(t,e,s){this.currentChapter=s,t.chapterNum=0,t.unitNum=0,t.lessonNum=0,t.tasksNum=0,t.isExist&&(this.chapterNum+=1,this.computedNum(1,"chapterNum")),Array.isArray(t.children)&&t.children.length>0&&this.mapChild(t.children)},formatUnit:function(t,e,s){this.currentUnit=s,t.unitNum=0,t.lessonNum=0,t.tasksNum=0,t.isExist&&(this.unitNum+=1,this.computedNum(1,"unitNum")),Array.isArray(t.children)&&t.children.length>0&&(this.computedNum(t.children.length,"lessonNum"),this.mapChild(t.children))},formatLesson:function(t,e,s){this.currentLesson=s,t.isExist&&(this.lessonNum+=1),t.tasks&&(this.computedNum(t.tasks.length-1,"tasksNum"),this.mapChild(t.tasks))},formatTask:function(t,e,s){Number(t.id)===this.taskId&&(this.slideIndex=3==this.level?this.currentChapter:this.currentUnit),this.getLessonIndex(t,s),t.chapterIndex=this.currentChapter,t.unitIndex=this.currentUnit,t.LessonIndex=this.currentLesson,t.level=this.level,t.taskIndex=s,this.allTask[t.id]=x({},t),this.allTaskId.push(t.id)},getLessonIndex:function(t,e){t.mode?"lesson"===t.mode&&this.getMainTask(t,e):this.getMainTask(t,0)},getMainTask:function(t,e){3===this.level?this.$set(this.item[this.currentChapter].children[this.currentUnit].children[this.currentLesson],"index",e):this.$set(this.item[this.currentUnit].children[this.currentLesson],"index",e)},computedNum:function(t,e){var s=3===this.level?this.currentChapter:this.currentUnit,i=this.item[s][e]+t;this.$set(this.item[s],e,i)},changeChapter:function(t){this.slideIndex=t},changeTaskStatus:function(t){if(t){"finish"===t&&this.changeLockStatus();var e=this.allTask[this.taskId],s={};if(2===e.level){var i=this.item[e.unitIndex].children[e.LessonIndex].tasks[e.taskIndex];i.result?i.result.status=t:(s.status=t,i.result=s)}else{var n=this.item[e.chapterIndex].children[e.unitIndex].children[e.LessonIndex].tasks[e.taskIndex];n.result?n.result.status=t:(s.status=t,n.result=s)}}},changeLockStatus:function(){if("lockMode"===this.details.learnMode){var t=this.allTaskId.indexOf(this.taskId.toString());if(t<this.allTaskId.length-1){var e=this.allTaskId[t+1],s=this.allTask[e];2===s.level?this.item[s.unitIndex].children[s.LessonIndex].tasks[s.taskIndex].lock=!1:this.item[s.chapterIndex].children[s.unitIndex].children[s.LessonIndex].tasks[s.taskIndex].lock=!1}}}}},O=Object(c.a)(C,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"afterjoin-directory"},[t.lessonNum>0?s("div",[t.chapterNum>0||t.unitNum>0?s("swiper-directory",{attrs:{id:"swiper-directory",item:t.item,"slide-index":t.slideIndex,"has-chapter":t.hasChapter},on:{changeChapter:t.changeChapter}}):t._e(),t.item.length>0?s("div",{attrs:{id:"lesson-directory"}},[t.chapterNum>0?t._l(t.item[t.slideIndex].children,(function(e,i){return s("div",{key:i,staticClass:"pd-bo"},[s("util-directory",{attrs:{util:e}}),s("lesson-directory",t._g(t._b({attrs:{lesson:e.children,deatil:t.details,"task-id":t.taskId,"task-number":t.item[t.slideIndex].lessonNum,"unit-num":t.item[t.slideIndex].unitNum,goods:t.goods}},"lesson-directory",t.$attrs,!1),t.$listeners))],1)})):s("div",{staticClass:"pd-bo"},[s("lesson-directory",t._g(t._b({attrs:{lesson:t.item[t.slideIndex].children,"task-id":t.taskId,"task-number":t.item[t.slideIndex].lessonNum,"unit-num":t.item[t.slideIndex].unitNum,goods:t.goods}},"lesson-directory",t.$attrs,!1),t.$listeners))],1)],2):t._e()],1):t._e(),t.nodata&&0==t.lessonNum?s("div",{staticClass:"noneItem"},[s("img",{staticClass:"nodata",attrs:{src:"static/images/none.png"}}),s("p",[t._v(t._s(t.$t("goods.noCoursesYet")))])]):t._e()])}),[],!1,null,null,null);e.a=O.exports},"30fd":function(t,e,s){},"353b":function(t,e,s){"use strict";var i=s("30fd");s.n(i).a},"39ed":function(t,e,s){"use strict";var i={props:{title:{type:String,default:""},content:{type:String,default:""},isJoin:{type:Boolean,default:!1}}},n=(s("492f"),s("a6c2")),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"closed-tips"},[s("van-icon",{staticClass:"closed-icon",attrs:{name:"warning-o",color:"#FF7D00"}}),s("div",{staticClass:"ml-8 flex flex-col items-start"},[s("span",{staticClass:"title"},[t._v(t._s(t.title))]),t.isJoin?s("span",{staticClass:"content"},[t._v(t._s(t.content))]):t._e()])],1)}),[],!1,null,"784b42fe",null);e.a=r.exports},"492f":function(t,e,s){"use strict";var i=s("1919");s.n(i).a},"51a9":function(t,e,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("c5f6");var i=s("bd86"),n=(s("3b2b"),s("a481"),s("2f62")),r=s("3ce7");function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var c={data:function(){return{show:!1,marketingActivities:{},specs:{},currentSkus:{}}},mixins:[s("a262").a],props:{goods:{type:Object,default:function(){}},currentSku:{type:Object,default:function(){}}},methods:{gotoVip:function(){this.$router.push({path:"/vip",query:{id:this.currentSku.vipLevelInfo.id}})},showPopup:function(){this.goods&&1==this.goods.specs.length||(this.show=!0)},onClose:function(){this.show=!1,this.handleClick(this.currentSku)},onConfirm:function(){this.$emit("changeSku",this.specs.targetId),this.show=!1},handleClick:function(t){for(var e in this.specs=t,this.goods.specs)this.$set(this.goods.specs[e],"active",!1),t.targetId==this.goods.specs[e].targetId&&(this.$set(this.goods.specs[e],"active",!0),this.currentSkus=this.goods.specs[e])},formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";t*=1e3;var s=new Date(t);/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":s.getMonth()+1,"d+":s.getDate(),"h+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds()};for(var n in i)if(new RegExp("(".concat(n,")")).test(e)){var r=i[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:("00"+r).substr(r.length))}return e}},mounted:function(){var t=this;this.currentSkus=this.currentSku,"classroom"===this.goods.type?r.a.classroomsActivities({query:{id:this.currentSku.targetId}}).then((function(e){console.log(e),t.marketingActivities=e})).catch((function(t){console.error(t)})):"course"===this.goods.type&&r.a.coursesActivities({query:{id:this.currentSku.targetId}}).then((function(e){console.log(e),t.marketingActivities=e})).catch((function(t){console.error(t)}))},computed:o(o({},Object(n.e)(["vipSwitch"])),{},{showOnsale:function(){return 0!==Number(this.currentSku.price)&&!!Object.keys(this.marketingActivities).length},buyableModeHtml:function(){var t=this.goods.member;if(t)return"forever"==this.currentSkus.usageMode?this.$t("goods.longTermEffective"):0!=t.deadline?t.deadline.slice(0,10)+this.$t("goods.canLearnBefore"):this.$t("goods.longTermEffective");switch(this.currentSkus.usageMode){case"forever":return this.$t("goods.longTermEffective");case"end_date":return this.formatDate(this.currentSkus.usageEndTime.slice(0,10))+"&nbsp;".concat(this.$t("goods.canLearnBefore"));case"days":return this.$t("goods.studyWithinDay",{number:this.currentSkus.usageDays});case"date":return this.formatDate(this.currentSkus.usageStartTime.slice(0,10))+"&nbsp;~&nbsp;"+this.formatDate(this.currentSkus.usageEndTime.slice(0,10));default:return""}}})},l=(s("353b"),s("a6c2")),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.goods.id?s("div",{staticClass:"detail-plan"},["course"===t.goods.type&&t.goods.specs.length>1?s("div",{staticClass:"detail-plan__plan clearfix",on:{click:t.showPopup}},[s("div",{staticClass:"pull-left plan-left"},[t._v(t._s(t.$t("goods.plan")))]),s("div",{staticClass:"pull-left plan-right"},[s("label",{staticClass:"block",staticStyle:{width:"280px"}},[t._v(t._s(t.currentSku.title))]),t.goods.specs.length>1?s("i",{staticClass:"iconfont icon-arrow-right plan-right__icon"}):t._e()])]):t._e(),s("van-popup",{staticClass:"detail-plan__popup plan-popup",attrs:{round:"",position:"bottom"},on:{close:t.onClose},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"plan-popup__title"},[s("span"),t._v("\n      "+t._s(t.$t("goods.choosePlan"))+"\n    ")]),s("div",{staticClass:"confirmText",on:{click:t.onConfirm}},[t._v("确定")])]),s("div",{staticClass:"plan-popup__type"},t._l(t.goods.specs,(function(e){return s("span",{key:e.id,staticClass:"plan-popup__type__item",class:{active:e.active},on:{click:function(s){return t.handleClick(e)}}},[t._v(t._s(e.title))])})),0),s("div",{staticClass:"plan-popup__other"},[s("div",{staticClass:"popup-other clearfix"},[s("div",{staticClass:"pull-left popup-other__left"},[t._v("学习有效期")]),s("div",{staticClass:"pull-left popup-other__right",domProps:{innerHTML:t._s(t.buyableModeHtml)}})])])]),null!==t.currentSku.services&&t.currentSku.services.length?s("div",{staticClass:"detail-plan__plan clearfix"},[s("div",{staticClass:"pull-left plan-left"},[t._v(t._s(t.$t("goods.services")))]),s("div",{staticClass:"pull-left plan-right"},t._l(t.currentSku.services,(function(e,i){return s("span",{key:i,staticClass:"plan-right__promise"},[t._v(t._s(e.shortName))])})),0)]):t._e(),t.showOnsale?s("div",[t.marketingActivities.groupon?s("div",{staticClass:"detail-plan__plan clearfix",on:{click:function(e){return t.activityHandle(t.marketingActivities.groupon.id)}}},[s("div",{staticClass:"pull-left plan-left"},[t._v(t._s(t.$t("goods.groupPurchase")))]),s("div",{staticClass:"pull-left plan-right"},[s("van-tag",{staticClass:"van-tag--primary"},[t._v(t._s(t.$t("goods.groupPurchase")))]),s("span",{staticClass:"text-12 dark"},[t._v(t._s(t.$t("goods.buyWithFriends")))])],1)]):t._e(),t.marketingActivities.cut?s("div",{staticClass:"detail-plan__plan clearfix",on:{click:function(e){return t.activityHandle(t.marketingActivities.cut.id)}}},[s("div",{staticClass:"pull-left plan-left"},[t._v(t._s(t.$t("goods.bargain")))]),s("div",{staticClass:"pull-left plan-right"},[s("van-tag",{staticClass:"van-tag--success"},[t._v(t._s(t.$t("goods.bargain"))+" ")]),s("span",{staticClass:"text-12 dark"},[t._v(t._s(t.$t("goods.theMinimumCanBeCutTo1Point")))])],1)]):t._e(),t.marketingActivities.seckill?s("div",{staticClass:"detail-plan__plan clearfix",on:{click:function(e){return t.activityHandle(t.marketingActivities.seckill.id)}}},[s("div",{staticClass:"pull-left plan-left"},[t._v(t._s(t.$t("goods.flashSale")))]),s("div",{staticClass:"pull-left plan-right"},[s("van-tag",{staticClass:"van-tag--warning"},[t._v(t._s(t.$t("goods.flashSale"))+" ")]),s("span",{staticClass:"text-12 dark"},[t._v(t._s(t.$t("goods.flashSale2")))])],1)]):t._e()]):t._e()],1):t._e()}),[],!1,null,"978a25fa",null);e.a=u.exports},"67ab":function(t,e,s){var i=s("ca5a")("meta"),n=s("d3f4"),r=s("69a8"),a=s("86cc").f,o=0,c=Object.isExtensible||function(){return!0},l=!s("79e5")((function(){return c(Object.preventExtensions({}))})),u=function(t){a(t,i,{value:{i:"O"+ ++o,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[i].i},getWeak:function(t,e){if(!r(t,i)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[i].w},onFreeze:function(t){return l&&d.NEED&&c(t)&&!r(t,i)&&u(t),t}}},7067:function(t,e,s){"use strict";s("e17f");var i=s("2241"),n=(s("e7e5"),s("d399")),r=s("a026"),a=s("3ce7"),o=/micromessenger/.test(navigator.userAgent.toLowerCase());e.a=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||s&&!e)n.a.fail("缺少分享参数");else{var c={domainUri:location.origin,itemUri:"",source:"h5"};a.a.marketingActivities({query:{activityId:t},data:c}).then((function(t){var a=-1!==t.url.indexOf("?")?"&":"?",c=s?"".concat(e).concat(a,"ticket=").concat(t.ticket):t.url;o?window.location.href=c:i.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{r.default.prototype.$copyText(c).then((function(){n.a.success("复制成功")}),(function(){n.a.fail("请更换浏览器复制")}))}catch(t){n.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(t){n.a.fail(t.message)}))}}},"84e1":function(t,e,s){"use strict";var i={methods:{backToTop:function(){document.documentElement.scrollTop=document.body.scrollTop=0}}},n=s("a6c2"),r=Object(n.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"back-to-top",on:{click:this.backToTop}},[e("i",{staticClass:"iconfont icon-top"}),e("span",[this._v(this._s(this.$t("goods.top")))])])}),[],!1,null,null,null);e.a=r.exports},"92d0":function(t,e,s){"use strict";var i={data:function(){return{time:1432111,timeData:{days:0,hours:0,minutes:0,seconds:0}}},props:{goods:{type:Object,default:function(){}},currentSku:{type:Object,default:function(){}}},methods:{onChange:function(t){this.timeData=t},onFinish:function(){console.log("倒计时结束了")}},filters:{formatPrice:function(t){return(Math.round(100*t)/100).toFixed(2)},checkTime:function(t){return t<10&&t>=0&&(t="0".concat(t)),t}},created:function(){var t=this.goods.discount;this.time=1e3*t.endTime-Date.now(),console.log(t.endTime),console.log(this.time)}},n=s("a6c2"),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!=t.currentSku.displayPrice?s("div",{staticClass:"detail-discount clearfix"},[s("div",{staticClass:"pull-left detail-discount__left"},[s("span",{staticClass:"text"},[t._v("限时优惠")]),"RMB"===t.currentSku.displayPriceObj.currency?s("span",{staticClass:"price"},[t._v(t._s(t._f("formatPrice")(t.currentSku.displayPriceObj.amount))+"元\n        ")]):t._e(),"coin"===t.currentSku.displayPriceObj.currency?s("span",{staticClass:"price"},[t._v(t._s(t._f("formatPrice")(t.currentSku.displayPriceObj.coinAmount))+"\n    ")]):t._e(),s("s",{staticClass:"original-price"},["RMB"===t.currentSku.priceObj.currency?s("span",[t._v(t._s(t._f("formatPrice")(t.currentSku.priceObj.amount))+"元\n        ")]):t._e(),"coin"===t.currentSku.priceObj.currency?s("span",[t._v(t._s(t._f("formatPrice")(t.currentSku.priceObj.coinAmount))+"\n      ")]):t._e()])]),s("div",{staticClass:"pull-left detail-discount__right"},[s("p",{staticClass:"text"},[t._v("距离结束还剩")]),s("div",{staticClass:"count-down"},[s("van-count-down",{attrs:{"use-slot":"",time:t.time},on:{finish:t.onFinish,change:t.onChange}},[s("span",{staticClass:"day"},[t._v(t._s(t.timeData.days))]),t._v("天 "),s("span",{staticClass:"item"},[t._v(t._s(t._f("checkTime")(t.timeData.hours)))]),t._v(": "),s("span",{staticClass:"item"},[t._v(t._s(t._f("checkTime")(t.timeData.minutes)))]),t._v(":\n        "),s("span",{staticClass:"item"},[t._v(t._s(t._f("checkTime")(t.timeData.seconds)))])])],1)])]):t._e()}),[],!1,null,null,null);e.a=r.exports},9498:function(t,e,s){"use strict";var i={data:function(){return{page:1,page_count:"",courses:[]}},props:{classroomCourses:{type:Array,default:function(){return[]}},hidePrice:{type:String,default:"0"}},methods:{gotoCourse:function(t){this.$router.push({path:"/course/".concat(t.id)})},loadMore:function(){var t=5*this.page;this.courses=this.courses.concat(this.classroomCourses.slice(t,t+5)),this.page+=1}},watch:{classroomCourses:{immediate:!0,handler:function(t){this.page_count=Math.ceil(t.length/5),this.courses=t.slice(0,5)}}}},n=s("a6c2"),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"class-catalog"},[t._l(t.courses,(function(e){return s("div",{key:e.id,staticClass:"class-catalog__item clearfix",on:{click:function(s){return t.gotoCourse(e)}}},[s("div",{staticClass:"item-img pull-left relative"},[s("img",{attrs:{src:e.courseSet.cover.small,alt:""}}),"2k"===e.videoMaxLevel?s("div",{staticClass:"absolute left-0 bottom-0 px-8 text-white text-12 font-medium bg-black bg-opacity-80",staticStyle:{"padding-top":"2px","padding-bottom":"2px","line-height":"20px"}},[t._v("2K 优享")]):t._e(),"4k"===e.videoMaxLevel?s("div",{staticClass:"absolute left-0 bottom-0 px-8 text-[#492F0B] text-12 font-medium bg-gradient-to-l from-[#F7D27B] to-[#FCEABE]",staticStyle:{"padding-top":"2px","padding-bottom":"2px","line-height":"20px"}},[t._v("4K 臻享")]):t._e()]),s("div",{staticClass:"item-info pull-left"},[s("p",{staticClass:"item-info__title text-overflow"},[t._v("\n        "+t._s(e.courseSet.title)+"\n      ")]),"1"!==t.hidePrice&&"1"!==e.hidePrice?["coin"===e.originPrice2.currency?s("p",{staticClass:"item-info__price"},[t._v("\n          "+t._s(e.originPrice2.coinAmount)+t._s(e.originPrice2.coinName)+"\n        ")]):t._e(),"RMB"===e.originPrice2.currency?s("p",{staticClass:"item-info__price"},[t._v("\n          ￥"+t._s(e.originPrice2.amount)+"\n        ")]):t._e()]:[s("p",{staticClass:"item-info__price"},[t._v(" ")])],s("p",{staticClass:"item-info__plan clearfix"},[s("span",{staticClass:"pull-left item-info__plan-mw text-overflow"},[t._v(t._s(e.title))]),s("span",{staticClass:"pull-right"},[t._v("共"+t._s(e.compulsoryTaskNum)+t._s(t.$t("goods.lesson")))])])],2)])})),t.page<t.page_count?s("div",{staticClass:"load-more__footer",on:{click:t.loadMore}},[t._v("\n    "+t._s(t.$t("goods.more"))+"\n  ")]):t._e(),t.page>=t.page_count?s("div",{staticClass:"load-more__footer"},[t._v("\n    "+t._s(t.$t("goods.noMore"))+"\n  ")]):t._e()],2)}),[],!1,null,null,null);e.a=r.exports},a262:function(t,e,s){"use strict";var i=s("7067");e.a={methods:{activityHandle:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(i.a)(t,e,s)}}}},a556:function(t,e,s){"use strict";s.d(e,"a",(function(){return r})),s("e7e5");var i=s("d399"),n=s("6647"),r=function(t){switch(t){case"course":Object(i.a)(n.a.t("goods.courseClosedToast"));break;case"classroom":Object(i.a)(n.a.t("goods.classroomClosedToast"));break;case"exercise":Object(i.a)(n.a.t("goods.exerciseClosedToast"))}}},b576:function(t,e,s){"use strict";s("8e6e"),s("3b2b"),s("a481"),s("ac6a"),s("456d"),s("e7e5");var i=s("d399"),n=(s("7f7f"),s("6762"),s("c5f6"),s("bd86")),r=s("3ce7"),a=s("2f62"),o=s("2095"),c=s("4928"),l=s("faa5"),u=s("39ed");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){Object(n.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={components:{infoCollection:c.a,closedFixed:u.a},mixins:[o.a],props:{isFavorite:{type:Boolean,default:!1},goods:{type:Object,default:function(){}},currentSku:{type:Object,default:function(){}}},data:function(){return{redirect:"",isShowForm:!1}},created:function(){this.redirect=decodeURIComponent(this.$route.fullPath)},computed:p(p({},Object(a.e)(["vipSwitch"])),{},{vipAccessToJoin:function(){var t=!1,e=this.currentSku,s=e.vipLevelInfo,i=e.vipUser;return!(!s||!i)&&(i.level?(Number(s.seq)<=Number(i.level.seq)&&(t=!(1e3*parseInt(i.deadline)<(new Date).getTime())),t):t)},accessToJoin:function(){var t=this.currentSku.access.code;return"success"===t||"user.not_login"===t||"member.member_exist"===t},buyableModeHtml:function(){var t=this.goods.member;if(t)return"forever"===this.currentSku.usageMode?this.$t("goods.longTermEffective"):0!=t.deadline?t.deadline.slice(0,10)+this.$t("goods.canLearnBefore"):this.$t("goods.longTermEffective");switch(this.currentSku.usageMode){case"forever":return this.$t("goods.longTermEffective");case"end_date":return this.formatDate(this.currentSku.usageEndTime.slice(0,10))+"&nbsp;".concat(this.$t("goods.canLearnBefore"));case"days":return this.$t("goods.studyWithinDay",{number:this.currentSku.usageDays});case"date":return this.formatDate(this.currentSku.usageStartTime.slice(0,10))+"&nbsp;~&nbsp;"+this.formatDate(this.currentSku.usageEndTime.slice(0,10));default:return""}},classDisabled:function(){var t,e,s=null===(t=this.currentSku)||void 0===t||null===(e=t.access)||void 0===e?void 0:e.code;return{disabled:["user.locked","course.reach_max_student_num","classroom.reach_max_student_num","course.not_found","classroom.not_found","course.unpublished","classroom.unpublished","course.closed","classroom.closed","course.not_buyable","classroom.not_buyable","course.buy_expired","classroom.buy_expired","course.expired","classroom.expired"].includes(s)}},buyStatus:function(){var t=this.currentSku,e=t.isMember,s=t.displayPrice,i=t.access.code,n=t.vipLevelInfo;if("user.vip_free_learn"===i)return{disabled:!1,class:"member-free"};if(e)return this.$t("goods.toLearn");var r=n?"".concat(n.name).concat(this.$t("goods.free")):"",a={success:this.$t("goods.buy"),"user.not_login":this.$t("goods.buy"),"user.locked":"用户被锁定","member.member_exist":"课程学员已存在","course.reach_max_student_num":"学员达到上限","classroom.reach_max_student_num":"学员达到上限","course.not_found":"计划不存在","classroom.not_found":"计划不存在","course.unpublished":"课程未发布","classroom.unpublished":"班级未发布","course.closed":"课程已关闭","classroom.closed":"班级已关闭","course.not_buyable":"课程无法学习，请联系老师","classroom.not_buyable":"班级无法学习，请联系老师","course.buy_expired":"购买有效期已过","classroom.buy_expired":"购买有效期已过","course.expired":"学习有效期已过","classroom.expired":"学习有效期已过","course.only_vip_join_way":r,"classroom.only_vip_join_way":r};return this.vipAccessToJoin&&!["member.member_exist","course.buy_expired","classroom.buy_expired","course.expired","classroom.expired"].includes(i)?this.$t("goods.freeRedemptionForMembers"):0==s&&this.accessToJoin?this.$t("goods.freeToJoin"):a[i]}}),methods:p(p(p({},Object(a.c)("course",["joinCourse"])),Object(a.d)("classroom",{setCurrentJoinClass:l.r})),{},{handleJoin:function(){var t=this.goods.type,e=this.currentSku,s=e.isMember,i=e.access.code,n=e.targetId,r=e.vipLevelInfo,a=e.buyable,o=e.displayPrice;if("member.member_exist"===i||s)this.$router.push({path:"/".concat(t,"/").concat(n)});else{var c=this.vipAccessToJoin;["course.only_vip_join_way","classroom.only_vip_join_way"].includes(i)&&!c&&this.$router.push({path:"/vip",query:{id:r.id}}),(this.accessToJoin||c)&&(this.$store.state.token?(Number(a)||c)&&(+o&&!c?this.getOrder():this.collectUseInfoEvent()):this.$router.push({name:"login",query:{redirect:this.redirect}}))}},addFavorite:function(){r.a.addFavorite({data:{targetType:"goods",targetId:this.$route.params.id}}).then((function(t){}))},removeFavorite:function(){r.a.removeFavorite({data:{targetType:"goods",targetId:this.$route.params.id}}).then((function(t){}))},onFavorite:function(){this.$store.state.token?this.isFavorite?(this.removeFavorite(),this.$emit("update-data",!1)):(this.addFavorite(),this.$emit("update-data",!0)):this.$router.push({name:"login",query:{redirect:this.redirect}})},getParamsList:function(){this.paramsList={action:"buy_before",targetType:this.goods.type,targetId:this.currentSku.targetId}},collectUseInfoEvent:function(){var t=this;this.hasUserInfoCollectForm?this.isShowForm=!0:(i.a.loading({duration:0,message:this.$t("toast.loading"),forbidClick:!0}),this.getParamsList(),this.getInfoCollectionEvent(this.paramsList).then((function(e){if(console.log(Object.keys(e).length),Object.keys(e).length)return t.userInfoCollect=e,void t.getInfoCollectionForm(e.id).then((function(e){t.isShowForm=!0,i.a.clear()}));t.freeJoin()})))},freeJoin:function(){var t=this;"course"===this.goods.type&&this.joinCourse({id:this.currentSku.targetId}).then((function(e){0!==Object.keys(e).length&&t.$router.push({path:"/course/".concat(t.currentSku.targetId)})})).catch((function(t){console.error(t)})),"classroom"===this.goods.type&&r.a.joinClass({query:{classroomId:this.currentSku.targetId}}).then((function(e){t.setCurrentJoinClass(!0),t.$router.push({path:"/classroom/".concat(t.currentSku.targetId)})})).catch((function(t){console.error(t.message)}))},getOrder:function(){this.$router.push({name:"order",params:{id:this.currentSku.targetId},query:{expiryScope:this.buyableModeHtml,targetType:"".concat(this.goods.type)}})},formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";t*=1e3;var s=new Date(t);/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":s.getMonth()+1,"d+":s.getDate(),"h+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds()};for(var n in i)if(new RegExp("(".concat(n,")")).test(e)){var r=i[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:("00"+r).substr(r.length))}return e}})},f=s("a6c2"),m=Object(f.a)(h,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-buy"},["closed"==t.goods.product.target.status?s("closedFixed",{attrs:{isJoin:!1,title:"classroom"==t.goods.type?t.$t("closed.classroomTitle"):t.$t("closed.courseTitle")}}):t._e(),s("van-action-sheet",{staticClass:"minHeight50",attrs:{title:t.userInfoCollectForm.formTitle,"close-on-click-overlay":!1,"safe-area-inset-bottom":!0},model:{value:t.isShowForm,callback:function(e){t.isShowForm=e},expression:"isShowForm"}},[s("info-collection",{attrs:{userInfoCollectForm:t.userInfoCollectForm,formRule:t.userInfoCollectForm.items},on:{submitForm:t.freeJoin}})],1),s("div",{staticClass:"info-buy__collection",on:{click:t.onFavorite}},[t.isFavorite?[s("i",{staticClass:"iconfont icon-aixin1",staticStyle:{color:"#FF7E56"}}),s("span",{staticStyle:{color:"#FF7E56"}},[t._v(t._s(t.$t("goods.collected")))])]:[s("i",{staticClass:"iconfont icon-aixin"}),s("span",[t._v(t._s(t.$t("goods.favorites")))])]],2),s("div",{staticClass:"info-buy__btn",class:t.classDisabled,on:{click:t.handleJoin}},[t._v("\n    "+t._s(t.buyStatus)+"\n  ")])],1)}),[],!1,null,null,null);e.a=m.exports},ba01:function(t,e,s){"use strict";s("28a5");var i={props:{item:{type:Object,required:!0},hidePrice:{type:String,default:"0"}},methods:{integerPart:function(t){return t.split(".")[0]},decimalPart:function(t){return t.split(".")[1]},goItemBankExercise:function(t){this.$router.push({name:"item_bank_exercise",params:{id:t}})}}},n=s("a6c2"),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex border border-[#F2F3F5] border-solid",staticStyle:{"border-radius":"8px"},on:{click:function(e){return t.goItemBankExercise(t.item.itemBankExerciseId)}}},[s("img",{staticClass:"h-96",staticStyle:{"border-top-left-radius":"6px","border-bottom-left-radius":"6px"},attrs:{src:t.item.itemBankExercise.cover.middle,alt:""}}),s("div",{staticClass:"flex flex-col w-full px-12 justify-center"},[s("div",[s("div",{staticClass:"text-16 font-medium truncate mb-8",staticStyle:{color:"#37393D","max-width":"140px"}},[t._v(t._s(t.item.itemBankExercise.title))]),s("div",{staticClass:"flex justify-between"},[s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"text-12 font-normal mb-4",staticStyle:{color:"#919399"}},[t._v("章节练习："),s("span",{staticStyle:{color:"#37393D"}},[t._v(t._s(t.item.chapterExerciseNum))])]),s("div",{staticClass:"text-12 font-normal",staticStyle:{color:"#919399"}},[t._v("试卷练习："),s("span",{staticStyle:{color:"#37393D"}},[t._v(t._s(t.item.assessmentNum))])])]),"1"!==t.hidePrice&&"1"!==t.item.itemBankExercise.hidePrice?s("div",{staticClass:"flex items-end text-14 font-semibold",staticStyle:{color:"#FF7E56","line-height":"16px"}},[s("span",{staticClass:"text-12 font-normal mr-2"},[t._v("¥")]),t._v(t._s(t.integerPart(t.item.itemBankExercise.price)+".")),s("span",{staticClass:"text-12",staticStyle:{"line-height":"14px"}},[t._v(t._s(t.decimalPart(t.item.itemBankExercise.price)))])]):t._e()])])])])}),[],!1,null,null,null);e.a=r.exports},d218:function(t,e,s){"use strict";var i={props:{recommendGoods:{type:Array,default:function(){return[]}},goods:{type:Object,default:function(){}}},methods:{onJump:function(t){t!=this.$route.params.id&&this.$router.push({path:"/goods/".concat(t,"/show")})},onMore:function(){this.$router.push({name:"course"===this.goods.type?"more_course":"more_class"})}},filters:{formatPrice:function(t){return(Math.round(100*t)/100).toFixed(2)}}},n=s("a6c2"),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-learn"},[s("div",{staticClass:"info-learn__header clearfix"},[t._t("title"),s("span",{staticClass:"header-more pull-right",on:{click:t.onMore}},[t._v(t._s(t.$t("enter.more"))),s("i",{staticClass:"iconfont icon-About"})])],2),s("div",{staticClass:"info-learn__body"},[t.recommendGoods.length?t._l(t.recommendGoods,(function(e){return s("div",{key:e.id,staticClass:"body-item",on:{click:function(s){return t.onJump(e.id)}}},[s("div",{staticClass:"body-item__img"},[s("img",{attrs:{src:e.images.large,alt:""}})]),s("div",{staticClass:"body-item__content"},[s("p",{staticClass:"content-title text-overflow"},[t._v(t._s(e.title))]),"1"!==e.hidePrice?[e.minDisplayPriceObj.amount==e.maxDisplayPriceObj.amount?s("p",{staticClass:"content-price text-overflow",class:{"is-free":0==Number(e.minDisplayPriceObj.amount)}},[t._v("\n              "+t._s(0==Number(e.maxDisplayPriceObj.amount)?t.$t("goods.free"):"RMB"===e.minDisplayPriceObj.currency?""+e.maxDisplayPriceObj.amount+t.$t("goods.cny"):e.minDisplayPriceObj.coinAmount+e.minDisplayPriceObj.coinName)+"\n            ")]):s("p",{staticClass:"content-price text-overflow"},["RMB"===e.minDisplayPriceObj.currency?s("span",{staticClass:"price"},[t._v(t._s(t._f("formatPrice")(e.minDisplayPriceObj.amount))+t._s(t.$t("goods.cny")))]):t._e(),"coin"===e.minDisplayPriceObj.currency?s("span",{staticClass:"price"},[t._v(t._s(t._f("formatPrice")(e.minDisplayPriceObj.coinAmount))+"\n              ")]):t._e(),"coin"===e.minDisplayPriceObj.currency?s("span",{staticClass:"detail-right__price__unit"},[t._v("\n                "+t._s(e.minDisplayPriceObj.coinName)+"\n              ")]):t._e()])]:t._e()],2)])})):s("div",[t._v(t._s(t.$t("goods.thereAreNoRecommendedProductsYet")))])],2)])}),[],!1,null,null,null);e.a=r.exports},d863:function(t,e,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("a481");var i=s("bd86"),n=s("7067"),r=s("3ce7"),a=s("faa5"),o=s("2f62");function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}e.a={data:function(){return{redirect:""}},computed:l({},Object(o.e)({user:function(t){return t.user}})),created:function(){this.redirect=decodeURIComponent(this.$route.fullPath)},methods:l(l({},Object(o.d)([a.w])),{},{afterLogin:function(){var t=this;this.checkMobileBind().then((function(e){var s=e.is_bind_mobile,i=e.mobile_bind_mode;t[a.w]({is_bind_mobile:s,mobile_bind_mode:i}),s||"closed"===i?setTimeout(t.jumpAction,1e3):t.$router.replace({name:"binding",query:{redirect:t.$route.query.redirect}})})).catch((function(){setTimeout(t.jumpAction,1e3)}))},jumpAction:function(){var t=this.$route.query.redirect?decodeURIComponent(this.$route.query.redirect):"/",e=this.$route.query.skipUrl?decodeURIComponent(this.$route.query.skipUrl):"",s=this.$route.query.callbackType,i=this.$route.query.activityId,r=decodeURIComponent(this.$route.query.callback);if(s)switch(s){case"marketing":Object(n.a)(i,r)}else e?this.$router.replace({path:t,query:{backUrl:e}}):this.$router.replace({path:t})},checkMobileBind:function(){return r.a.mobileBindCheck({query:{userId:this.user.id}})},upgradePassword:function(){this.$router.replace({name:"password_reset",query:{upgradePassword:1}})}})}},e57e:function(t,e,s){"use strict";var i={props:{teachers:{type:Array,default:function(){return[]}}}},n=s("a6c2"),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-teacher"},[t.teachers.length?t._l(t.teachers,(function(e){return s("div",{key:e.id,staticClass:"info-teacher__item clearfix"},[s("div",{staticClass:"pull-left teacher-img"},[s("img",{attrs:{src:e.avatar.small,alt:""}})]),s("div",{staticClass:"pull-left teacher-info"},[s("p",{staticClass:"teacher-info__name"},[t._v(t._s(e.nickname))]),s("p",{staticClass:"teacher-info__describe text-overflow"},[t._v("\n          "+t._s(e.title)+"\n        ")])])])})):s("div",{staticClass:"info-teacher__item"},[t._v("\n    "+t._s(t.$t("goods.noTeachers"))+"\n  ")])],2)}),[],!1,null,null,null);e.a=r.exports},e90f:function(t,e,s){"use strict";s("3b2b"),s("a481");var i={props:{goods:{type:Object,default:function(){}},currentSku:{type:Object,default:function(){}},goodsSetting:{type:Object,default:function(){}}},data:function(){return{isShare:!1}},filters:{formatPrice:function(t){return(Math.round(100*t)/100).toFixed(2)}},computed:{buyableModeHtml:function(){var t=this.goods.member,e=this.currentSku,s=e.usageMode,i=e.usageEndTime,n=e.usageDays,r=e.usageStartTime;if(t)return"forever"==s||0==t.deadline?this.$t("goods.longTermEffective"):t.deadline.slice(0,10)+this.$t("goods.canLearnBefore");switch(s){case"forever":return this.$t("goods.longTermEffective");case"end_date":return this.formatDate(i.slice(0,10))+"&nbsp;".concat(this.$t("goods.canLearnBefore"));case"days":return this.$t("goods.studyWithinDay",{number:n});case"date":return this.formatDate(r.slice(0,10))+"&nbsp;~&nbsp;"+this.formatDate(i.slice(0,10));default:return""}}},methods:{formatDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";t*=1e3;var s=new Date(t);/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":s.getMonth()+1,"d+":s.getDate(),"h+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds()};for(var n in i)if(new RegExp("(".concat(n,")")).test(e)){var r=i[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:("00"+r).substr(r.length))}return e},onShare:function(){}}},n=s("a6c2"),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.goods.id?s("div",{staticClass:"detail-info"},[s("p",{staticClass:"detail-info__title",class:t.isShare&&"detail-info__title--pr"},[t.currentSku.hasCertificate?s("span",{staticClass:"certificate-icon"},[t._v(t._s(t.$t("goods.certificate")))]):t._e(),t._v("\n    "+t._s(t.goods.title)+"\n    "),t.isShare?s("i",{staticClass:"iconfont icon-fenxiang goods-share",on:{click:t.onShare}}):t._e()]),s("div",{staticClass:"flex flex-row justify-between detail-info__price"},[s("div",["1"!==t.currentSku.hidePrice&&t.goods.discount&&0!=t.currentSku.displayPrice?[s("div",[t._v("\n          "+t._s(t.$t("goods.preferentialPrice"))+"\n          "),"RMB"===t.currentSku.displayPriceObj.currency?s("span",{staticClass:"price"},[t._v("\n          "+t._s(t._f("formatPrice")(t.currentSku.displayPriceObj.amount))+t._s(t.$t("goods.cny"))+"\n        ")]):t._e(),"coin"===t.currentSku.displayPriceObj.currency?s("span",{staticClass:"price"},[t._v("\n          "+t._s(t._f("formatPrice")(t.currentSku.displayPriceObj.coinAmount))+"\n          "),s("span",{staticClass:"detail-right__price__unit"},[t._v("\n            "+t._s(t.currentSku.displayPriceObj.coinName)+"\n          ")])]):t._e()])]:t._e(),"1"===t.currentSku.hidePrice||t.goods.discount&&0!=t.currentSku.displayPrice?t._e():[s("div",[t._v("\n          "+t._s(t.$t("goods.price"))+"\n          "),"RMB"===t.currentSku.displayPriceObj.currency?s("span",{staticClass:"price"},[t._v("\n          "+t._s(t._f("formatPrice")(t.currentSku.displayPriceObj.amount))+t._s(t.$t("goods.cny"))+"\n        ")]):t._e(),"coin"===t.currentSku.displayPriceObj.currency?s("span",{staticClass:"price"},[t._v("\n          "+t._s(t._f("formatPrice")(t.currentSku.displayPriceObj.coinAmount))+"\n          "),s("span",{staticClass:"detail-right__price__unit"},[t._v("\n            "+t._s(t.currentSku.displayPriceObj.coinName)+"\n          ")])]):t._e()])],s("div",{staticClass:"detail-info__validity"},[t._v("\n        "+t._s(t.$t("goods.validity"))+"\n        "),s("span",{staticClass:"detail-info__validity__content",domProps:{innerHTML:t._s(t.buyableModeHtml)}})])],2),s("div",[t.goods.discount&&0!=t.currentSku.displayPrice?[s("div",{staticClass:"pull-right study-num"},[s("i",{staticClass:"iconfont icon-renqi"}),t._v("\n          "+t._s(t.goods.product.target.studentNum)+t._s(t.$t("goods.person"))+"\n        ")])]:t._e(),t.goods.discount&&0!=t.currentSku.displayPrice?t._e():["join"===t.goodsSetting.show_number_data?s("div",{staticClass:"pull-right study-num"},[s("i",{staticClass:"iconfont icon-people"}),t._v("\n          "+t._s(t.goods.product.target.studentNum)+"\n        ")]):"visitor"===t.goodsSetting.show_number_data?s("div",{staticClass:"pull-right study-num"},[s("i",{staticClass:"iconfont icon-visibility"}),t._v("\n          "+t._s(t.goods.hitNum)+"\n        ")]):t._e()]],2)])]):t._e()}),[],!1,null,null,null);e.a=r.exports}}]);