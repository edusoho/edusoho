(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".agent-sdk-floating-button{position:fixed;z-index:9999;width:50px;height:50px;border-radius:50%;transition:transform .3s;touch-action:none;-webkit-user-select:none;user-select:none}.agent-sdk-floating-button img{width:100%;height:100%}.agent-sdk-unread-count{display:none;position:absolute;z-index:9999;right:0;top:0;background-color:#ff4d4f;padding:0 6px;border-radius:999px;font-size:12px;line-height:16px;color:#fff;font-weight:500}.agent-sdk-floating-iframe{display:none;position:fixed;border:none}.agent-sdk-floating-reminder{position:fixed;z-index:9999;width:fit-content;height:fit-content;bottom:20px;right:90px;border-radius:20px 20px 0;border:1px solid #CEB2FF;background:linear-gradient(137deg,#fbf7ff 3.4%,#f7f9ff 35.69%,#f7fcff 97.01%);box-shadow:0 4px 12px #32b2ff0d,0 4px 10px #32b2ff0d,0 4px 12px #00588e0d;padding:16px 20px;display:none;flex-direction:column}.agent-sdk-floating-reminder .title-container{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.agent-sdk-floating-reminder .title-container .title{display:none}.agent-sdk-floating-reminder .content{display:none;margin-top:8px}.agent-sdk-floating-reminder .title-container .title{font-size:16px;font-style:normal;font-weight:500;line-height:24px;background:linear-gradient(116deg,#9832ff 16.39%,#323cff 45.17%,#32adff 83.33%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.agent-sdk-floating-reminder .title-container svg{cursor:pointer}.agent-sdk-floating-reminder .content{color:#37393d;font-size:14px;font-style:normal;font-weight:400;line-height:24px}.agent-sdk-floating-reminder button{display:none;margin-top:16px;border:none;width:fit-content;padding:4px 15px;border-radius:999px;background:linear-gradient(137deg,#9832ff 3.4%,#323cff 35.69%,#32c8ff 97.01%);color:#fff;font-size:14px;font-style:normal;font-weight:500;line-height:22px;cursor:pointer}")),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();
var AgentSDK=function(){"use strict";var os=Object.defineProperty;var ss=(le,ke,je)=>ke in le?os(le,ke,{enumerable:!0,configurable:!0,writable:!0,value:je}):le[ke]=je;var Fe=(le,ke,je)=>ss(le,typeof ke!="symbol"?ke+"":ke,je);function le(u){return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},le(u)}function ke(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function je(u){var r=function(o,c){if(le(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var y=d.call(o,c);if(le(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(u,"string");return le(r)=="symbol"?r:String(r)}function Lr(u,r){for(var o=0;o<r.length;o++){var c=r[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,je(c.key),c)}}function bn(u,r,o){return r&&Lr(u.prototype,r),Object.defineProperty(u,"prototype",{writable:!1}),u}var _r=function(){function u(){ke(this,u),this._listeners={}}return bn(u,[{key:"on",value:function(r,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._listeners[r]||(this._listeners[r]=[]),o._priority=parseInt(c)||0,this._listeners[r].indexOf(o)===-1&&(this._listeners[r].push(o),this._listeners[r].length>1&&this._listeners[r].sort(this.listenerSorter))}},{key:"listenerSorter",value:function(r,o){return r._priority-o._priority}},{key:"off",value:function(r,o){if(this._listeners[r]!==void 0)if(o!==void 0){var c=this._listeners[r].indexOf(o);-1<c&&this._listeners[r].splice(c,1)}else delete this._listeners[r]}},{key:"trigger",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof r=="string"&&(r={type:r,data:le(o)==="object"&&o!==null?o:{}}),this._listeners[r.type]!==void 0)for(var c=this._listeners[r.type].length-1;c>=0;c--)this._listeners[r.type][c](r)}},{key:"destroy",value:function(){this._listeners={}}}]),u}();function Rt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Rt=function(){return r};var u,r={},o=Object.prototype,c=o.hasOwnProperty,d=Object.defineProperty||function(w,E,I){w[E]=I.value},y=typeof Symbol=="function"?Symbol:{},A=y.iterator||"@@iterator",M=y.asyncIterator||"@@asyncIterator",_=y.toStringTag||"@@toStringTag";function q(w,E,I){return Object.defineProperty(w,E,{value:I,enumerable:!0,configurable:!0,writable:!0}),w[E]}try{q({},"")}catch{q=function(E,I,N){return E[I]=N}}function J(w,E,I,N){var D=E&&E.prototype instanceof se?E:se,Q=Object.create(D.prototype),ne=new te(N||[]);return d(Q,"_invoke",{value:j(w,I,ne)}),Q}function X(w,E,I){try{return{type:"normal",arg:w.call(E,I)}}catch(N){return{type:"throw",arg:N}}}r.wrap=J;var V="suspendedStart",Z="suspendedYield",ie="executing",ae="completed",$={};function se(){}function pe(){}function me(){}var T={};q(T,A,function(){return this});var S=Object.getPrototypeOf,P=S&&S(S(fe([])));P&&P!==o&&c.call(P,A)&&(T=P);var v=me.prototype=se.prototype=Object.create(T);function F(w){["next","throw","return"].forEach(function(E){q(w,E,function(I){return this._invoke(E,I)})})}function H(w,E){function I(D,Q,ne,ue){var he=X(w[D],w,Q);if(he.type!=="throw"){var Te=he.arg,Me=Te.value;return Me&&le(Me)=="object"&&c.call(Me,"__await")?E.resolve(Me.__await).then(function(Oe){I("next",Oe,ne,ue)},function(Oe){I("throw",Oe,ne,ue)}):E.resolve(Me).then(function(Oe){Te.value=Oe,ne(Te)},function(Oe){return I("throw",Oe,ne,ue)})}ue(he.arg)}var N;d(this,"_invoke",{value:function(D,Q){function ne(){return new E(function(ue,he){I(D,Q,ue,he)})}return N=N?N.then(ne,ne):ne()}})}function j(w,E,I){var N=V;return function(D,Q){if(N===ie)throw new Error("Generator is already running");if(N===ae){if(D==="throw")throw Q;return{value:u,done:!0}}for(I.method=D,I.arg=Q;;){var ne=I.delegate;if(ne){var ue=ce(ne,I);if(ue){if(ue===$)continue;return ue}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(N===V)throw N=ae,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);N=ie;var he=X(w,E,I);if(he.type==="normal"){if(N=I.done?ae:Z,he.arg===$)continue;return{value:he.arg,done:I.done}}he.type==="throw"&&(N=ae,I.method="throw",I.arg=he.arg)}}}function ce(w,E){var I=E.method,N=w.iterator[I];if(N===u)return E.delegate=null,I==="throw"&&w.iterator.return&&(E.method="return",E.arg=u,ce(w,E),E.method==="throw")||I!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+I+"' method")),$;var D=X(N,w.iterator,E.arg);if(D.type==="throw")return E.method="throw",E.arg=D.arg,E.delegate=null,$;var Q=D.arg;return Q?Q.done?(E[w.resultName]=Q.value,E.next=w.nextLoc,E.method!=="return"&&(E.method="next",E.arg=u),E.delegate=null,$):Q:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,$)}function oe(w){var E={tryLoc:w[0]};1 in w&&(E.catchLoc=w[1]),2 in w&&(E.finallyLoc=w[2],E.afterLoc=w[3]),this.tryEntries.push(E)}function ye(w){var E=w.completion||{};E.type="normal",delete E.arg,w.completion=E}function te(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(oe,this),this.reset(!0)}function fe(w){if(w||w===""){var E=w[A];if(E)return E.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var I=-1,N=function D(){for(;++I<w.length;)if(c.call(w,I))return D.value=w[I],D.done=!1,D;return D.value=u,D.done=!0,D};return N.next=N}}throw new TypeError(le(w)+" is not iterable")}return pe.prototype=me,d(v,"constructor",{value:me,configurable:!0}),d(me,"constructor",{value:pe,configurable:!0}),pe.displayName=q(me,_,"GeneratorFunction"),r.isGeneratorFunction=function(w){var E=typeof w=="function"&&w.constructor;return!!E&&(E===pe||(E.displayName||E.name)==="GeneratorFunction")},r.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,me):(w.__proto__=me,q(w,_,"GeneratorFunction")),w.prototype=Object.create(v),w},r.awrap=function(w){return{__await:w}},F(H.prototype),q(H.prototype,M,function(){return this}),r.AsyncIterator=H,r.async=function(w,E,I,N,D){D===void 0&&(D=Promise);var Q=new H(J(w,E,I,N),D);return r.isGeneratorFunction(E)?Q:Q.next().then(function(ne){return ne.done?ne.value:Q.next()})},F(v),q(v,_,"Generator"),q(v,A,function(){return this}),q(v,"toString",function(){return"[object Generator]"}),r.keys=function(w){var E=Object(w),I=[];for(var N in E)I.push(N);return I.reverse(),function D(){for(;I.length;){var Q=I.pop();if(Q in E)return D.value=Q,D.done=!1,D}return D.done=!0,D}},r.values=fe,te.prototype={constructor:te,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(ye),!w)for(var E in this)E.charAt(0)==="t"&&c.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=u)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var E=this;function I(he,Te){return Q.type="throw",Q.arg=w,E.next=he,Te&&(E.method="next",E.arg=u),!!Te}for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N],Q=D.completion;if(D.tryLoc==="root")return I("end");if(D.tryLoc<=this.prev){var ne=c.call(D,"catchLoc"),ue=c.call(D,"finallyLoc");if(ne&&ue){if(this.prev<D.catchLoc)return I(D.catchLoc,!0);if(this.prev<D.finallyLoc)return I(D.finallyLoc)}else if(ne){if(this.prev<D.catchLoc)return I(D.catchLoc,!0)}else{if(!ue)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return I(D.finallyLoc)}}}},abrupt:function(w,E){for(var I=this.tryEntries.length-1;I>=0;--I){var N=this.tryEntries[I];if(N.tryLoc<=this.prev&&c.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var D=N;break}}D&&(w==="break"||w==="continue")&&D.tryLoc<=E&&E<=D.finallyLoc&&(D=null);var Q=D?D.completion:{};return Q.type=w,Q.arg=E,D?(this.method="next",this.next=D.finallyLoc,$):this.complete(Q)},complete:function(w,E){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&E&&(this.next=E),$},finish:function(w){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.finallyLoc===w)return this.complete(I.completion,I.afterLoc),ye(I),$}},catch:function(w){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.tryLoc===w){var N=I.completion;if(N.type==="throw"){var D=N.arg;ye(I)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(w,E,I){return this.delegate={iterator:fe(w),resultName:E,nextLoc:I},this.method==="next"&&(this.arg=u),$}},r}function wn(u,r,o,c,d,y,A){try{var M=u[y](A),_=M.value}catch(q){return void o(q)}M.done?r(_):Promise.resolve(_).then(c,d)}function xn(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Ge(u){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ge(u)}function Dt(){return Dt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,r,o){var c=function(y,A){for(;!Object.prototype.hasOwnProperty.call(y,A)&&(y=Ge(y))!==null;);return y}(u,r);if(c){var d=Object.getOwnPropertyDescriptor(c,r);return d.get?d.get.call(arguments.length<3?u:o):d.value}},Dt.apply(this,arguments)}function Bt(u,r){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},Bt(u,r)}function Fr(u){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,c=Ge(u);if(r){var d=Ge(this).constructor;o=Reflect.construct(c,arguments,d)}else o=c.apply(this,arguments);return function(y,A){if(A&&(le(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xn(y)}(this,o)}}var Nr=function(u){(function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),d&&Bt(c,d)})(o,_r);var r=Fr(o);function o(){var c,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100*Math.random()|0;return ke(this,o),(c=r.call(this)).id="BELLHOP:".concat(d),c.connected=!1,c.isChild=!0,c.connecting=!1,c.debug=!1,c.origin="*",c._sendLater=[],c.iframe=null,c.receive=c.receive.bind(xn(c)),c}return bn(o,[{key:"receive",value:function(c){if(this.target===c.source)if(this.logDebugMessage(!0,c),c.data==="connected")this.onConnectionReceived(c.data);else{var d=c.data;if(typeof d=="string")try{d=JSON.parse(d)}catch(y){console.warn("Bellhop error: ",y)}this.connected&&le(d)==="object"&&d.type&&this.trigger(d)}}},{key:"onConnectionReceived",value:function(c){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(c,this.origin)}for(var d=0;d<this._sendLater.length;d++){var y=this._sendLater[d],A=y.type,M=y.data;this.send(A,M)}this._sendLater.length=0,this.trigger("connected")}},{key:"connect",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";this.connecting||(this.disconnect(),this.connecting=!0,c instanceof HTMLIFrameElement&&(this.iframe=c),this.isChild=c===void 0,this.supported=!0,this.isChild&&(this.supported=window!=c),this.origin=d,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):this.target.postMessage("connected",this.origin)))}},{key:"disconnect",value:function(){this.connected=!1,this.connecting=!1,this.origin=null,this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}},{key:"send",value:function(c){if(typeof c!="string")throw"The event type must be a string";var d={type:c,data:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};this.logDebugMessage(!1,d),this.connecting?this._sendLater.push(d):this.target.postMessage(JSON.stringify(d),this.origin)}},{key:"fetch",value:function(c,d){var y=this,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";this.on(c,function _(q){M&&y.off(q.type,_),d(q)}),this.send(c,A)}},{key:"respond",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0&&arguments[2],A=this,M=function(){var _,q=(_=Rt().mark(function J(X){return Rt().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(y&&A.off(X,M),typeof d!="function"){V.next=10;break}return V.t0=A,V.t1=X.type,V.next=6,d();case 6:V.t2=V.sent,V.t0.send.call(V.t0,V.t1,V.t2),V.next=11;break;case 10:A.send(X.type,d);case 11:case"end":return V.stop()}},J)}),function(){var J=this,X=arguments;return new Promise(function(V,Z){var ie=_.apply(J,X);function ae(se){wn(ie,V,Z,ae,$,"next",se)}function $(se){wn(ie,V,Z,ae,$,"throw",se)}ae(void 0)})});return function(J){return q.apply(this,arguments)}}();this.on(c,M)}},{key:"logDebugMessage",value:function(){var c=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=arguments.length>1?arguments[1]:void 0;this.debug&&typeof this.debug=="function"?this.debug({isChild:this.isChild,received:c,message:d}):this.debug&&console.log("Bellhop Instance (".concat(this.isChild?"Child":"Parent",") ").concat(c?"Receieved":"Sent"),d)}},{key:"destroy",value:function(){Dt(Ge(o.prototype),"destroy",this).call(this),this.disconnect(),this._sendLater.length=0}},{key:"target",get:function(){return this.isChild?window.parent:this.iframe.contentWindow}}]),o}();function Yr(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var at={exports:{}},En;function zr(){if(En)return at.exports;En=1;var u=typeof Reflect=="object"?Reflect:null,r=u&&typeof u.apply=="function"?u.apply:function(S,P,v){return Function.prototype.apply.call(S,P,v)},o;u&&typeof u.ownKeys=="function"?o=u.ownKeys:Object.getOwnPropertySymbols?o=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:o=function(S){return Object.getOwnPropertyNames(S)};function c(T){console&&console.warn&&console.warn(T)}var d=Number.isNaN||function(S){return S!==S};function y(){y.init.call(this)}at.exports=y,at.exports.once=se,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var A=10;function M(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(T){if(typeof T!="number"||T<0||d(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");A=T}}),y.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||d(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function _(T){return T._maxListeners===void 0?y.defaultMaxListeners:T._maxListeners}y.prototype.getMaxListeners=function(){return _(this)},y.prototype.emit=function(S){for(var P=[],v=1;v<arguments.length;v++)P.push(arguments[v]);var F=S==="error",H=this._events;if(H!==void 0)F=F&&H.error===void 0;else if(!F)return!1;if(F){var j;if(P.length>0&&(j=P[0]),j instanceof Error)throw j;var ce=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw ce.context=j,ce}var oe=H[S];if(oe===void 0)return!1;if(typeof oe=="function")r(oe,this,P);else for(var ye=oe.length,te=ie(oe,ye),v=0;v<ye;++v)r(te[v],this,P);return!0};function q(T,S,P,v){var F,H,j;if(M(P),H=T._events,H===void 0?(H=T._events=Object.create(null),T._eventsCount=0):(H.newListener!==void 0&&(T.emit("newListener",S,P.listener?P.listener:P),H=T._events),j=H[S]),j===void 0)j=H[S]=P,++T._eventsCount;else if(typeof j=="function"?j=H[S]=v?[P,j]:[j,P]:v?j.unshift(P):j.push(P),F=_(T),F>0&&j.length>F&&!j.warned){j.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=T,ce.type=S,ce.count=j.length,c(ce)}return T}y.prototype.addListener=function(S,P){return q(this,S,P,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(S,P){return q(this,S,P,!0)};function J(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function X(T,S,P){var v={fired:!1,wrapFn:void 0,target:T,type:S,listener:P},F=J.bind(v);return F.listener=P,v.wrapFn=F,F}y.prototype.once=function(S,P){return M(P),this.on(S,X(this,S,P)),this},y.prototype.prependOnceListener=function(S,P){return M(P),this.prependListener(S,X(this,S,P)),this},y.prototype.removeListener=function(S,P){var v,F,H,j,ce;if(M(P),F=this._events,F===void 0)return this;if(v=F[S],v===void 0)return this;if(v===P||v.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete F[S],F.removeListener&&this.emit("removeListener",S,v.listener||P));else if(typeof v!="function"){for(H=-1,j=v.length-1;j>=0;j--)if(v[j]===P||v[j].listener===P){ce=v[j].listener,H=j;break}if(H<0)return this;H===0?v.shift():ae(v,H),v.length===1&&(F[S]=v[0]),F.removeListener!==void 0&&this.emit("removeListener",S,ce||P)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(S){var P,v,F;if(v=this._events,v===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[S]),this;if(arguments.length===0){var H=Object.keys(v),j;for(F=0;F<H.length;++F)j=H[F],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=v[S],typeof P=="function")this.removeListener(S,P);else if(P!==void 0)for(F=P.length-1;F>=0;F--)this.removeListener(S,P[F]);return this};function V(T,S,P){var v=T._events;if(v===void 0)return[];var F=v[S];return F===void 0?[]:typeof F=="function"?P?[F.listener||F]:[F]:P?$(F):ie(F,F.length)}y.prototype.listeners=function(S){return V(this,S,!0)},y.prototype.rawListeners=function(S){return V(this,S,!1)},y.listenerCount=function(T,S){return typeof T.listenerCount=="function"?T.listenerCount(S):Z.call(T,S)},y.prototype.listenerCount=Z;function Z(T){var S=this._events;if(S!==void 0){var P=S[T];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}y.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function ie(T,S){for(var P=new Array(S),v=0;v<S;++v)P[v]=T[v];return P}function ae(T,S){for(;S+1<T.length;S++)T[S]=T[S+1];T.pop()}function $(T){for(var S=new Array(T.length),P=0;P<S.length;++P)S[P]=T[P].listener||T[P];return S}function se(T,S){return new Promise(function(P,v){function F(j){T.removeListener(S,H),v(j)}function H(){typeof T.removeListener=="function"&&T.removeListener("error",F),P([].slice.call(arguments))}me(T,S,H,{once:!0}),S!=="error"&&pe(T,F,{once:!0})})}function pe(T,S,P){typeof T.on=="function"&&me(T,"error",S,P)}function me(T,S,P,v){if(typeof T.on=="function")v.once?T.once(S,P):T.on(S,P);else if(typeof T.addEventListener=="function")T.addEventListener(S,function F(H){v.once&&T.removeEventListener(S,F),P(H)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return at.exports}var jr=zr();const Ae=Object.create(null);Ae.open="0",Ae.close="1",Ae.ping="2",Ae.pong="3",Ae.message="4",Ae.upgrade="5",Ae.noop="6";const ct=Object.create(null);Object.keys(Ae).forEach(u=>{ct[Ae[u]]=u});const Lt={type:"error",data:"parser error"},kn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",An=typeof ArrayBuffer=="function",Sn=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u&&u.buffer instanceof ArrayBuffer,_t=({type:u,data:r},o,c)=>kn&&r instanceof Blob?o?c(r):Tn(r,c):An&&(r instanceof ArrayBuffer||Sn(r))?o?c(r):Tn(new Blob([r]),c):c(Ae[u]+(r||"")),Tn=(u,r)=>{const o=new FileReader;return o.onload=function(){const c=o.result.split(",")[1];r("b"+(c||""))},o.readAsDataURL(u)};function On(u){return u instanceof Uint8Array?u:u instanceof ArrayBuffer?new Uint8Array(u):new Uint8Array(u.buffer,u.byteOffset,u.byteLength)}let Ft;function Gr(u,r){if(kn&&u.data instanceof Blob)return u.data.arrayBuffer().then(On).then(r);if(An&&(u.data instanceof ArrayBuffer||Sn(u.data)))return r(On(u.data));_t(u,!1,o=>{Ft||(Ft=new TextEncoder),r(Ft.encode(o))})}const Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let u=0;u<Mn.length;u++)We[Mn.charCodeAt(u)]=u;const Vr=u=>{let r=u.length*.75,o=u.length,c,d=0,y,A,M,_;u[u.length-1]==="="&&(r--,u[u.length-2]==="="&&r--);const q=new ArrayBuffer(r),J=new Uint8Array(q);for(c=0;c<o;c+=4)y=We[u.charCodeAt(c)],A=We[u.charCodeAt(c+1)],M=We[u.charCodeAt(c+2)],_=We[u.charCodeAt(c+3)],J[d++]=y<<2|A>>4,J[d++]=(A&15)<<4|M>>2,J[d++]=(M&3)<<6|_&63;return q},Ur=typeof ArrayBuffer=="function",Nt=(u,r)=>{if(typeof u!="string")return{type:"message",data:Pn(u,r)};const o=u.charAt(0);return o==="b"?{type:"message",data:qr(u.substring(1),r)}:ct[o]?u.length>1?{type:ct[o],data:u.substring(1)}:{type:ct[o]}:Lt},qr=(u,r)=>{if(Ur){const o=Vr(u);return Pn(o,r)}else return{base64:!0,data:u}},Pn=(u,r)=>{switch(r){case"blob":return u instanceof Blob?u:new Blob([u]);case"arraybuffer":default:return u instanceof ArrayBuffer?u:u.buffer}},In="",Wr=(u,r)=>{const o=u.length,c=new Array(o);let d=0;u.forEach((y,A)=>{_t(y,!1,M=>{c[A]=M,++d===o&&r(c.join(In))})})},Kr=(u,r)=>{const o=u.split(In),c=[];for(let d=0;d<o.length;d++){const y=Nt(o[d],r);if(c.push(y),y.type==="error")break}return c};function Zr(){return new TransformStream({transform(u,r){Gr(u,o=>{const c=o.length;let d;if(c<126)d=new Uint8Array(1),new DataView(d.buffer).setUint8(0,c);else if(c<65536){d=new Uint8Array(3);const y=new DataView(d.buffer);y.setUint8(0,126),y.setUint16(1,c)}else{d=new Uint8Array(9);const y=new DataView(d.buffer);y.setUint8(0,127),y.setBigUint64(1,BigInt(c))}u.data&&typeof u.data!="string"&&(d[0]|=128),r.enqueue(d),r.enqueue(o)})}})}let Yt;function ut(u){return u.reduce((r,o)=>r+o.length,0)}function lt(u,r){if(u[0].length===r)return u.shift();const o=new Uint8Array(r);let c=0;for(let d=0;d<r;d++)o[d]=u[0][c++],c===u[0].length&&(u.shift(),c=0);return u.length&&c<u[0].length&&(u[0]=u[0].slice(c)),o}function Hr(u,r){Yt||(Yt=new TextDecoder);const o=[];let c=0,d=-1,y=!1;return new TransformStream({transform(A,M){for(o.push(A);;){if(c===0){if(ut(o)<1)break;const _=lt(o,1);y=(_[0]&128)===128,d=_[0]&127,d<126?c=3:d===126?c=1:c=2}else if(c===1){if(ut(o)<2)break;const _=lt(o,2);d=new DataView(_.buffer,_.byteOffset,_.length).getUint16(0),c=3}else if(c===2){if(ut(o)<8)break;const _=lt(o,8),q=new DataView(_.buffer,_.byteOffset,_.length),J=q.getUint32(0);if(J>Math.pow(2,21)-1){M.enqueue(Lt);break}d=J*Math.pow(2,32)+q.getUint32(4),c=3}else{if(ut(o)<d)break;const _=lt(o,d);M.enqueue(Nt(y?_:Yt.decode(_),r)),c=0}if(d===0||d>u){M.enqueue(Lt);break}}}})}const Cn=4;function re(u){if(u)return Jr(u)}function Jr(u){for(var r in re.prototype)u[r]=re.prototype[r];return u}re.prototype.on=re.prototype.addEventListener=function(u,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(r),this},re.prototype.once=function(u,r){function o(){this.off(u,o),r.apply(this,arguments)}return o.fn=r,this.on(u,o),this},re.prototype.off=re.prototype.removeListener=re.prototype.removeAllListeners=re.prototype.removeEventListener=function(u,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+u];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+u],this;for(var c,d=0;d<o.length;d++)if(c=o[d],c===r||c.fn===r){o.splice(d,1);break}return o.length===0&&delete this._callbacks["$"+u],this},re.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),o=this._callbacks["$"+u],c=1;c<arguments.length;c++)r[c-1]=arguments[c];if(o){o=o.slice(0);for(var c=0,d=o.length;c<d;++c)o[c].apply(this,r)}return this},re.prototype.emitReserved=re.prototype.emit,re.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},re.prototype.hasListeners=function(u){return!!this.listeners(u).length};const ft=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,o)=>o(r,0),we=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Qr="arraybuffer";function as(){}function Rn(u,...r){return r.reduce((o,c)=>(u.hasOwnProperty(c)&&(o[c]=u[c]),o),{})}const Xr=we.setTimeout,$r=we.clearTimeout;function ht(u,r){r.useNativeTimers?(u.setTimeoutFn=Xr.bind(we),u.clearTimeoutFn=$r.bind(we)):(u.setTimeoutFn=we.setTimeout.bind(we),u.clearTimeoutFn=we.clearTimeout.bind(we))}const ei=1.33;function ti(u){return typeof u=="string"?ni(u):Math.ceil((u.byteLength||u.size)*ei)}function ni(u){let r=0,o=0;for(let c=0,d=u.length;c<d;c++)r=u.charCodeAt(c),r<128?o+=1:r<2048?o+=2:r<55296||r>=57344?o+=3:(c++,o+=4);return o}function Dn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ri(u){let r="";for(let o in u)u.hasOwnProperty(o)&&(r.length&&(r+="&"),r+=encodeURIComponent(o)+"="+encodeURIComponent(u[o]));return r}function ii(u){let r={},o=u.split("&");for(let c=0,d=o.length;c<d;c++){let y=o[c].split("=");r[decodeURIComponent(y[0])]=decodeURIComponent(y[1])}return r}class oi extends Error{constructor(r,o,c){super(r),this.description=o,this.context=c,this.type="TransportError"}}class zt extends re{constructor(r){super(),this.writable=!1,ht(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,o,c){return super.emitReserved("error",new oi(r,o,c)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const o=Nt(r,this.socket.binaryType);this.onPacket(o)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,o={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const o=ri(r);return o.length?"?"+o:""}}class si extends zt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const o=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let c=0;this._polling&&(c++,this.once("pollComplete",function(){--c||o()})),this.writable||(c++,this.once("drain",function(){--c||o()}))}else o()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const o=c=>{if(this.readyState==="opening"&&c.type==="open"&&this.onOpen(),c.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(c)};Kr(r,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Wr(r,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=Dn()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(r,o)}}let Bn=!1;try{Bn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ai=Bn;function ci(){}class ui extends si{constructor(r){if(super(r),typeof location<"u"){const o=location.protocol==="https:";let c=location.port;c||(c=o?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||c!==r.port}}doWrite(r,o){const c=this.request({method:"POST",data:r});c.on("success",o),c.on("error",(d,y)=>{this.onError("xhr post error",d,y)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(o,c)=>{this.onError("xhr poll error",o,c)}),this.pollXhr=r}}class Se extends re{constructor(r,o,c){super(),this.createRequest=r,ht(this,c),this._opts=c,this._method=c.method||"GET",this._uri=o,this._data=c.data!==void 0?c.data:null,this._create()}_create(){var r;const o=Rn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this._opts.xd;const c=this._xhr=this.createRequest(o);try{c.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(let d in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(d)&&c.setRequestHeader(d,this._opts.extraHeaders[d])}}catch{}if(this._method==="POST")try{c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{c.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(c),"withCredentials"in c&&(c.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(c.timeout=this._opts.requestTimeout),c.onreadystatechange=()=>{var d;c.readyState===3&&((d=this._opts.cookieJar)===null||d===void 0||d.parseCookies(c.getResponseHeader("set-cookie"))),c.readyState===4&&(c.status===200||c.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof c.status=="number"?c.status:0)},0))},c.send(this._data)}catch(d){this.setTimeoutFn(()=>{this._onError(d)},0);return}typeof document<"u"&&(this._index=Se.requestsCount++,Se.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ci,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Se.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Se.requestsCount=0,Se.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ln);else if(typeof addEventListener=="function"){const u="onpagehide"in we?"pagehide":"unload";addEventListener(u,Ln,!1)}}function Ln(){for(let u in Se.requests)Se.requests.hasOwnProperty(u)&&Se.requests[u].abort()}const li=function(){const u=_n({xdomain:!1});return u&&u.responseType!==null}();class fi extends ui{constructor(r){super(r);const o=r&&r.forceBase64;this.supportsBinary=li&&!o}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Se(_n,this.uri(),r)}}function _n(u){const r=u.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||ai))return new XMLHttpRequest}catch{}if(!r)try{return new we[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Fn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hi extends zt{get name(){return"websocket"}doOpen(){const r=this.uri(),o=this.opts.protocols,c=Fn?{}:Rn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(c.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,o,c)}catch(d){return this.emitReserved("error",d)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let o=0;o<r.length;o++){const c=r[o],d=o===r.length-1;_t(c,this.supportsBinary,y=>{try{this.doWrite(c,y)}catch{}d&&ft(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=Dn()),this.supportsBinary||(o.b64=1),this.createUri(r,o)}}const jt=we.WebSocket||we.MozWebSocket;class pi extends hi{createSocket(r,o,c){return Fn?new jt(r,o,c):o?new jt(r,o):new jt(r)}doWrite(r,o){this.ws.send(o)}}class di extends zt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const o=Hr(Number.MAX_SAFE_INTEGER,this.socket.binaryType),c=r.readable.pipeThrough(o).getReader(),d=Zr();d.readable.pipeTo(r.writable),this._writer=d.writable.getWriter();const y=()=>{c.read().then(({done:M,value:_})=>{M||(this.onPacket(_),y())}).catch(M=>{})};y();const A={type:"open"};this.query.sid&&(A.data=`{"sid":"${this.query.sid}"}`),this._writer.write(A).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let o=0;o<r.length;o++){const c=r[o],d=o===r.length-1;this._writer.write(c).then(()=>{d&&ft(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const gi={websocket:pi,webtransport:di,polling:fi},vi=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gt(u){if(u.length>8e3)throw"URI too long";const r=u,o=u.indexOf("["),c=u.indexOf("]");o!=-1&&c!=-1&&(u=u.substring(0,o)+u.substring(o,c).replace(/:/g,";")+u.substring(c,u.length));let d=vi.exec(u||""),y={},A=14;for(;A--;)y[mi[A]]=d[A]||"";return o!=-1&&c!=-1&&(y.source=r,y.host=y.host.substring(1,y.host.length-1).replace(/;/g,":"),y.authority=y.authority.replace("[","").replace("]","").replace(/;/g,":"),y.ipv6uri=!0),y.pathNames=yi(y,y.path),y.queryKey=bi(y,y.query),y}function yi(u,r){const o=/\/{2,9}/g,c=r.replace(o,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&c.splice(0,1),r.slice(-1)=="/"&&c.splice(c.length-1,1),c}function bi(u,r){const o={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(c,d,y){d&&(o[d]=y)}),o}const Vt=typeof addEventListener=="function"&&typeof removeEventListener=="function",pt=[];Vt&&addEventListener("offline",()=>{pt.forEach(u=>u())},!1);class Re extends re{constructor(r,o){if(super(),this.binaryType=Qr,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(o=r,r=null),r){const c=Gt(r);o.hostname=c.host,o.secure=c.protocol==="https"||c.protocol==="wss",o.port=c.port,c.query&&(o.query=c.query)}else o.host&&(o.hostname=Gt(o.host).host);ht(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},o.transports.forEach(c=>{const d=c.prototype.name;this.transports.push(d),this._transportsByName[d]=c}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ii(this.opts.query)),Vt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const o=Object.assign({},this.opts.query);o.EIO=Cn,o.transport=r,this.id&&(o.sid=this.id);const c=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](c)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&Re.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const o=this.createTransport(r);o.open(),this.setTransport(o)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",o=>this._onClose("transport close",o))}onOpen(){this.readyState="open",Re.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const o=new Error("server error");o.code=r.data,this._onError(o);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let c=0;c<this.writeBuffer.length;c++){const d=this.writeBuffer[c].data;if(d&&(o+=ti(d)),c>0&&o>this._maxPayload)return this.writeBuffer.slice(0,c);o+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,ft(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,o,c){return this._sendPacket("message",r,o,c),this}send(r,o,c){return this._sendPacket("message",r,o,c),this}_sendPacket(r,o,c,d){if(typeof o=="function"&&(d=o,o=void 0),typeof c=="function"&&(d=c,c=null),this.readyState==="closing"||this.readyState==="closed")return;c=c||{},c.compress=c.compress!==!1;const y={type:r,data:o,options:c};this.emitReserved("packetCreate",y),this.writeBuffer.push(y),d&&this.once("flush",d),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),r()},c=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():r()}):this.upgrading?c():r()),this}_onError(r){if(Re.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,o){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Vt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const c=pt.indexOf(this._offlineEventListener);c!==-1&&pt.splice(c,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,o),this.writeBuffer=[],this._prevBufferLen=0}}}Re.protocol=Cn;class wi extends Re{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let o=this.createTransport(r),c=!1;Re.priorWebsocketSuccess=!1;const d=()=>{c||(o.send([{type:"ping",data:"probe"}]),o.once("packet",X=>{if(!c)if(X.type==="pong"&&X.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;Re.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{c||this.readyState!=="closed"&&(J(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const V=new Error("probe error");V.transport=o.name,this.emitReserved("upgradeError",V)}}))};function y(){c||(c=!0,J(),o.close(),o=null)}const A=X=>{const V=new Error("probe error: "+X);V.transport=o.name,y(),this.emitReserved("upgradeError",V)};function M(){A("transport closed")}function _(){A("socket closed")}function q(X){o&&X.name!==o.name&&y()}const J=()=>{o.removeListener("open",d),o.removeListener("error",A),o.removeListener("close",M),this.off("close",_),this.off("upgrading",q)};o.once("open",d),o.once("error",A),o.once("close",M),this.once("close",_),this.once("upgrading",q),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{c||o.open()},200):o.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const o=[];for(let c=0;c<r.length;c++)~this.transports.indexOf(r[c])&&o.push(r[c]);return o}}let xi=class extends wi{constructor(r,o={}){const c=typeof r=="object"?r:o;(!c.transports||c.transports&&typeof c.transports[0]=="string")&&(c.transports=(c.transports||["polling","websocket","webtransport"]).map(d=>gi[d]).filter(d=>!!d)),super(r,c)}};function Ei(u,r="",o){let c=u;o=o||typeof location<"u"&&location,u==null&&(u=o.protocol+"//"+o.host),typeof u=="string"&&(u.charAt(0)==="/"&&(u.charAt(1)==="/"?u=o.protocol+u:u=o.host+u),/^(https?|wss?):\/\//.test(u)||(typeof o<"u"?u=o.protocol+"//"+u:u="https://"+u),c=Gt(u)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";const y=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+y+":"+c.port+r,c.href=c.protocol+"://"+y+(o&&o.port===c.port?"":":"+c.port),c}const ki=typeof ArrayBuffer=="function",Ai=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u.buffer instanceof ArrayBuffer,Nn=Object.prototype.toString,Si=typeof Blob=="function"||typeof Blob<"u"&&Nn.call(Blob)==="[object BlobConstructor]",Ti=typeof File=="function"||typeof File<"u"&&Nn.call(File)==="[object FileConstructor]";function Ut(u){return ki&&(u instanceof ArrayBuffer||Ai(u))||Si&&u instanceof Blob||Ti&&u instanceof File}function dt(u,r){if(!u||typeof u!="object")return!1;if(Array.isArray(u)){for(let o=0,c=u.length;o<c;o++)if(dt(u[o]))return!0;return!1}if(Ut(u))return!0;if(u.toJSON&&typeof u.toJSON=="function"&&arguments.length===1)return dt(u.toJSON(),!0);for(const o in u)if(Object.prototype.hasOwnProperty.call(u,o)&&dt(u[o]))return!0;return!1}function Oi(u){const r=[],o=u.data,c=u;return c.data=qt(o,r),c.attachments=r.length,{packet:c,buffers:r}}function qt(u,r){if(!u)return u;if(Ut(u)){const o={_placeholder:!0,num:r.length};return r.push(u),o}else if(Array.isArray(u)){const o=new Array(u.length);for(let c=0;c<u.length;c++)o[c]=qt(u[c],r);return o}else if(typeof u=="object"&&!(u instanceof Date)){const o={};for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=qt(u[c],r));return o}return u}function Mi(u,r){return u.data=Wt(u.data,r),delete u.attachments,u}function Wt(u,r){if(!u)return u;if(u&&u._placeholder===!0){if(typeof u.num=="number"&&u.num>=0&&u.num<r.length)return r[u.num];throw new Error("illegal attachments")}else if(Array.isArray(u))for(let o=0;o<u.length;o++)u[o]=Wt(u[o],r);else if(typeof u=="object")for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&(u[o]=Wt(u[o],r));return u}const Pi=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ii=5;var K;(function(u){u[u.CONNECT=0]="CONNECT",u[u.DISCONNECT=1]="DISCONNECT",u[u.EVENT=2]="EVENT",u[u.ACK=3]="ACK",u[u.CONNECT_ERROR=4]="CONNECT_ERROR",u[u.BINARY_EVENT=5]="BINARY_EVENT",u[u.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));class Ci{constructor(r){this.replacer=r}encode(r){return(r.type===K.EVENT||r.type===K.ACK)&&dt(r)?this.encodeAsBinary({type:r.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let o=""+r.type;return(r.type===K.BINARY_EVENT||r.type===K.BINARY_ACK)&&(o+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(o+=r.nsp+","),r.id!=null&&(o+=r.id),r.data!=null&&(o+=JSON.stringify(r.data,this.replacer)),o}encodeAsBinary(r){const o=Oi(r),c=this.encodeAsString(o.packet),d=o.buffers;return d.unshift(c),d}}function Yn(u){return Object.prototype.toString.call(u)==="[object Object]"}class Kt extends re{constructor(r){super(),this.reviver=r}add(r){let o;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(r);const c=o.type===K.BINARY_EVENT;c||o.type===K.BINARY_ACK?(o.type=c?K.EVENT:K.ACK,this.reconstructor=new Ri(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Ut(r)||r.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(r),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let o=0;const c={type:Number(r.charAt(0))};if(K[c.type]===void 0)throw new Error("unknown packet type "+c.type);if(c.type===K.BINARY_EVENT||c.type===K.BINARY_ACK){const y=o+1;for(;r.charAt(++o)!=="-"&&o!=r.length;);const A=r.substring(y,o);if(A!=Number(A)||r.charAt(o)!=="-")throw new Error("Illegal attachments");c.attachments=Number(A)}if(r.charAt(o+1)==="/"){const y=o+1;for(;++o&&!(r.charAt(o)===","||o===r.length););c.nsp=r.substring(y,o)}else c.nsp="/";const d=r.charAt(o+1);if(d!==""&&Number(d)==d){const y=o+1;for(;++o;){const A=r.charAt(o);if(A==null||Number(A)!=A){--o;break}if(o===r.length)break}c.id=Number(r.substring(y,o+1))}if(r.charAt(++o)){const y=this.tryParse(r.substr(o));if(Kt.isPayloadValid(c.type,y))c.data=y;else throw new Error("invalid payload")}return c}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,o){switch(r){case K.CONNECT:return Yn(o);case K.DISCONNECT:return o===void 0;case K.CONNECT_ERROR:return typeof o=="string"||Yn(o);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&Pi.indexOf(o[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ri{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const o=Mi(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Di=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Kt,Encoder:Ci,get PacketType(){return K},protocol:Ii},Symbol.toStringTag,{value:"Module"}));function xe(u,r,o){return u.on(r,o),function(){u.off(r,o)}}const Bi=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class zn extends re{constructor(r,o,c){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=o,c&&c.auth&&(this.auth=c.auth),this._opts=Object.assign({},c),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[xe(r,"open",this.onopen.bind(this)),xe(r,"packet",this.onpacket.bind(this)),xe(r,"error",this.onerror.bind(this)),xe(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...o){var c,d,y;if(Bi.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(o.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const A={type:K.EVENT,data:o};if(A.options={},A.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){const J=this.ids++,X=o.pop();this._registerAckCallback(J,X),A.id=J}const M=(d=(c=this.io.engine)===null||c===void 0?void 0:c.transport)===null||d===void 0?void 0:d.writable,_=this.connected&&!(!((y=this.io.engine)===null||y===void 0)&&y._hasPingExpired());return this.flags.volatile&&!M||(_?(this.notifyOutgoingListeners(A),this.packet(A)):this.sendBuffer.push(A)),this.flags={},this}_registerAckCallback(r,o){var c;const d=(c=this.flags.timeout)!==null&&c!==void 0?c:this._opts.ackTimeout;if(d===void 0){this.acks[r]=o;return}const y=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let M=0;M<this.sendBuffer.length;M++)this.sendBuffer[M].id===r&&this.sendBuffer.splice(M,1);o.call(this,new Error("operation has timed out"))},d),A=(...M)=>{this.io.clearTimeoutFn(y),o.apply(this,M)};A.withError=!0,this.acks[r]=A}emitWithAck(r,...o){return new Promise((c,d)=>{const y=(A,M)=>A?d(A):c(M);y.withError=!0,o.push(y),this.emit(r,...o)})}_addToQueue(r){let o;typeof r[r.length-1]=="function"&&(o=r.pop());const c={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((d,...y)=>c!==this._queue[0]?void 0:(d!==null?c.tryCount>this._opts.retries&&(this._queue.shift(),o&&o(d)):(this._queue.shift(),o&&o(null,...y)),c.pending=!1,this._drainQueue())),this._queue.push(c),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!r||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:K.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(c=>String(c.id)===r)){const c=this.acks[r];delete this.acks[r],c.withError&&c.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case K.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(r);break;case K.ACK:case K.BINARY_ACK:this.onack(r);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();const c=new Error(r.data.message);c.data=r.data.data,this.emitReserved("connect_error",c);break}}onevent(r){const o=r.data||[];r.id!=null&&o.push(this.ack(r.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const c of o)c.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const o=this;let c=!1;return function(...d){c||(c=!0,o.packet({type:K.ACK,id:r,data:d}))}}onack(r){const o=this.acks[r.id];typeof o=="function"&&(delete this.acks[r.id],o.withError&&r.data.unshift(null),o.apply(this,r.data))}onconnect(r,o){this.id=r,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const o=this._anyListeners;for(let c=0;c<o.length;c++)if(r===o[c])return o.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const o=this._anyOutgoingListeners;for(let c=0;c<o.length;c++)if(r===o[c])return o.splice(c,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const c of o)c.apply(this,r.data)}}}function Ve(u){u=u||{},this.ms=u.min||100,this.max=u.max||1e4,this.factor=u.factor||2,this.jitter=u.jitter>0&&u.jitter<=1?u.jitter:0,this.attempts=0}Ve.prototype.duration=function(){var u=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),o=Math.floor(r*this.jitter*u);u=(Math.floor(r*10)&1)==0?u-o:u+o}return Math.min(u,this.max)|0},Ve.prototype.reset=function(){this.attempts=0},Ve.prototype.setMin=function(u){this.ms=u},Ve.prototype.setMax=function(u){this.max=u},Ve.prototype.setJitter=function(u){this.jitter=u};class Zt extends re{constructor(r,o){var c;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(o=r,r=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,ht(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((c=o.randomizationFactor)!==null&&c!==void 0?c:.5),this.backoff=new Ve({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=r;const d=o.parser||Di;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var o;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(o=this.backoff)===null||o===void 0||o.setMin(r),this)}randomizationFactor(r){var o;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(o=this.backoff)===null||o===void 0||o.setJitter(r),this)}reconnectionDelayMax(r){var o;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(o=this.backoff)===null||o===void 0||o.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new xi(this.uri,this.opts);const o=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;const d=xe(o,"open",function(){c.onopen(),r&&r()}),y=M=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",M),r?r(M):this.maybeReconnectOnOpen()},A=xe(o,"error",y);if(this._timeout!==!1){const M=this._timeout,_=this.setTimeoutFn(()=>{d(),y(new Error("timeout")),o.close()},M);this.opts.autoUnref&&_.unref(),this.subs.push(()=>{this.clearTimeoutFn(_)})}return this.subs.push(d),this.subs.push(A),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(xe(r,"ping",this.onping.bind(this)),xe(r,"data",this.ondata.bind(this)),xe(r,"error",this.onerror.bind(this)),xe(r,"close",this.onclose.bind(this)),xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(o){this.onclose("parse error",o)}}ondecoded(r){ft(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,o){let c=this.nsps[r];return c?this._autoConnect&&!c.active&&c.connect():(c=new zn(this,r,o),this.nsps[r]=c),c}_destroy(r){const o=Object.keys(this.nsps);for(const c of o)if(this.nsps[c].active)return;this._close()}_packet(r){const o=this.encoder.encode(r);for(let c=0;c<o.length;c++)this.engine.write(o[c],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,o){var c;this.cleanup(),(c=this.engine)===null||c===void 0||c.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const c=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(d=>{d?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",d)):r.onreconnect()}))},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Ke={};function gt(u,r){typeof u=="object"&&(r=u,u=void 0),r=r||{};const o=Ei(u,r.path||"/socket.io"),c=o.source,d=o.id,y=o.path,A=Ke[d]&&y in Ke[d].nsps,M=r.forceNew||r["force new connection"]||r.multiplex===!1||A;let _;return M?_=new Zt(c,r):(Ke[d]||(Ke[d]=new Zt(c,r)),_=Ke[d]),o.query&&!r.query&&(r.query=o.queryKey),_.socket(o.path,r)}Object.assign(gt,{Manager:Zt,Socket:zn,io:gt,connect:gt});class Li extends Error{constructor(o,c){super(c);Fe(this,"code");this.code=o,this.message=c}}let ve;class _i extends jr.EventEmitter{constructor(o=console){super();Fe(this,"logger");this.logger=o}connect(o,c){const d=this.logger;return new Promise((y,A)=>{ve=gt(o,{query:{token:c.token}}),ve.on("connect_error",M=>{d.error(`socket.io connect error, id: ${ve.id}, err: ${M.message}`),A(new Li("connectError",M.message))}),ve.on("connect",()=>{d.info(`socket.io connected, id: ${ve.id}`)}),ve.on("disconnect",()=>{d.warn(`socket.io disconnected, id: ${ve.id}`)}),ve.on("signal",M=>{this.emit("message",M)}),ve.io.on("reconnect",M=>{d.info(`socket.io reconnected, attempt: ${M}`)}),ve.io.on("reconnect_attempt",M=>{d.warn(`socket.io reconnect attempt, attempt: ${M}`),this.emit("reconnectAttempt")}),ve.io.on("reconnect_error",M=>{d.error(`socket.io reconnect error, err: ${M.message}`)}),ve.io.on("reconnect_failed",()=>{d.error("socket.io reconnect failed"),this.emit("reconnectFailed")})})}close(){return new Promise(o=>{ve.close(),o()})}}const Fi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAADYCAMAAAC+/t3fAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURUdwTDLI/zzH/TLI/z7P/TLI/zHH/jLH/zLI/zPH/7u9vDLH/+zm4TPH/9unoDPI/zHI/2CXpdvc3uHi4+/r57/Byfnz7NnX1VFFRTLI/zLH/k08OFVDPjPF+iMiKfvcvCoiITspIhkUE005Mkk0LFZIRC4cFUcwJjIlITIoKSIZFiYfHSslJxUNC+bHtkEwKPjdyB0RDB4eJzomHeHAr0A1NPz69EIsI+jKujotKvPPtExBP8mhjFQ/OEY4NT4xMCQlMO7Do8iVfDAhGsyZfPrYuNiqkNuwligqNWJSSx8cIFtNSSswPvDLr928q/fZxGhYUe/HqhoYHem/oevJs2xeV/nh0MOjm1g6L82eguPEs+i6mPnGsEFLXHRlXT5EUvi7pzXC9M2Rcvrn19i3qcqomfXUueu8rzI3RVE2LCcWDzc+TkM8PzgiGDbA78+snNekh73Ez2Q/M/nKtwwIBktLUPns3922ntGmjX1tZfjBqezMuenDrNmzoPm3oPW/rzMsL8WbiO3QwOa0kfbOq8GIcfnPveOtivXUwvnTruy/msKenElTYuC6pDe86Tq44dGwpHRSSrSQhTuz277M3/qxmu63qWZIP7+Bab6WibaeoOqlljUyN+rNvkOYstiQhEKPqfPEt8CQez6fwNiFejqnzXNDMEB7kZFYRU1aaH1bUtN6dbR6Y+2tnrqak1VVV9mxsYd3bqpzWfTJoeG5sNeceT2v045qYaJ8bNaVbeGkfNmci4hiWMyusMymp7CEb7CJfUCGoHlKP55fQOidjdWMX55mU5hzauq0n05ibaxqSr6qqUdxg8iTlvjz6qODecF+g4ZSOz5lfd9ZPsd2X8ZFLcWLj1JtcsNrV8u3sVdmXkmqxG92a1QwI9SbnMNURbh1d9+Latt7WN5pRuWVePakh8qGhamVl0wnGe1qW1eMlN/Z2GU1Iqi0vlmjspWOkI9KL/V3Z6ZqaFV8h1Z8a2yDeouCgeuSh9DLyM1jPpmkqvWIcZwvInaxuoV6iUdwTIaiDnQAAAEAdFJOUwCmMHAQxIDv3yD9YPxA/VCQ/ms+nre7FlD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wCfCrf8AABCMklEQVR42tScfVSTZ7b2j1Vbte3bvn9qUk4e8v1BI4SsNIYkaDxKCGpEKVELtI5ogKS2KVGp2Al1UFehLYlrJqCpWqwIlELhrSVtURAdULRlVKx2zlDrR61nVY8eu5ZLO+vMeq99B3C6VrWPHex0tqAUwcmPa+/r3ve+72f+7b7GuImPPfzgmDHjx0+Y8NDkWEyYMH78mMcffPjRB/7tXzLGPTr28fETGMqUKZN/ECP/+dD4x8c+Ou5fCOqBsWOAxDfGjxn76L8A1KNjxz/EROEfTLuxv+bMHPfwGAb182LCmMfG/TqpINXPhBqpvTEP/9rYHgXV6MSYx35FZvEgLyr+OTnxVyLWaFLFcnL8w//0yvoxsbByPfH85l07d+7ctvv48d3bdn74xhNTEM89/2HsU8eP7t+588Pnn8Nn7ygbqu1XhsWodu4/WplT2dDg95vyciqP79/15htvbN5Gn8wrKnIX4a8AtwOfvTPbhAcn/sqw3ti1Y/fhSr/Jo9d7TCaPRw+Q47sRDTlFGRnuDHcR2PAHfXb/rs3PP8ED7VeBtf9Ui18qNRGTNeIx6S2RiLsINHmeSFpaBkVaalwqIi3DnXf86I5db9wF7RdPyLE/VlvA2rn/sN8kEIstAgEjs1rwHgBLXAa4UlMz0tJSk5KSMtOTkoiM6bZj111Ue/if74SEtbsBWCwser3eIvDorR6jNZCWlpYe0QdIJoaVmcSg3JSVeXk5qMG7qPbLLWwTx/w41i5gCc1mMwMTIgR6PVVaQKlJS820WjVxcalxMSxkZwTigY5Ey6s8vmPzc3cim4J17Z+Yhc9t3oEkJKkoBBaB0GG32016j0WvBFhckjUALoaVFokEkJVDATzUWsPunXcUbcpDY38Jue6YhS1CYA2DCUwWi8melevEn8qA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";var Ze={exports:{}},Ni=Ze.exports,jn;function Yi(){return jn||(jn=1,function(u,r){(function(o,c){u.exports=c()})(Ni,function(){function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(i){_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function d(t){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ae(i.key),i)}}function M(t,e,n){return e&&A(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t,e,n){return(e=ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X(t,e)}function V(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=J(t);if(e){var s=J(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(a,l){if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(a)}(this,n)}}function ie(){return ie=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(a,l){for(;!Object.prototype.hasOwnProperty.call(a,l)&&(a=J(a))!==null;);return a}(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},ie.apply(this,arguments)}function ae(t){var e=function(n,i){if(typeof n!="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,i);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return typeof e=="symbol"?e:e+""}var $=function(t){return!(!t||!t.Window)&&t instanceof t.Window},se=void 0,pe=void 0;function me(t){se=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&typeof t.wrap=="function"&&t.wrap(e)===e&&(t=t.wrap(t)),pe=t}function T(t){return $(t)?t:(t.ownerDocument||t).defaultView||pe.window}typeof window<"u"&&window&&me(window);var S=function(t){return!!t&&d(t)==="object"},P=function(t){return typeof t=="function"},v={window:function(t){return t===pe||$(t)},docFrag:function(t){return S(t)&&t.nodeType===11},object:S,func:P,number:function(t){return typeof t=="number"},bool:function(t){return typeof t=="boolean"},string:function(t){return typeof t=="string"},element:function(t){if(!t||d(t)!=="object")return!1;var e=T(t)||pe;return/object|function/.test(typeof Element>"u"?"undefined":d(Element))?t instanceof Element||t instanceof e.Element:t.nodeType===1&&typeof t.nodeName=="string"},plainObject:function(t){return S(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return S(t)&&t.length!==void 0&&P(t.splice)}};function F(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.prepared.axis;n==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):n==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function H(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="drag"){var i=n.prepared.axis;if(i==="x"||i==="y"){var s=i==="x"?"y":"x";e.page[s]=n.coords.start.page[s],e.client[s]=n.coords.start.client[s],e.delta[s]=0}}}var j={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.draggable=j.draggable,e.map.drag=j,e.methodDict.drag="draggable",i.actions.drag=j.defaults},listeners:{"interactions:before-action-move":F,"interactions:action-resume":F,"interactions:action-move":H,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.buttons,s=n.options.drag;if(s&&s.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||(i&n.options.drag.mouseButtons)!=0))return t.action={name:"drag",axis:s.lockAxis==="start"?s.startAxis:s.lockAxis},!1}},draggable:function(t){return v.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):v.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:F,move:H,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(t){return t.search("drag")===0}},ce=j,oe={init:function(t){var e=t;oe.document=e.document,oe.DocumentFragment=e.DocumentFragment||ye,oe.SVGElement=e.SVGElement||ye,oe.SVGSVGElement=e.SVGSVGElement||ye,oe.SVGElementInstance=e.SVGElementInstance||ye,oe.Element=e.Element||ye,oe.HTMLElement=e.HTMLElement||oe.Element,oe.Event=e.Event,oe.Touch=e.Touch||ye,oe.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ye(){}var te=oe,fe={init:function(t){var e=te.Element,n=t.navigator||{};fe.supportsTouch="ontouchstart"in t||v.func(t.DocumentTouch)&&te.document instanceof t.DocumentTouch,fe.supportsPointerEvent=n.pointerEnabled!==!1&&!!te.PointerEvent,fe.isIOS=/iP(hone|od|ad)/.test(n.platform),fe.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),fe.isIe9=/MSIE 9/.test(n.userAgent),fe.isOperaMobile=n.appName==="Opera"&&fe.supportsTouch&&/Presto/.test(n.userAgent),fe.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",fe.pEventTypes=fe.supportsPointerEvent?te.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,fe.wheelEvent=te.document&&"onmousewheel"in te.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},w=fe;function E(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function I(t,e){for(;v.element(t);){if(D(t,e))return t;t=N(t)}return null}function N(t){var e=t.parentNode;if(v.docFrag(e)){for(;(e=e.host)&&v.docFrag(e););return e}return e}function D(t,e){return pe!==se&&(e=e.replace(/\/deep\//g," ")),t[w.prefixedMatchesSelector](e)}var Q=function(t){return t.parentNode||t.host};function ne(t,e){for(var n,i=[],s=t;(n=Q(s))&&s!==e&&n!==s.ownerDocument;)i.unshift(s),s=n;return i}function ue(t,e,n){for(;v.element(t);){if(D(t,e))return!0;if((t=N(t))===n)return D(t,e)}return!1}function he(t){return t.correspondingUseElement||t}function Te(t){var e=t instanceof te.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function Me(t){var e,n=Te(t);if(!w.isIOS7&&n){var i={x:(e=(e=T(t))||pe).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n}function Oe(t){for(var e=[];t;)e.push(t),t=N(t);return e}function Vn(t){return!!v.string(t)&&(te.document.querySelector(t),!0)}function L(t,e){for(var n in e)t[n]=e[n];return t}function Un(t,e,n){return t==="parent"?N(n):t==="self"?e.getRect(n):I(n,t)}function He(t,e,n,i){var s=t;return v.string(s)?s=Un(s,e,n):v.func(s)&&(s=s.apply(void 0,i)),v.element(s)&&(s=Me(s)),s}function mt(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function Ht(t){return!t||"x"in t&&"y"in t||((t=L({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function yt(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function Je(t,e,n){var i=n&&t.options[n];return mt(He(i&&i.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function Ne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(h){return!0},i=arguments.length>3?arguments[3]:void 0;if(i=i||{},v.string(t)&&t.search(" ")!==-1&&(t=qn(t)),v.array(t))return t.forEach(function(h){return Ne(h,e,n,i)}),i;if(v.object(t)&&(e=t,t=""),v.func(e)&&n(t))i[t]=i[t]||[],i[t].push(e);else if(v.array(e))for(var s=0,a=e;s<a.length;s++){var l=a[s];Ne(t,l,n,i)}else if(v.object(e))for(var f in e)Ne(qn(f).map(function(h){return"".concat(t).concat(h)}),e[f],n,i);return i}function qn(t){return t.trim().split(/ +/)}var Qe=function(t,e){return Math.sqrt(t*t+e*e)},qi=["webkit","moz"];function bt(t,e){t.__set||(t.__set={});var n=function(s){if(qi.some(function(a){return s.indexOf(a)===0}))return 1;typeof t[s]!="function"&&s!=="__set"&&Object.defineProperty(t,s,{get:function(){return s in t.__set?t.__set[s]:t.__set[s]=e[s]},set:function(a){t.__set[s]=a},configurable:!0})};for(var i in e)n(i);return t}function wt(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function Wn(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function Kn(t){return t instanceof te.Event||t instanceof te.Touch}function xt(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function Zn(t,e){return e=e||{x:0,y:0},w.isOperaMobile&&Kn(t)?(xt("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):xt("page",t,e),e}function Xe(t){return v.number(t.pointerId)?t.pointerId:t.identifier}function Wi(t,e,n){var i=e.length>1?Hn(e):e[0];Zn(i,t.page),function(s,a){a=a||{},w.isOperaMobile&&Kn(s)?xt("screen",s,a):xt("client",s,a)}(i,t.client),t.timeStamp=n}function Jt(t){var e=[];return v.array(t)?(e[0]=t[0],e[1]=t[1]):t.type==="touchend"?t.touches.length===1?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):t.touches.length===0&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function Hn(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var i=t[n];for(var s in e)e[s]+=i[s]}for(var a in e)e[a]/=t.length;return e}function Qt(t){if(!t.length)return null;var e=Jt(t),n=Math.min(e[0].pageX,e[1].pageX),i=Math.min(e[0].pageY,e[1].pageY),s=Math.max(e[0].pageX,e[1].pageX),a=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:i,left:n,top:i,right:s,bottom:a,width:s-n,height:a-i}}function Xt(t,e){var n=e+"X",i=e+"Y",s=Jt(t),a=s[0][n]-s[1][n],l=s[0][i]-s[1][i];return Qe(a,l)}function $t(t,e){var n=e+"X",i=e+"Y",s=Jt(t),a=s[1][n]-s[0][n],l=s[1][i]-s[0][i];return 180*Math.atan2(l,a)/Math.PI}function Jn(t){return v.string(t.pointerType)?t.pointerType:v.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof te.Touch?"touch":"mouse"}function Qn(t){var e=v.func(t.composedPath)?t.composedPath():t.path;return[he(e?e[0]:t.target),he(t.currentTarget)]}var Et=function(){function t(e){y(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return M(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}();Object.defineProperty(Et.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Xn=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.push(i)}return t},$n=function(t){return Xn([],t)},$e=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},et=function(t,e){return t[$e(t,e)]},Ue=function(t){q(n,t);var e=Z(n);function n(i,s,a){var l;y(this,n),(l=e.call(this,s._interaction)).dropzone=void 0,l.dragEvent=void 0,l.relatedTarget=void 0,l.draggable=void 0,l.propagationStopped=!1,l.immediatePropagationStopped=!1;var f=a==="dragleave"?i.prev:i.cur,h=f.element,g=f.dropzone;return l.type=a,l.target=h,l.currentTarget=h,l.dropzone=g,l.dragEvent=s,l.relatedTarget=s.target,l.draggable=s.interactable,l.timeStamp=s.timeStamp,l}return M(n,[{key:"reject",value:function(){var i=this,s=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&s.cur.dropzone===this.dropzone&&s.cur.element===this.target)if(s.prev.dropzone=this.dropzone,s.prev.element=this.target,s.rejected=!0,s.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var a=s.activeDrops,l=$e(a,function(h){var g=h.dropzone,p=h.element;return g===i.dropzone&&p===i.target});s.activeDrops.splice(l,1);var f=new n(s,this.dragEvent,"dropdeactivate");f.dropzone=this.dropzone,f.target=this.target,this.dropzone.fire(f)}else this.dropzone.fire(new n(s,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(Et);function er(t,e){for(var n=0,i=t.slice();n<i.length;n++){var s=i[n],a=s.dropzone,l=s.element;e.dropzone=a,e.target=l,a.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function en(t,e){for(var n=function(a,l){for(var f=[],h=0,g=a.interactables.list;h<g.length;h++){var p=g[h];if(p.options.drop.enabled){var m=p.options.drop.accept;if(!(v.element(m)&&m!==l||v.string(m)&&!D(l,m)||v.func(m)&&!m({dropzone:p,draggableElement:l})))for(var b=0,k=p.getAllElements();b<k.length;b++){var x=k[b];x!==l&&f.push({dropzone:p,element:x,rect:p.getRect(x)})}}}return f}(t,e),i=0;i<n.length;i++){var s=n[i];s.rect=s.dropzone.getRect(s.element)}return n}function tr(t,e,n){for(var i=t.dropState,s=t.interactable,a=t.element,l=[],f=0,h=i.activeDrops;f<h.length;f++){var g=h[f],p=g.dropzone,m=g.element,b=g.rect,k=p.dropCheck(e,n,s,a,m,b);l.push(k?m:null)}var x=function(O){for(var R,C,B,G=[],W=0;W<O.length;W++){var Y=O[W],U=O[R];if(Y&&W!==R)if(U){var ge=Q(Y),ee=Q(U);if(ge!==Y.ownerDocument)if(ee!==Y.ownerDocument)if(ge!==ee){G=G.length?G:ne(U);var be=void 0;if(U instanceof te.HTMLElement&&Y instanceof te.SVGElement&&!(Y instanceof te.SVGSVGElement)){if(Y===ee)continue;be=Y.ownerSVGElement}else be=Y;for(var Ee=ne(be,U.ownerDocument),Ce=0;Ee[Ce]&&Ee[Ce]===G[Ce];)Ce++;var Ct=[Ee[Ce-1],Ee[Ce],G[Ce]];if(Ct[0])for(var st=Ct[0].lastChild;st;){if(st===Ct[1]){R=W,G=Ee;break}if(st===Ct[2])break;st=st.previousSibling}}else B=U,(parseInt(T(C=Y).getComputedStyle(C).zIndex,10)||0)>=(parseInt(T(B).getComputedStyle(B).zIndex,10)||0)&&(R=W);else R=W}else R=W}return R}(l);return i.activeDrops[x]||null}function tn(t,e,n){var i=t.dropState,s={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(s.activate=new Ue(i,n,"dropactivate"),s.activate.target=null,s.activate.dropzone=null),n.type==="dragend"&&(s.deactivate=new Ue(i,n,"dropdeactivate"),s.deactivate.target=null,s.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(s.leave=new Ue(i,n,"dragleave"),n.dragLeave=s.leave.target=i.prev.element,n.prevDropzone=s.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(s.enter=new Ue(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),n.type==="dragend"&&i.cur.dropzone&&(s.drop=new Ue(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),n.type==="dragmove"&&i.cur.dropzone&&(s.move=new Ue(i,n,"dropmove"),n.dropzone=i.cur.dropzone)),s}function nn(t,e){var n=t.dropState,i=n.activeDrops,s=n.cur,a=n.prev;e.leave&&a.dropzone.fire(e.leave),e.enter&&s.dropzone.fire(e.enter),e.move&&s.dropzone.fire(e.move),e.drop&&s.dropzone.fire(e.drop),e.deactivate&&er(i,e.deactivate),n.prev.dropzone=s.dropzone,n.prev.element=s.element}function nr(t,e){var n=t.interaction,i=t.iEvent,s=t.event;if(i.type==="dragmove"||i.type==="dragend"){var a=n.dropState;e.dynamicDrop&&(a.activeDrops=en(e,n.element));var l=i,f=tr(n,l,s);a.rejected=a.rejected&&!!f&&f.dropzone===a.cur.dropzone&&f.element===a.cur.element,a.cur.dropzone=f&&f.dropzone,a.cur.element=f&&f.element,a.events=tn(n,0,l)}}var rr={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,i=t.Interactable,s=t.defaults;t.usePlugin(ce),i.prototype.dropzone=function(a){return function(l,f){if(v.object(f)){if(l.options.drop.enabled=f.enabled!==!1,f.listeners){var h=Ne(f.listeners),g=Object.keys(h).reduce(function(m,b){return m[/^(enter|leave)/.test(b)?"drag".concat(b):/^(activate|deactivate|move)/.test(b)?"drop".concat(b):b]=h[b],m},{}),p=l.options.drop.listeners;p&&l.off(p),l.on(g),l.options.drop.listeners=g}return v.func(f.ondrop)&&l.on("drop",f.ondrop),v.func(f.ondropactivate)&&l.on("dropactivate",f.ondropactivate),v.func(f.ondropdeactivate)&&l.on("dropdeactivate",f.ondropdeactivate),v.func(f.ondragenter)&&l.on("dragenter",f.ondragenter),v.func(f.ondragleave)&&l.on("dragleave",f.ondragleave),v.func(f.ondropmove)&&l.on("dropmove",f.ondropmove),/^(pointer|center)$/.test(f.overlap)?l.options.drop.overlap=f.overlap:v.number(f.overlap)&&(l.options.drop.overlap=Math.max(Math.min(1,f.overlap),0)),"accept"in f&&(l.options.drop.accept=f.accept),"checker"in f&&(l.options.drop.checker=f.checker),l}return v.bool(f)?(l.options.drop.enabled=f,l):l.options.drop}(this,a)},i.prototype.dropCheck=function(a,l,f,h,g,p){return function(m,b,k,x,O,R,C){var B=!1;if(!(C=C||m.getRect(R)))return!!m.options.drop.checker&&m.options.drop.checker(b,k,B,m,R,x,O);var G=m.options.drop.overlap;if(G==="pointer"){var W=Je(x,O,"drag"),Y=Zn(b);Y.x+=W.x,Y.y+=W.y;var U=Y.x>C.left&&Y.x<C.right,ge=Y.y>C.top&&Y.y<C.bottom;B=U&&ge}var ee=x.getRect(O);if(ee&&G==="center"){var be=ee.left+ee.width/2,Ee=ee.top+ee.height/2;B=be>=C.left&&be<=C.right&&Ee>=C.top&&Ee<=C.bottom}return ee&&v.number(G)&&(B=Math.max(0,Math.min(C.right,ee.right)-Math.max(C.left,ee.left))*Math.max(0,Math.min(C.bottom,ee.bottom)-Math.max(C.top,ee.top))/(ee.width*ee.height)>=G),m.options.drop.checker&&(B=m.options.drop.checker(b,k,B,m,R,x,O)),B}(this,a,l,f,h,g,p)},n.dynamicDrop=function(a){return v.bool(a)?(t.dynamicDrop=a,n):t.dynamicDrop},L(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,s.actions.drop=rr.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,i=(t.event,t.iEvent);if(n.prepared.name==="drag"){var s=n.dropState;s.activeDrops=[],s.events={},s.activeDrops=en(e,n.element),s.events=tn(n,0,i),s.events.activate&&(er(s.activeDrops,s.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":nr,"interactions:after-action-move":function(t,e){var n=t.interaction,i=t.iEvent;if(n.prepared.name==="drag"){var s=n.dropState;nn(n,s.events),e.fire("actions/drop:move",{interaction:n,dragEvent:i}),s.events={}}},"interactions:action-end":function(t,e){if(t.interaction.prepared.name==="drag"){var n=t.interaction,i=t.iEvent;nr(t,e),nn(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:en,getDrop:tr,getDropEvents:tn,fireDropEvents:nn,filterEventType:function(t){return t.search("drag")===0||t.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ki=rr;function rn(t){var e=t.interaction,n=t.iEvent,i=t.phase;if(e.prepared.name==="gesture"){var s=e.pointers.map(function(g){return g.pointer}),a=i==="start",l=i==="end",f=e.interactable.options.deltaSource;if(n.touches=[s[0],s[1]],a)n.distance=Xt(s,f),n.box=Qt(s),n.scale=1,n.ds=0,n.angle=$t(s,f),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(l||e.pointers.length<2){var h=e.prevEvent;n.distance=h.distance,n.box=h.box,n.scale=h.scale,n.ds=0,n.angle=h.angle,n.da=0}else n.distance=Xt(s,f),n.box=Qt(s),n.scale=n.distance/e.gesture.startDistance,n.angle=$t(s,f),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,v.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}var on={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.gesturable=function(s){return v.object(s)?(this.options.gesture.enabled=s.enabled!==!1,this.setPerAction("gesture",s),this.setOnEvents("gesture",s),this):v.bool(s)?(this.options.gesture.enabled=s,this):this.options.gesture},e.map.gesture=on,e.methodDict.gesture="gesturable",i.actions.gesture=on.defaults},listeners:{"interactions:action-start":rn,"interactions:action-move":rn,"interactions:action-end":rn,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(t){return t.search("gesture")===0}},Zi=on;function Hi(t,e,n,i,s,a,l){if(!e)return!1;if(e===!0){var f=v.number(a.width)?a.width:a.right-a.left,h=v.number(a.height)?a.height:a.bottom-a.top;if(l=Math.min(l,Math.abs((t==="left"||t==="right"?f:h)/2)),f<0&&(t==="left"?t="right":t==="right"&&(t="left")),h<0&&(t==="top"?t="bottom":t==="bottom"&&(t="top")),t==="left"){var g=f>=0?a.left:a.right;return n.x<g+l}if(t==="top"){var p=h>=0?a.top:a.bottom;return n.y<p+l}if(t==="right")return n.x>(f>=0?a.right:a.left)-l;if(t==="bottom")return n.y>(h>=0?a.bottom:a.top)-l}return!!v.element(i)&&(v.element(e)?e===i:ue(i,e,s))}function ir(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var i=e;n.interactable.options.resize.square?(n.resizeAxes==="y"?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,n.resizeAxes==="x"?i.delta.y=0:n.resizeAxes==="y"&&(i.delta.x=0))}}var Pe,Ye,Ie={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,i=t.Interactable,s=t.defaults;Ie.cursors=function(a){return a.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Ie.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(a){return function(l,f,h){return v.object(f)?(l.options.resize.enabled=f.enabled!==!1,l.setPerAction("resize",f),l.setOnEvents("resize",f),v.string(f.axis)&&/^x$|^y$|^xy$/.test(f.axis)?l.options.resize.axis=f.axis:f.axis===null&&(l.options.resize.axis=h.defaults.actions.resize.axis),v.bool(f.preserveAspectRatio)?l.options.resize.preserveAspectRatio=f.preserveAspectRatio:v.bool(f.square)&&(l.options.resize.square=f.square),l):v.bool(f)?(l.options.resize.enabled=f,l):l.options.resize}(this,a,t)},e.map.resize=Ie,e.methodDict.resize="resizable",s.actions.resize=Ie.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){(function(e){var n=e.iEvent,i=e.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var s=n,a=i.rect;i._rects={start:L({},a),corrected:L({},a),previous:L({},a),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},s.edges=i.prepared.edges,s.rect=i._rects.corrected,s.deltaRect=i._rects.delta}})(t),ir(t)},"interactions:action-move":function(t){(function(e){var n=e.iEvent,i=e.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var s=n,a=i.interactable.options.resize.invert,l=a==="reposition"||a==="negate",f=i.rect,h=i._rects,g=h.start,p=h.corrected,m=h.delta,b=h.previous;if(L(b,p),l){if(L(p,f),a==="reposition"){if(p.top>p.bottom){var k=p.top;p.top=p.bottom,p.bottom=k}if(p.left>p.right){var x=p.left;p.left=p.right,p.right=x}}}else p.top=Math.min(f.top,g.bottom),p.bottom=Math.max(f.bottom,g.top),p.left=Math.min(f.left,g.right),p.right=Math.max(f.right,g.left);for(var O in p.width=p.right-p.left,p.height=p.bottom-p.top,p)m[O]=p[O]-b[O];s.edges=i.prepared.edges,s.rect=p,s.deltaRect=m}})(t),ir(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=e;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.element,s=t.rect,a=t.buttons;if(s){var l=L({},e.coords.cur.page),f=n.options.resize;if(f&&f.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||(a&f.mouseButtons)!=0)){if(v.object(f.edges)){var h={left:!1,right:!1,top:!1,bottom:!1};for(var g in h)h[g]=Hi(g,f.edges[g],l,e._latestPointer.eventTarget,i,s,f.margin||Ie.defaultMargin);h.left=h.left&&!h.right,h.top=h.top&&!h.bottom,(h.left||h.right||h.top||h.bottom)&&(t.action={name:"resize",edges:h})}else{var p=f.axis!=="y"&&l.x>s.right-Ie.defaultMargin,m=f.axis!=="x"&&l.y>s.bottom-Ie.defaultMargin;(p||m)&&(t.action={name:"resize",axes:(p?"x":"")+(m?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,i=t.name,s=Ie.cursors,a=null;if(n)a=s[i+n];else if(e){for(var l="",f=0,h=["top","bottom","left","right"];f<h.length;f++){var g=h[f];e[g]&&(l+=g)}a=s[l]}return a},filterEventType:function(t){return t.search("resize")===0},defaultMargin:null},Ji=Ie,Qi={id:"actions",install:function(t){t.usePlugin(Zi),t.usePlugin(Ji),t.usePlugin(ce),t.usePlugin(Ki)}},or=0,De={request:function(t){return Pe(t)},cancel:function(t){return Ye(t)},init:function(t){if(Pe=t.requestAnimationFrame,Ye=t.cancelAnimationFrame,!Pe)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var i=e[n];Pe=t["".concat(i,"RequestAnimationFrame")],Ye=t["".concat(i,"CancelAnimationFrame")]||t["".concat(i,"CancelRequestAnimationFrame")]}Pe=Pe&&Pe.bind(t),Ye=Ye&&Ye.bind(t),Pe||(Pe=function(s){var a=Date.now(),l=Math.max(0,16-(a-or)),f=t.setTimeout(function(){s(a+l)},l);return or=a+l,f},Ye=function(s){return clearTimeout(s)})}},z={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){z.isScrolling=!0,De.cancel(z.i),t.autoScroll=z,z.interaction=t,z.prevTime=z.now(),z.i=De.request(z.scroll)},stop:function(){z.isScrolling=!1,z.interaction&&(z.interaction.autoScroll=null),De.cancel(z.i)},scroll:function(){var t=z.interaction,e=t.interactable,n=t.element,i=t.prepared.name,s=e.options[i].autoScroll,a=sr(s.container,e,n),l=z.now(),f=(l-z.prevTime)/1e3,h=s.speed*f;if(h>=1){var g={x:z.x*h,y:z.y*h};if(g.x||g.y){var p=ar(a);v.window(a)?a.scrollBy(g.x,g.y):a&&(a.scrollLeft+=g.x,a.scrollTop+=g.y);var m=ar(a),b={x:m.x-p.x,y:m.y-p.y};(b.x||b.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:b,interaction:t,container:a})}z.prevTime=l}z.isScrolling&&(De.cancel(z.i),z.i=De.request(z.scroll))},check:function(t,e){var n;return(n=t.options[e].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&z.check(e.interactable,e.prepared.name))if(e.simulation)z.x=z.y=0;else{var i,s,a,l,f=e.interactable,h=e.element,g=e.prepared.name,p=f.options[g].autoScroll,m=sr(p.container,f,h);if(v.window(m))l=n.clientX<z.margin,i=n.clientY<z.margin,s=n.clientX>m.innerWidth-z.margin,a=n.clientY>m.innerHeight-z.margin;else{var b=Te(m);l=n.clientX<b.left+z.margin,i=n.clientY<b.top+z.margin,s=n.clientX>b.right-z.margin,a=n.clientY>b.bottom-z.margin}z.x=s?1:l?-1:0,z.y=a?1:i?-1:0,z.isScrolling||(z.margin=p.margin,z.speed=p.speed,z.start(e))}}};function sr(t,e,n){return(v.string(t)?Un(t,e,n):t)||T(n)}function ar(t){return v.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Xi={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=z,z.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=z.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,z.stop(),z.interaction&&(z.interaction=null)},"interactions:stop":z.stop,"interactions:action-move":function(t){return z.onInteractionMove(t)}}},$i=Xi;function tt(t,e){var n=!1;return function(){return n||(pe.console.warn(e),n=!0),t.apply(this,arguments)}}function sn(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function eo(t){return v.bool(t)?(this.options.styleCursor=t,this):t===null?(delete this.options.styleCursor,this):this.options.styleCursor}function to(t){return v.func(t)?(this.options.actionChecker=t,this):t===null?(delete this.options.actionChecker,this):this.options.actionChecker}var no={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(n,i,s,a){var l=function(f,h,g,p,m){var b=f.getRect(p),k=h.buttons||{0:1,1:4,3:8,4:16}[h.button],x={action:null,interactable:f,interaction:g,element:p,rect:b,buttons:k};return m.fire("auto-start:check",x),x.action}(this,i,s,a,t);return this.options.actionChecker?this.options.actionChecker(n,i,l,this,a,s):l},e.prototype.ignoreFrom=tt(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=tt(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=to,e.prototype.styleCursor=eo}};function cr(t,e,n,i,s){return e.testIgnoreAllow(e.options[t.name],n,i)&&e.options[t.name].enabled&&kt(e,n,t,s)?t:null}function ro(t,e,n,i,s,a,l){for(var f=0,h=i.length;f<h;f++){var g=i[f],p=s[f],m=g.getAction(e,n,t,p);if(m){var b=cr(m,g,p,a,l);if(b)return{action:b,interactable:g,element:p}}}return{action:null,interactable:null,element:null}}function ur(t,e,n,i,s){var a=[],l=[],f=i;function h(p){a.push(p),l.push(f)}for(;v.element(f);){a=[],l=[],s.interactables.forEachMatch(f,h);var g=ro(t,e,n,a,l,i,s);if(g.action&&!g.interactable.options[g.action.name].manualStart)return g;f=N(f)}return{action:null,interactable:null,element:null}}function lr(t,e,n){var i=e.action,s=e.interactable,a=e.element;i=i||{name:null},t.interactable=s,t.element=a,sn(t.prepared,i),t.rect=s&&i.name?s.getRect(a):null,hr(t,n),n.fire("autoStart:prepared",{interaction:t})}function kt(t,e,n,i){var s=t.options,a=s[n.name].max,l=s[n.name].maxPerElement,f=i.autoStart.maxInteractions,h=0,g=0,p=0;if(!(a&&l&&f))return!1;for(var m=0,b=i.interactions.list;m<b.length;m++){var k=b[m],x=k.prepared.name;if(k.interacting()&&(++h>=f||k.interactable===t&&((g+=x===n.name?1:0)>=a||k.element===e&&(p++,x===n.name&&p>=l))))return!1}return f>0}function fr(t,e){return v.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function an(t,e,n){var i=n.autoStart.cursorElement;i&&i!==t&&(i.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function hr(t,e){var n=t.interactable,i=t.element,s=t.prepared;if(t.pointerType==="mouse"&&n&&n.options.styleCursor){var a="";if(s.name){var l=n.options[s.name].cursorChecker;a=v.func(l)?l(s,n,i,t._interacting):e.actions.map[s.name].getCursor(s)}an(t.element,a||"",e)}else e.autoStart.cursorElement&&an(e.autoStart.cursorElement,"",e)}var io={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(no),n.base.actionChecker=null,n.base.styleCursor=!0,L(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(i){return fr(i,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:kt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,i=t.pointer,s=t.event,a=t.eventTarget;n.interacting()||lr(n,ur(n,i,s,a,e),e)},"interactions:move":function(t,e){(function(n,i){var s=n.interaction,a=n.pointer,l=n.event,f=n.eventTarget;s.pointerType!=="mouse"||s.pointerIsDown||s.interacting()||lr(s,ur(s,a,l,f,i),i)})(t,e),function(n,i){var s=n.interaction;if(s.pointerIsDown&&!s.interacting()&&s.pointerWasMoved&&s.prepared.name){i.fire("autoStart:before-start",n);var a=s.interactable,l=s.prepared.name;l&&a&&(a.options[l].manualStart||!kt(a,s.element,s.prepared,i)?s.stop():(s.start(s.prepared,a,s.element),hr(s,i)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,i=n.interactable;i&&i.options.styleCursor&&an(n.element,"",e)}},maxInteractions:fr,withinInteractionLimit:kt,validateAction:cr},cn=io,oo={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,i=t.eventTarget,s=t.dx,a=t.dy;if(n.prepared.name==="drag"){var l=Math.abs(s),f=Math.abs(a),h=n.interactable.options.drag,g=h.startAxis,p=l>f?"x":l<f?"y":"xy";if(n.prepared.axis=h.lockAxis==="start"?p[0]:h.lockAxis,p!=="xy"&&g!=="xy"&&g!==p){n.prepared.name=null;for(var m=i,b=function(x){if(x!==n.interactable){var O=n.interactable.options.drag;if(!O.manualStart&&x.testIgnoreAllow(O,m,i)){var R=x.getAction(n.downPointer,n.downEvent,n,m);if(R&&R.name==="drag"&&function(C,B){if(!B)return!1;var G=B.options.drag.startAxis;return C==="xy"||G==="xy"||G===C}(p,x)&&cn.validateAction(R,x,m,i,e))return x}}};v.element(m);){var k=e.interactables.forEachMatch(m,b);if(k){n.prepared.name="drag",n.interactable=k,n.element=m;break}m=N(m)}}}}}};function un(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var so={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(cn),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=un(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element)},n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;un(e)>0&&(e.prepared.name=null)}},getHoldDuration:un},ao=so,co={id:"auto-start",install:function(t){t.usePlugin(cn),t.usePlugin(ao),t.usePlugin(oo)}},uo=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):v.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function lo(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}var pr={id:"core/interactablePreventDefault",install:function(t){var e=t.Interactable;e.prototype.preventDefault=uo,e.prototype.checkAndPreventDefault=function(n){return function(i,s,a){var l=i.options.preventDefault;if(l!=="never")if(l!=="always"){if(s.events.supportsPassive&&/^touch(start|move)$/.test(a.type)){var f=T(a.target).document,h=s.getDocOptions(f);if(!h||!h.events||h.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(a.type)||v.element(a.target)&&D(a.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||a.preventDefault()}else a.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var i=0,s=t.interactions.list;i<s.length;i++){var a=s[i];if(a.element&&(a.element===n.target||E(a.element,n.target)))return void a.interactable.checkAndPreventDefault(n)}}})},listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=lo,t},{})};function At(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(t.indexOf(n)===0&&t.substr(n.length)in e.phases)return!0;return!1}function qe(t){var e={};for(var n in t){var i=t[n];v.plainObject(i)?e[n]=qe(i):v.array(i)?e[n]=$n(i):e[n]=i}return e}var ln=function(){function t(e){y(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=St(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return M(t,[{key:"start",value:function(e,n){var i,s,a=e.phase,l=this.interaction,f=function(g){var p=g.interactable.options[g.prepared.name],m=p.modifiers;return m&&m.length?m:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(b){var k=p[b];return k&&k.enabled&&{options:k,methods:k._methods}}).filter(function(b){return!!b})}(l);this.prepareStates(f),this.startEdges=L({},l.edges),this.edges=L({},this.startEdges),this.startOffset=(i=l.rect,s=n,i?{left:s.x-i.left,top:s.y-i.top,right:i.right-s.x,bottom:i.bottom-s.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var h=this.fillArg({phase:a,pageCoords:n,preEnd:!1});return this.result=St(),this.startAll(h),this.result=this.setAll(h)}},{key:"fillArg",value:function(e){var n=this.interaction;return e.interaction=n,e.interactable=n.interactable,e.element=n.element,e.rect||(e.rect=n.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var n=0,i=this.states;n<i.length;n++){var s=i[n];s.methods.start&&(e.state=s,s.methods.start(e))}}},{key:"setAll",value:function(e){var n=e.phase,i=e.preEnd,s=e.skipModifiers,a=e.rect,l=e.edges;e.coords=L({},e.pageCoords),e.rect=L({},a),e.edges=L({},l);for(var f=s?this.states.slice(s):this.states,h=St(e.coords,e.rect),g=0;g<f.length;g++){var p,m=f[g],b=m.options,k=L({},e.coords),x=null;(p=m.methods)!=null&&p.set&&this.shouldDo(b,i,n)&&(e.state=m,x=m.methods.set(e),yt(e.edges,e.rect,{x:e.coords.x-k.x,y:e.coords.y-k.y})),h.eventProps.push(x)}L(this.edges,e.edges),h.delta.x=e.coords.x-e.pageCoords.x,h.delta.y=e.coords.y-e.pageCoords.y,h.rectDelta.left=e.rect.left-a.left,h.rectDelta.right=e.rect.right-a.right,h.rectDelta.top=e.rect.top-a.top,h.rectDelta.bottom=e.rect.bottom-a.bottom;var O=this.result.coords,R=this.result.rect;if(O&&R){var C=h.rect.left!==R.left||h.rect.right!==R.right||h.rect.top!==R.top||h.rect.bottom!==R.bottom;h.changed=C||O.x!==h.coords.x||O.y!==h.coords.y}return h}},{key:"applyToInteraction",value:function(e){var n=this.interaction,i=e.phase,s=n.coords.cur,a=n.coords.start,l=this.result,f=this.startDelta,h=l.delta;i==="start"&&L(this.startDelta,l.delta);for(var g=0,p=[[a,f],[s,h]];g<p.length;g++){var m=p[g],b=m[0],k=m[1];b.page.x+=k.x,b.page.y+=k.y,b.client.x+=k.x,b.client.y+=k.y}var x=this.result.rectDelta,O=e.rect||n.rect;O.left+=x.left,O.right+=x.right,O.top+=x.top,O.bottom+=x.bottom,O.width=O.right-O.left,O.height=O.bottom-O.top}},{key:"setAndApply",value:function(e){var n=this.interaction,i=e.phase,s=e.preEnd,a=e.skipModifiers,l=this.setAll(this.fillArg({preEnd:s,phase:i,pageCoords:e.modifiedCoords||n.coords.cur.page}));if(this.result=l,!l.changed&&(!a||a<this.states.length)&&n.interacting())return!1;if(e.modifiedCoords){var f=n.coords.cur.page,h={x:e.modifiedCoords.x-f.x,y:e.modifiedCoords.y-f.y};l.coords.x+=h.x,l.coords.y+=h.y,l.delta.x+=h.x,l.delta.y+=h.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var n=e.interaction,i=e.event,s=this.states;if(s&&s.length){for(var a=!1,l=0;l<s.length;l++){var f=s[l];e.state=f;var h=f.options,g=f.methods,p=g.beforeEnd&&g.beforeEnd(e);if(p)return this.endResult=p,!1;a=a||!a&&this.shouldDo(h,!0,e.phase,!0)}a&&n.move({event:i,preEnd:!0})}}},{key:"stop",value:function(e){var n=e.interaction;if(this.states&&this.states.length){var i=L({states:this.states,interactable:n.interactable,element:n.element,rect:null},e);this.fillArg(i);for(var s=0,a=this.states;s<a.length;s++){var l=a[s];i.state=l,l.methods.stop&&l.methods.stop(i)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var n=0;n<e.length;n++){var i=e[n],s=i.options,a=i.methods,l=i.name;this.states.push({options:s,methods:a,index:n,name:l})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var n=e.interaction,i=n.coords,s=n.rect,a=n.modification;if(a.result){for(var l=a.startDelta,f=a.result,h=f.delta,g=f.rectDelta,p=0,m=[[i.start,l],[i.cur,h]];p<m.length;p++){var b=m[p],k=b[0],x=b[1];k.page.x-=x.x,k.page.y-=x.y,k.client.x-=x.x,k.client.y-=x.y}s.left-=g.left,s.right-=g.right,s.top-=g.top,s.bottom-=g.bottom}}},{key:"shouldDo",value:function(e,n,i,s){return!(!e||e.enabled===!1||s&&!e.endOnly||e.endOnly&&!n||i==="start"&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(n){return qe(n)}),this.result=St(L({},e.result.coords),L({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),t}();function St(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Be(t,e){var n=t.defaults,i={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},s=function(a){var l=a||{};for(var f in l.enabled=l.enabled!==!1,n)f in l||(l[f]=n[f]);var h={options:l,methods:i,name:e,enable:function(){return l.enabled=!0,h},disable:function(){return l.enabled=!1,h}};return h};return e&&typeof e=="string"&&(s._defaults=n,s._methods=i),s}function nt(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var fo={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new ln(e)},"interactions:before-action-start":function(t){var e=t.interaction,n=t.interaction.modification;n.start(t,e.coords.start.page),e.edges=n.edges,n.applyToInteraction(t)},"interactions:before-action-move":function(t){var e=t.interaction,n=e.modification,i=n.setAndApply(t);return e.edges=n.edges,i},"interactions:before-action-end":function(t){var e=t.interaction,n=e.modification,i=n.beforeEnd(t);return e.edges=n.startEdges,i},"interactions:action-start":nt,"interactions:action-move":nt,"interactions:action-end":nt,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},dr=fo,gr={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},fn=function(t){q(n,t);var e=Z(n);function n(i,s,a,l,f,h,g){var p;y(this,n),(p=e.call(this,i)).relatedTarget=null,p.screenX=void 0,p.screenY=void 0,p.button=void 0,p.buttons=void 0,p.ctrlKey=void 0,p.shiftKey=void 0,p.altKey=void 0,p.metaKey=void 0,p.page=void 0,p.client=void 0,p.delta=void 0,p.rect=void 0,p.x0=void 0,p.y0=void 0,p.t0=void 0,p.dt=void 0,p.duration=void 0,p.clientX0=void 0,p.clientY0=void 0,p.velocity=void 0,p.speed=void 0,p.swipe=void 0,p.axes=void 0,p.preEnd=void 0,f=f||i.element;var m=i.interactable,b=(m&&m.options||gr).deltaSource,k=Je(m,f,a),x=l==="start",O=l==="end",R=x?V(p):i.prevEvent,C=x?i.coords.start:O?{page:R.page,client:R.client,timeStamp:i.coords.cur.timeStamp}:i.coords.cur;return p.page=L({},C.page),p.client=L({},C.client),p.rect=L({},i.rect),p.timeStamp=C.timeStamp,O||(p.page.x-=k.x,p.page.y-=k.y,p.client.x-=k.x,p.client.y-=k.y),p.ctrlKey=s.ctrlKey,p.altKey=s.altKey,p.shiftKey=s.shiftKey,p.metaKey=s.metaKey,p.button=s.button,p.buttons=s.buttons,p.target=f,p.currentTarget=f,p.preEnd=h,p.type=g||a+(l||""),p.interactable=m,p.t0=x?i.pointers[i.pointers.length-1].downTime:R.t0,p.x0=i.coords.start.page.x-k.x,p.y0=i.coords.start.page.y-k.y,p.clientX0=i.coords.start.client.x-k.x,p.clientY0=i.coords.start.client.y-k.y,p.delta=x||O?{x:0,y:0}:{x:p[b].x-R[b].x,y:p[b].y-R[b].y},p.dt=i.coords.delta.timeStamp,p.duration=p.timeStamp-p.t0,p.velocity=L({},i.coords.velocity[b]),p.speed=Qe(p.velocity.x,p.velocity.y),p.swipe=O||l==="inertiastart"?p.getSwipe():null,p}return M(n,[{key:"getSwipe",value:function(){var i=this._interaction;if(i.prevEvent.speed<600||this.timeStamp-i.prevEvent.timeStamp>150)return null;var s=180*Math.atan2(i.prevEvent.velocityY,i.prevEvent.velocityX)/Math.PI;s<0&&(s+=360);var a=112.5<=s&&s<247.5,l=202.5<=s&&s<337.5;return{up:l,down:!l&&22.5<=s&&s<157.5,left:a,right:!a&&(292.5<=s||s<67.5),angle:s,speed:i.prevEvent.speed,velocity:{x:i.prevEvent.velocityX,y:i.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(Et);Object.defineProperties(fn.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var ho=M(function t(e,n,i,s,a){y(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=i,this.downTime=s,this.downTarget=a}),po=function(t){return t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy="",t}({}),vr=function(t){return t.start="",t.move="",t.end="",t.stop="",t.interacting="",t}({}),go=0,vo=function(){function t(e){var n=this,i=e.pointerType,s=e.scopeFire;y(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=tt(function(p){this.move(p)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=go++,this._scopeFire=s,this.pointerType=i;var a=this;this._proxy={};var l=function(p){Object.defineProperty(n._proxy,p,{get:function(){return a[p]}})};for(var f in po)l(f);var h=function(p){Object.defineProperty(n._proxy,p,{value:function(){return a[p].apply(a,arguments)}})};for(var g in vr)h(g);this._scopeFire("interactions:new",{interaction:this})}return M(t,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,n,i){var s=this.updatePointer(e,n,i,!0),a=this.pointers[s];this._scopeFire("interactions:down",{pointer:e,event:n,eventTarget:i,pointerIndex:s,pointerInfo:a,type:"down",interaction:this})}},{key:"start",value:function(e,n,i){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name==="gesture"?2:1)||!n.options[e.name].enabled)&&(sn(this.prepared,e),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?L({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,n,i){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,n,i,!1);var s,a,l=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(s=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Qe(s,a)>this.pointerMoveTolerance);var f,h,g,p=this.getPointerIndex(e),m={pointer:e,pointerIndex:p,pointerInfo:this.pointers[p],event:n,type:"move",eventTarget:i,dx:s,dy:a,duplicate:l,interaction:this};l||(f=this.coords.velocity,h=this.coords.delta,g=Math.max(h.timeStamp/1e3,.001),f.page.x=h.page.x/g,f.page.y=h.page.y/g,f.client.x=h.client.x/g,f.client.y=h.client.y/g,f.timeStamp=g),this._scopeFire("interactions:move",m),l||this.simulation||(this.interacting()&&(m.type=null,this.move(m)),this.pointerWasMoved&&wt(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||Wn(this.coords.delta),(e=L({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,n,i,s){var a=this.getPointerIndex(e);a===-1&&(a=this.updatePointer(e,n,i,!1));var l=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire("interactions:".concat(l),{pointer:e,pointerIndex:a,pointerInfo:this.pointers[a],event:n,eventTarget:i,type:l,curEventTarget:s,interaction:this}),this.simulation||this.end(n),this.removePointer(e,n)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var n;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(n=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var n=Xe(e);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:$e(this.pointers,function(i){return i.id===n})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,n,i,s){var a,l,f,h=Xe(e),g=this.getPointerIndex(e),p=this.pointers[g];return s=s!==!1&&(s||/(down|start)$/i.test(n.type)),p?p.pointer=e:(p=new ho(h,e,n,null,null),g=this.pointers.length,this.pointers.push(p)),Wi(this.coords.cur,this.pointers.map(function(m){return m.pointer}),this._now()),a=this.coords.delta,l=this.coords.prev,f=this.coords.cur,a.page.x=f.page.x-l.page.x,a.page.y=f.page.y-l.page.y,a.client.x=f.client.x-l.client.x,a.client.y=f.client.y-l.client.y,a.timeStamp=f.timeStamp-l.timeStamp,s&&(this.pointerIsDown=!0,p.downTime=this.coords.cur.timeStamp,p.downTarget=i,bt(this.downPointer,e),this.interacting()||(wt(this.coords.start,this.coords.cur),wt(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(e,n,i),this._scopeFire("interactions:update-pointer",{pointer:e,event:n,eventTarget:i,down:s,pointerInfo:p,pointerIndex:g,interaction:this}),g}},{key:"removePointer",value:function(e,n){var i=this.getPointerIndex(e);if(i!==-1){var s=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:e,event:n,eventTarget:null,pointerIndex:i,pointerInfo:s,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,n,i){this._latestPointer.pointer=e,this._latestPointer.event=n,this._latestPointer.eventTarget=i}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,n,i,s){return new fn(this,e,this.prepared.name,n,this.element,i,s)}},{key:"_fireEvent",value:function(e){var n;(n=this.interactable)==null||n.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var n=e.event,i=e.phase,s=e.preEnd,a=e.type,l=this.rect;if(l&&i==="move"&&(yt(this.edges,l,this.coords.delta[this.interactable.options.deltaSource]),l.width=l.right-l.left,l.height=l.bottom-l.top),this._scopeFire("interactions:before-action-".concat(i),e)===!1)return!1;var f=e.iEvent=this._createPreparedEvent(n,i,s,a);return this._scopeFire("interactions:action-".concat(i),e),i==="start"&&(this.prevEvent=f),this._fireEvent(f),this._scopeFire("interactions:after-action-".concat(i),e),!0}},{key:"_now",value:function(){return Date.now()}}]),t}();function mr(t){yr(t.interaction)}function yr(t){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(t))return!1;var e=t.offset.pending;return hn(t.coords.cur,e),hn(t.coords.delta,e),yt(t.edges,t.rect,e),e.x=0,e.y=0,!0}function mo(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function hn(t,e){var n=t.page,i=t.client,s=e.x,a=e.y;n.x+=s,n.y+=a,i.x+=s,i.y+=a}vr.offsetBy="";var yo={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=mo},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return function(e){e.pointerIsDown&&(hn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}(t.interaction)},"interactions:before-action-start":mr,"interactions:before-action-move":mr,"interactions:before-action-end":function(t){var e=t.interaction;if(yr(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},br=yo,bo=function(){function t(e){y(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e}return M(t,[{key:"start",value:function(e){var n=this.interaction,i=Tt(n);if(!i||!i.enabled)return!1;var s=n.coords.velocity.client,a=Qe(s.x,s.y),l=this.modification||(this.modification=new ln(n));if(l.copyFrom(n.modification),this.t0=n._now(),this.allowResume=i.allowResume,this.v0=a,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=l.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&a>i.minSpeed&&a>i.endSpeed)this.startInertia();else{if(l.result=l.setAll(this.modifierArg),!l.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:e,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,n=this.interaction.coords.velocity.client,i=Tt(this.interaction),s=i.resistance,a=-Math.log(i.endSpeed/this.v0)/s;this.targetOffset={x:(n.x-a)/s,y:(n.y-a)/s},this.te=a,this.lambda_v0=s/this.v0,this.one_ve_v0=1-i.endSpeed/this.v0;var l=this.modification,f=this.modifierArg;f.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},l.result=l.setAll(f),l.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+l.result.delta.x,y:this.targetOffset.y+l.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var n=this;this.timeout=De.request(function(){n.active&&e()})}},{key:"inertiaTick",value:function(){var e,n,i,s,a,l,f,h=this,g=this.interaction,p=Tt(g).resistance,m=(g._now()-this.t0)/1e3;if(m<this.te){var b,k=1-(Math.exp(-p*m)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,n=0,i=this.targetOffset.x,s=this.targetOffset.y,a=this.modifiedOffset.x,l=this.modifiedOffset.y,b={x:wr(f=k,e,i,a),y:wr(f,n,s,l)}):b={x:this.targetOffset.x*k,y:this.targetOffset.y*k};var x={x:b.x-this.currentOffset.x,y:b.y-this.currentOffset.y};this.currentOffset.x+=x.x,this.currentOffset.y+=x.y,g.offsetBy(x),g.move(),this.onNextFrame(function(){return h.inertiaTick()})}else g.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,n=this.interaction,i=n._now()-this.t0,s=Tt(n).smoothEndDuration;if(i<s){var a={x:xr(i,0,this.targetOffset.x,s),y:xr(i,0,this.targetOffset.y,s)},l={x:a.x-this.currentOffset.x,y:a.y-this.currentOffset.y};this.currentOffset.x+=l.x,this.currentOffset.y+=l.y,n.offsetBy(l),n.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else n.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var n=e.pointer,i=e.event,s=e.eventTarget,a=this.interaction;a.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),a.updatePointer(n,i,s,!0),a._doPhase({interaction:a,event:i,phase:"resume"}),wt(a.coords.prev,a.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,De.cancel(this.timeout)}}]),t}();function Tt(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}var wo={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(br),t.usePlugin(dr),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new bo(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,i=e.inertia;if(i.active)for(var s=n;v.element(s);){if(s===e.element){i.resume(t);break}s=N(s)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":nt,"interactions:action-inertiastart":nt,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function wr(t,e,n,i){var s=1-t;return s*s*e+2*s*t*n+t*t*i}function xr(t,e,n,i){return-n*(t/=i)*(t-2)+e}var xo=wo;function Er(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t.immediatePropagationStopped)break;i(t)}}var kr=function(){function t(e){y(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=L({},e||{})}return M(t,[{key:"fire",value:function(e){var n,i=this.global;(n=this.types[e.type])&&Er(e,n),!e.propagationStopped&&i&&(n=i[e.type])&&Er(e,n)}},{key:"on",value:function(e,n){var i=Ne(e,n);for(e in i)this.types[e]=Xn(this.types[e]||[],i[e])}},{key:"off",value:function(e,n){var i=Ne(e,n);for(e in i){var s=this.types[e];if(s&&s.length)for(var a=0,l=i[e];a<l.length;a++){var f=l[a],h=s.indexOf(f);h!==-1&&s.splice(h,1)}}}},{key:"getRect",value:function(e){return null}}]),t}(),Eo=function(){function t(e){y(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,bt(this,e)}return M(t,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t}();function rt(t){return v.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function Ot(t,e){return t===e||(typeof t=="boolean"?!!e.capture===t&&!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var ko={id:"events",install:function(t){var e,n=[],i={},s=[],a={add:l,remove:f,addDelegate:function(p,m,b,k,x){var O=rt(x);if(!i[b]){i[b]=[];for(var R=0;R<s.length;R++){var C=s[R];l(C,b,h),l(C,b,g,!0)}}var B=i[b],G=et(B,function(W){return W.selector===p&&W.context===m});G||(G={selector:p,context:m,listeners:[]},B.push(G)),G.listeners.push({func:k,options:O})},removeDelegate:function(p,m,b,k,x){var O,R=rt(x),C=i[b],B=!1;if(C)for(O=C.length-1;O>=0;O--){var G=C[O];if(G.selector===p&&G.context===m){for(var W=G.listeners,Y=W.length-1;Y>=0;Y--){var U=W[Y];if(U.func===k&&Ot(U.options,R)){W.splice(Y,1),W.length||(C.splice(O,1),f(m,b,h),f(m,b,g,!0)),B=!0;break}}if(B)break}}},delegateListener:h,delegateUseCapture:g,delegatedEvents:i,documents:s,targets:n,supportsOptions:!1,supportsPassive:!1};function l(p,m,b,k){if(p.addEventListener){var x=rt(k),O=et(n,function(R){return R.eventTarget===p});O||(O={eventTarget:p,events:{}},n.push(O)),O.events[m]||(O.events[m]=[]),et(O.events[m],function(R){return R.func===b&&Ot(R.options,x)})||(p.addEventListener(m,b,a.supportsOptions?x:x.capture),O.events[m].push({func:b,options:x}))}}function f(p,m,b,k){if(p.addEventListener&&p.removeEventListener){var x=$e(n,function(ge){return ge.eventTarget===p}),O=n[x];if(O&&O.events)if(m!=="all"){var R=!1,C=O.events[m];if(C){if(b==="all"){for(var B=C.length-1;B>=0;B--){var G=C[B];f(p,m,G.func,G.options)}return}for(var W=rt(k),Y=0;Y<C.length;Y++){var U=C[Y];if(U.func===b&&Ot(U.options,W)){p.removeEventListener(m,b,a.supportsOptions?W:W.capture),C.splice(Y,1),C.length===0&&(delete O.events[m],R=!0);break}}}R&&!Object.keys(O.events).length&&n.splice(x,1)}else for(m in O.events)O.events.hasOwnProperty(m)&&f(p,m,"all")}}function h(p,m){for(var b=rt(m),k=new Eo(p),x=i[p.type],O=Qn(p)[0],R=O;v.element(R);){for(var C=0;C<x.length;C++){var B=x[C],G=B.selector,W=B.context;if(D(R,G)&&E(W,O)&&E(W,R)){var Y=B.listeners;k.currentTarget=R;for(var U=0;U<Y.length;U++){var ge=Y[U];Ot(ge.options,b)&&ge.func(k)}}}R=N(R)}}function g(p){return h(p,!0)}return(e=t.document)==null||e.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),t.events=a,a}},pn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0,n=pn.methodOrder;e<n.length;e++){var i=n[e],s=pn[i](t);if(s)return s}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,i=t.eventTarget,s=t.scope;if(!/down|start/i.test(n))return null;for(var a=0,l=s.interactions.list;a<l.length;a++){var f=l[a],h=i;if(f.simulation&&f.simulation.allowResume&&f.pointerType===e)for(;h;){if(h===f.element)return f;h=N(h)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,i=t.pointerType,s=t.eventType,a=t.scope;if(i!=="mouse"&&i!=="pen")return null;for(var l=0,f=a.interactions.list;l<f.length;l++){var h=f[l];if(h.pointerType===i){if(h.simulation&&!Ar(h,n))continue;if(h.interacting())return h;e||(e=h)}}if(e)return e;for(var g=0,p=a.interactions.list;g<p.length;g++){var m=p[g];if(!(m.pointerType!==i||/down/i.test(s)&&m.simulation))return m}return null},hasPointer:function(t){for(var e=t.pointerId,n=0,i=t.scope.interactions.list;n<i.length;n++){var s=i[n];if(Ar(s,e))return s}return null},idle:function(t){for(var e=t.pointerType,n=0,i=t.scope.interactions.list;n<i.length;n++){var s=i[n];if(s.pointers.length===1){var a=s.interactable;if(a&&(!a.options.gesture||!a.options.gesture.enabled))continue}else if(s.pointers.length>=2)continue;if(!s.interacting()&&e===s.pointerType)return s}return null}};function Ar(t,e){return t.pointers.some(function(n){return n.id===e})}var Ao=pn,dn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Sr(t,e){return function(n){var i=e.interactions.list,s=Jn(n),a=Qn(n),l=a[0],f=a[1],h=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var g=0,p=n.changedTouches;g<p.length;g++){var m=p[g],b={pointer:m,pointerId:Xe(m),pointerType:s,eventType:n.type,eventTarget:l,curEventTarget:f,scope:e},k=Tr(b);h.push([b.pointer,b.eventTarget,b.curEventTarget,k])}}else{var x=!1;if(!w.supportsPointerEvent&&/mouse/.test(n.type)){for(var O=0;O<i.length&&!x;O++)x=i[O].pointerType!=="mouse"&&i[O].pointerIsDown;x=x||e.now()-e.prevTouchTime<500||n.timeStamp===0}if(!x){var R={pointer:n,pointerId:Xe(n),pointerType:s,eventType:n.type,curEventTarget:f,eventTarget:l,scope:e},C=Tr(R);h.push([R.pointer,R.eventTarget,R.curEventTarget,C])}}for(var B=0;B<h.length;B++){var G=h[B],W=G[0],Y=G[1],U=G[2];G[3][t](W,n,Y,U)}}}function Tr(t){var e=t.pointerType,n=t.scope,i={interaction:Ao.search(t),searchDetails:t};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:e})}function gn(t,e){var n=t.doc,i=t.scope,s=t.options,a=i.interactions.docEvents,l=i.events,f=l[e];for(var h in i.browser.isIOS&&!s.events&&(s.events={passive:!1}),l.delegatedEvents)f(n,h,l.delegateListener),f(n,h,l.delegateUseCapture,!0);for(var g=s&&s.events,p=0;p<a.length;p++){var m=a[p];f(n,m.type,m.listener,g)}}var So={id:"core/interactions",install:function(t){for(var e={},n=0;n<dn.length;n++){var i=dn[n];e[i]=Sr(i,t)}var s,a=w.pEventTypes;function l(){for(var f=0,h=t.interactions.list;f<h.length;f++){var g=h[f];if(g.pointerIsDown&&g.pointerType==="touch"&&!g._interacting)for(var p=function(){var k=b[m];t.documents.some(function(x){return E(x.doc,k.downTarget)})||g.removePointer(k.pointer,k.event)},m=0,b=g.pointers;m<b.length;m++)p()}}(s=te.PointerEvent?[{type:a.down,listener:l},{type:a.down,listener:e.pointerDown},{type:a.move,listener:e.pointerMove},{type:a.up,listener:e.pointerUp},{type:a.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(f){for(var h=0,g=t.interactions.list;h<g.length;h++)g[h].documentBlur(f)}}),t.prevTouchTime=0,t.Interaction=function(f){q(g,f);var h=Z(g);function g(){return y(this,g),h.apply(this,arguments)}return M(g,[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(p){t.interactions.pointerMoveTolerance=p}},{key:"_now",value:function(){return t.now()}}]),g}(vo),t.interactions={list:[],new:function(f){f.scopeFire=function(g,p){return t.fire(g,p)};var h=new t.Interaction(f);return t.interactions.list.push(h),h},listeners:e,docEvents:s,pointerMoveTolerance:1},t.usePlugin(pr)},listeners:{"scope:add-document":function(t){return gn(t,"add")},"scope:remove-document":function(t){return gn(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,i=e.interactions.list.length-1;i>=0;i--){var s=e.interactions.list[i];s.interactable===n&&(s.stop(),e.fire("interactions:destroy",{interaction:s}),s.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(i,1))}}},onDocSignal:gn,doOnInteractions:Sr,methodNames:dn},To=So,Le=function(t){return t[t.On=0]="On",t[t.Off=1]="Off",t}(Le||{}),Oo=function(){function t(e,n,i,s){y(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new kr,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=e,this._context=n.context||i,this._win=T(Vn(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=s,this.set(n)}return M(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,n){return v.func(n.onstart)&&this.on("".concat(e,"start"),n.onstart),v.func(n.onmove)&&this.on("".concat(e,"move"),n.onmove),v.func(n.onend)&&this.on("".concat(e,"end"),n.onend),v.func(n.oninertiastart)&&this.on("".concat(e,"inertiastart"),n.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,n,i){var s,a=this,l=(s=this._actions.map[e])==null?void 0:s.filterEventType,f=function(h){return(l==null||l(h))&&At(h,a._actions)};(v.array(n)||v.object(n))&&this._onOff(Le.Off,e,n,void 0,f),(v.array(i)||v.object(i))&&this._onOff(Le.On,e,i,void 0,f)}},{key:"setPerAction",value:function(e,n){var i=this._defaults;for(var s in n){var a=s,l=this.options[e],f=n[a];a==="listeners"&&this.updatePerActionListeners(e,l.listeners,f),v.array(f)?l[a]=$n(f):v.plainObject(f)?(l[a]=L(l[a]||{},qe(f)),v.object(i.perAction[a])&&"enabled"in i.perAction[a]&&(l[a].enabled=f.enabled!==!1)):v.bool(f)&&v.object(i.perAction[a])?l[a].enabled=f:l[a]=f}}},{key:"getRect",value:function(e){return e=e||(v.element(this.target)?this.target:null),v.string(this.target)&&(e=e||this._context.querySelector(this.target)),Me(e)}},{key:"rectChecker",value:function(e){var n=this;return v.func(e)?(this.getRect=function(i){var s=L({},e.apply(n,i));return"width"in s||(s.width=s.right-s.left,s.height=s.bottom-s.top),s},this):e===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,n){if(Vn(n)||v.object(n)){for(var i in this.options[e]=n,this._actions.map)this.options[i][e]=n;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return v.string(e)?Array.from(this._context.querySelectorAll(e)):v.func(e)&&e.getAllElements?e.getAllElements():v.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||E(this._context,e)}},{key:"testIgnoreAllow",value:function(e,n,i){return!this.testIgnore(e.ignoreFrom,n,i)&&this.testAllow(e.allowFrom,n,i)}},{key:"testAllow",value:function(e,n,i){return!e||!!v.element(i)&&(v.string(e)?ue(i,e,n):!!v.element(e)&&E(e,i))}},{key:"testIgnore",value:function(e,n,i){return!(!e||!v.element(i))&&(v.string(e)?ue(i,e,n):!!v.element(e)&&E(e,i))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,n,i,s,a){v.object(n)&&!v.array(n)&&(s=i,i=null);var l=Ne(n,i,a);for(var f in l){f==="wheel"&&(f=w.wheelEvent);for(var h=0,g=l[f];h<g.length;h++){var p=g[h];At(f,this._actions)?this.events[e===Le.On?"on":"off"](f,p):v.string(this.target)?this._scopeEvents[e===Le.On?"addDelegate":"removeDelegate"](this.target,this._context,f,p,s):this._scopeEvents[e===Le.On?"add":"remove"](this.target,f,p,s)}}return this}},{key:"on",value:function(e,n,i){return this._onOff(Le.On,e,n,i)}},{key:"off",value:function(e,n,i){return this._onOff(Le.Off,e,n,i)}},{key:"set",value:function(e){var n=this._defaults;for(var i in v.object(e)||(e={}),this.options=qe(n.base),this._actions.methodDict){var s=i,a=this._actions.methodDict[s];this.options[s]={},this.setPerAction(s,L(L({},n.perAction),n.actions[s])),this[a](e[s])}for(var l in e)l!=="getRect"?v.func(this[l])&&this[l](e[l]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(v.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var n=this._scopeEvents.delegatedEvents[e],i=n.length-1;i>=0;i--){var s=n[i],a=s.selector,l=s.context,f=s.listeners;a===this.target&&l===this._context&&n.splice(i,1);for(var h=f.length-1;h>=0;h--)this._scopeEvents.removeDelegate(this.target,this._context,e,f[h][0],f[h][1])}else this._scopeEvents.remove(this.target,"all")}}]),t}(),Mo=function(){function t(e){var n=this;y(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(i){var s=i.interactable,a=s.target,l=v.string(a)?n.selectorMap[a]:a[n.scope.id],f=$e(l,function(h){return h===s});l.splice(f,1)}})}return M(t,[{key:"new",value:function(e,n){n=L(n||{},{actions:this.scope.actions});var i=new this.scope.Interactable(e,n,this.scope.document,this.scope.events);return this.scope.addDocument(i._doc),this.list.push(i),v.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(i)):(i.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:e,options:n,interactable:i,win:this.scope._win}),i}},{key:"getExisting",value:function(e,n){var i=n&&n.context||this.scope.document,s=v.string(e),a=s?this.selectorMap[e]:e[this.scope.id];if(a)return et(a,function(l){return l._context===i&&(s||l.inContext(e))})}},{key:"forEachMatch",value:function(e,n){for(var i=0,s=this.list;i<s.length;i++){var a=s[i],l=void 0;if((v.string(a.target)?v.element(e)&&D(e,a.target):e===a.target)&&a.inContext(e)&&(l=n(a)),l!==void 0)return l}}}]),t}(),Po=function(){function t(){var e=this;y(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=w,this.defaults=qe(gr),this.Eventable=kr,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(i){var s=function a(l,f){var h=i.interactables.getExisting(l,f);return h||((h=i.interactables.new(l,f)).events.global=a.globalEvents),h};return s.getPointerAverage=Hn,s.getTouchBBox=Qt,s.getTouchDistance=Xt,s.getTouchAngle=$t,s.getElementRect=Me,s.getElementClientRect=Te,s.matchesSelector=D,s.closest=I,s.globalEvents={},s.version="1.10.27",s.scope=i,s.use=function(a,l){return this.scope.usePlugin(a,l),this},s.isSet=function(a,l){return!!this.scope.interactables.get(a,l&&l.context)},s.on=tt(function(a,l,f){if(v.string(a)&&a.search(" ")!==-1&&(a=a.trim().split(/ +/)),v.array(a)){for(var h=0,g=a;h<g.length;h++){var p=g[h];this.on(p,l,f)}return this}if(v.object(a)){for(var m in a)this.on(m,a[m],l);return this}return At(a,this.scope.actions)?this.globalEvents[a]?this.globalEvents[a].push(l):this.globalEvents[a]=[l]:this.scope.events.add(this.scope.document,a,l,{options:f}),this},"The interact.on() method is being deprecated"),s.off=tt(function(a,l,f){if(v.string(a)&&a.search(" ")!==-1&&(a=a.trim().split(/ +/)),v.array(a)){for(var h=0,g=a;h<g.length;h++){var p=g[h];this.off(p,l,f)}return this}if(v.object(a)){for(var m in a)this.off(m,a[m],l);return this}var b;return At(a,this.scope.actions)?a in this.globalEvents&&(b=this.globalEvents[a].indexOf(l))!==-1&&this.globalEvents[a].splice(b,1):this.scope.events.remove(this.scope.document,a,l,f),this},"The interact.off() method is being deprecated"),s.debug=function(){return this.scope},s.supportsTouch=function(){return w.supportsTouch},s.supportsPointerEvent=function(){return w.supportsPointerEvent},s.stop=function(){for(var a=0,l=this.scope.interactions.list;a<l.length;a++)l[a].stop();return this},s.pointerMoveTolerance=function(a){return v.number(a)?(this.scope.interactions.pointerMoveTolerance=a,this):this.scope.interactions.pointerMoveTolerance},s.addDocument=function(a,l){this.scope.addDocument(a,l)},s.removeDocument=function(a){this.scope.removeDocument(a)},s}(this),this.InteractEvent=fn,this.Interactable=void 0,this.interactables=new Mo(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(i){return e.removeDocument(i.target)};var n=this;this.Interactable=function(i){q(a,i);var s=Z(a);function a(){return y(this,a),s.apply(this,arguments)}return M(a,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(l){return ie(J(a.prototype),"set",this).call(this,l),n.fire("interactable:set",{options:l,interactable:this}),this}},{key:"unset",value:function(){ie(J(a.prototype),"unset",this).call(this);var l=n.interactables.list.indexOf(this);l<0||(n.interactables.list.splice(l,1),n.fire("interactable:unset",{interactable:this}))}}]),a}(Oo)}return M(t,[{key:"addListeners",value:function(e,n){this.listenerMaps.push({id:n,map:e})}},{key:"fire",value:function(e,n){for(var i=0,s=this.listenerMaps;i<s.length;i++){var a=s[i].map[e];if(a&&a(n,this,e)===!1)return!1}}},{key:"init",value:function(e){return this.isInitialized?this:function(n,i){return n.isInitialized=!0,v.window(i)&&me(i),te.init(i),w.init(i),De.init(i),n.window=i,n.document=i.document,n.usePlugin(To),n.usePlugin(ko),n}(this,e)}},{key:"pluginIsInstalled",value:function(e){var n=e.id;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(e)!==-1}},{key:"usePlugin",value:function(e,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,n),e.listeners&&e.before){for(var i=0,s=this.listenerMaps.length,a=e.before.reduce(function(f,h){return f[h]=!0,f[Or(h)]=!0,f},{});i<s;i++){var l=this.listenerMaps[i].id;if(l&&(a[l]||a[Or(l)]))break}this.listenerMaps.splice(i,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(this.getDocIndex(e)!==-1)return!1;var i=T(e);n=n?L({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),i=T(e),s=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:i,scope:this,options:s})}},{key:"getDocIndex",value:function(e){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===e)return n;return-1}},{key:"getDocOptions",value:function(e){var n=this.getDocIndex(e);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function Or(t){return t&&t.replace(/\/.*$/,"")}var Mr=new Po,de=Mr.interactStatic,Io=typeof globalThis<"u"?globalThis:window;Mr.init(Io);var Co=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(i){var s=i[0],a=i[1];return s in t||a in t}),n=function(i,s){for(var a=t.range,l=t.limits,f=l===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:l,h=t.offset,g=h===void 0?{x:0,y:0}:h,p={range:a,grid:t,x:null,y:null},m=0;m<e.length;m++){var b=e[m],k=b[0],x=b[1],O=Math.round((i-g.x)/t[k]),R=Math.round((s-g.y)/t[x]);p[k]=Math.max(f.left,Math.min(f.right,O*t[k]+g.x)),p[x]=Math.max(f.top,Math.min(f.bottom,R*t[x]+g.y))}return p};return n.grid=t,n.coordFields=e,n}}),Ro={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=L(e.snappers||{},Co),e.createSnapGrid=e.snappers.grid}},Do=Ro,Bo={start:function(t){var e=t.state,n=t.rect,i=t.edges,s=t.pageCoords,a=e.options,l=a.ratio,f=a.enabled,h=e.options,g=h.equalDelta,p=h.modifiers;l==="preserve"&&(l=n.width/n.height),e.startCoords=L({},s),e.startRect=L({},n),e.ratio=l,e.equalDelta=g;var m=e.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(e.xIsPrimaryAxis=!(!i.left&&!i.right),e.equalDelta){var b=(m.left?1:-1)*(m.top?1:-1);e.edgeSign={x:b,y:b}}else e.edgeSign={x:m.left?-1:1,y:m.top?-1:1};if(f!==!1&&L(i,m),p!=null&&p.length){var k=new ln(t.interaction);k.copyFrom(t.interaction.modification),k.prepareStates(p),e.subModification=k,k.startAll(c({},t))}},set:function(t){var e=t.state,n=t.rect,i=t.coords,s=e.linkedEdges,a=L({},i),l=e.equalDelta?Lo:_o;if(L(t.edges,s),l(e,e.xIsPrimaryAxis,i,n),!e.subModification)return null;var f=L({},n);yt(s,f,{x:i.x-a.x,y:i.y-a.y});var h=e.subModification.setAll(c(c({},t),{},{rect:f,edges:s,pageCoords:i,prevCoords:i,prevRect:f})),g=h.delta;return h.changed&&(l(e,Math.abs(g.x)>Math.abs(g.y),h.coords,h.rect),L(i,h.coords)),h.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Lo(t,e,n){var i=t.startCoords,s=t.edgeSign;e?n.y=i.y+(n.x-i.x)*s.y:n.x=i.x+(n.y-i.y)*s.x}function _o(t,e,n,i){var s=t.startRect,a=t.startCoords,l=t.ratio,f=t.edgeSign;if(e){var h=i.width/l;n.y=a.y+(h-s.height)*f.y}else{var g=i.height*l;n.x=a.x+(g-s.width)*f.x}}var Fo=Be(Bo,"aspectRatio"),Pr=function(){};Pr._defaults={};var Mt=Pr;function ze(t,e,n){return v.func(t)?He(t,e.interactable,e.element,[n.x,n.y,e]):He(t,e.interactable,e.element)}var Pt={start:function(t){var e=t.rect,n=t.startOffset,i=t.state,s=t.interaction,a=t.pageCoords,l=i.options,f=l.elementRect,h=L({left:0,top:0,right:0,bottom:0},l.offset||{});if(e&&f){var g=ze(l.restriction,s,a);if(g){var p=g.right-g.left-e.width,m=g.bottom-g.top-e.height;p<0&&(h.left+=p,h.right+=p),m<0&&(h.top+=m,h.bottom+=m)}h.left+=n.left-e.width*f.left,h.top+=n.top-e.height*f.top,h.right+=n.right-e.width*(1-f.right),h.bottom+=n.bottom-e.height*(1-f.bottom)}i.offset=h},set:function(t){var e=t.coords,n=t.interaction,i=t.state,s=i.options,a=i.offset,l=ze(s.restriction,n,e);if(l){var f=function(h){return!h||"left"in h&&"top"in h||((h=L({},h)).left=h.x||0,h.top=h.y||0,h.right=h.right||h.left+h.width,h.bottom=h.bottom||h.top+h.height),h}(l);e.x=Math.max(Math.min(f.right-a.right,e.x),f.left+a.left),e.y=Math.max(Math.min(f.bottom-a.bottom,e.y),f.top+a.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},No=Be(Pt,"restrict"),Ir={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Cr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Rr(t,e){for(var n=0,i=["top","left","bottom","right"];n<i.length;n++){var s=i[n];s in t||(t[s]=e[s])}return t}var it={noInner:Ir,noOuter:Cr,start:function(t){var e,n=t.interaction,i=t.startOffset,s=t.state,a=s.options;a&&(e=mt(ze(a.offset,n,n.coords.start.page))),e=e||{x:0,y:0},s.offset={top:e.y+i.top,left:e.x+i.left,bottom:e.y-i.bottom,right:e.x-i.right}},set:function(t){var e=t.coords,n=t.edges,i=t.interaction,s=t.state,a=s.offset,l=s.options;if(n){var f=L({},e),h=ze(l.inner,i,f)||{},g=ze(l.outer,i,f)||{};Rr(h,Ir),Rr(g,Cr),n.top?e.y=Math.min(Math.max(g.top+a.top,f.y),h.top+a.top):n.bottom&&(e.y=Math.max(Math.min(g.bottom+a.bottom,f.y),h.bottom+a.bottom)),n.left?e.x=Math.min(Math.max(g.left+a.left,f.x),h.left+a.left):n.right&&(e.x=Math.max(Math.min(g.right+a.right,f.x),h.right+a.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Yo=Be(it,"restrictEdges"),zo=L({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Pt.defaults),jo=Be({start:Pt.start,set:Pt.set,defaults:zo},"restrictRect"),Go={width:-1/0,height:-1/0},Vo={width:1/0,height:1/0},Uo=Be({start:function(t){return it.start(t)},set:function(t){var e=t.interaction,n=t.state,i=t.rect,s=t.edges,a=n.options;if(s){var l=Ht(ze(a.min,e,t.coords))||Go,f=Ht(ze(a.max,e,t.coords))||Vo;n.options={endOnly:a.endOnly,inner:L({},it.noInner),outer:L({},it.noOuter)},s.top?(n.options.inner.top=i.bottom-l.height,n.options.outer.top=i.bottom-f.height):s.bottom&&(n.options.inner.bottom=i.top+l.height,n.options.outer.bottom=i.top+f.height),s.left?(n.options.inner.left=i.right-l.width,n.options.outer.left=i.right-f.width):s.right&&(n.options.inner.right=i.left+l.width,n.options.outer.right=i.left+f.width),it.set(t),n.options=a}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),vn={start:function(t){var e,n=t.interaction,i=t.interactable,s=t.element,a=t.rect,l=t.state,f=t.startOffset,h=l.options,g=h.offsetWithOrigin?function(b){var k=b.interaction.element,x=mt(He(b.state.options.origin,null,null,[k])),O=x||Je(b.interactable,k,b.interaction.prepared.name);return O}(t):{x:0,y:0};if(h.offset==="startCoords")e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var p=He(h.offset,i,s,[n]);(e=mt(p)||{x:0,y:0}).x+=g.x,e.y+=g.y}var m=h.relativePoints;l.offsets=a&&m&&m.length?m.map(function(b,k){return{index:k,relativePoint:b,x:f.left-a.width*b.x+e.x,y:f.top-a.height*b.y+e.y}}):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,i=t.state,s=i.options,a=i.offsets,l=Je(e.interactable,e.element,e.prepared.name),f=L({},n),h=[];s.offsetWithOrigin||(f.x-=l.x,f.y-=l.y);for(var g=0,p=a;g<p.length;g++)for(var m=p[g],b=f.x-m.x,k=f.y-m.y,x=0,O=s.targets.length;x<O;x++){var R=s.targets[x],C=void 0;(C=v.func(R)?R(b,k,e._proxy,m,x):R)&&h.push({x:(v.number(C.x)?C.x:b)+m.x,y:(v.number(C.y)?C.y:k)+m.y,range:v.number(C.range)?C.range:s.range,source:R,index:x,offset:m})}for(var B={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},G=0;G<h.length;G++){var W=h[G],Y=W.range,U=W.x-f.x,ge=W.y-f.y,ee=Qe(U,ge),be=ee<=Y;Y===1/0&&B.inRange&&B.range!==1/0&&(be=!1),B.target&&!(be?B.inRange&&Y!==1/0?ee/Y<B.distance/B.range:Y===1/0&&B.range!==1/0||ee<B.distance:!B.inRange&&ee<B.distance)||(B.target=W,B.distance=ee,B.range=Y,B.inRange=be,B.delta.x=U,B.delta.y=ge)}return B.inRange&&(n.x=B.target.x,n.y=B.target.y),i.closest=B,B},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},qo=Be(vn,"snap"),It={start:function(t){var e=t.state,n=t.edges,i=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],vn.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,i=t.coords,s=n.options,a=n.offsets,l={x:i.x-a[0].x,y:i.y-a[0].y};n.options=L({},s),n.options.targets=[];for(var f=0,h=s.targets||[];f<h.length;f++){var g=h[f],p=void 0;if(p=v.func(g)?g(l.x,l.y,e):g){for(var m=0,b=n.targetFields;m<b.length;m++){var k=b[m],x=k[0],O=k[1];if(x in p||O in p){p.x=p[x],p.y=p[O];break}}n.options.targets.push(p)}}var R=vn.set(t);return n.options=s,R},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Wo=Be(It,"snapSize"),mn={aspectRatio:Fo,restrictEdges:Yo,restrict:No,restrictRect:jo,restrictSize:Uo,snapEdges:Be({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],It.start(t)):null},set:It.set,defaults:L(qe(It.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:qo,snapSize:Wo,spring:Mt,avoid:Mt,transform:Mt,rubberband:Mt},Ko={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(dr),t.usePlugin(Do),e.modifiers=mn,mn){var i=mn[n],s=i._defaults,a=i._methods;s._methods=a,t.defaults.perAction[n]=s}}},Zo=Ko,Dr=function(t){q(n,t);var e=Z(n);function n(i,s,a,l,f,h){var g;if(y(this,n),bt(V(g=e.call(this,f)),a),a!==s&&bt(V(g),s),g.timeStamp=h,g.originalEvent=a,g.type=i,g.pointerId=Xe(s),g.pointerType=Jn(s),g.target=l,g.currentTarget=null,i==="tap"){var p=f.getPointerIndex(s);g.dt=g.timeStamp-f.pointers[p].downTime;var m=g.timeStamp-f.tapTime;g.double=!!f.prevTap&&f.prevTap.type!=="doubletap"&&f.prevTap.target===g.target&&m<500}else i==="doubletap"&&(g.dt=s.timeStamp-f.tapTime,g.double=!0);return g}return M(n,[{key:"_subtractOrigin",value:function(i){var s=i.x,a=i.y;return this.pageX-=s,this.pageY-=a,this.clientX-=s,this.clientY-=a,this}},{key:"_addOrigin",value:function(i){var s=i.x,a=i.y;return this.pageX+=s,this.pageY+=a,this.clientX+=s,this.clientY+=a,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(Et),ot={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=ot,t.defaults.actions.pointerEvents=ot.defaults,L(t.actions.phaselessTypes,ot.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,i=t.pointer,s=t.event,a=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&yn(t),_e({interaction:n,pointer:i,event:s,eventTarget:a,type:"move"},e))},"interactions:down":function(t,e){(function(n,i){for(var s=n.interaction,a=n.pointer,l=n.event,f=n.eventTarget,h=n.pointerIndex,g=s.pointers[h].hold,p=Oe(f),m={interaction:s,pointer:a,event:l,eventTarget:f,type:"hold",targets:[],path:p,node:null},b=0;b<p.length;b++){var k=p[b];m.node=k,i.fire("pointerEvents:collect-targets",m)}if(m.targets.length){for(var x=1/0,O=0,R=m.targets;O<R.length;O++){var C=R[O].eventable.options.holdDuration;C<x&&(x=C)}g.duration=x,g.timeout=setTimeout(function(){_e({interaction:s,eventTarget:f,pointer:a,event:l,type:"hold"},i)},x)}})(t,e),_e(t,e)},"interactions:up":function(t,e){yn(t),_e(t,e),function(n,i){var s=n.interaction,a=n.pointer,l=n.event,f=n.eventTarget;s.pointerWasMoved||_e({interaction:s,eventTarget:f,pointer:a,event:l,type:"tap"},i)}(t,e)},"interactions:cancel":function(t,e){yn(t),_e(t,e)}},PointerEvent:Dr,fire:_e,collectEventTargets:Br,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function _e(t,e){var n=t.interaction,i=t.pointer,s=t.event,a=t.eventTarget,l=t.type,f=t.targets,h=f===void 0?Br(t,e):f,g=new Dr(l,i,s,a,n,e.now());e.fire("pointerEvents:new",{pointerEvent:g});for(var p={interaction:n,pointer:i,event:s,eventTarget:a,targets:h,type:l,pointerEvent:g},m=0;m<h.length;m++){var b=h[m];for(var k in b.props||{})g[k]=b.props[k];var x=Je(b.eventable,b.node);if(g._subtractOrigin(x),g.eventable=b.eventable,g.currentTarget=b.node,b.eventable.fire(g),g._addOrigin(x),g.immediatePropagationStopped||g.propagationStopped&&m+1<h.length&&h[m+1].node!==g.currentTarget)break}if(e.fire("pointerEvents:fired",p),l==="tap"){var O=g.double?_e({interaction:n,pointer:i,event:s,eventTarget:a,type:"doubletap"},e):g;n.prevTap=O,n.tapTime=O.timeStamp}return g}function Br(t,e){var n=t.interaction,i=t.pointer,s=t.event,a=t.eventTarget,l=t.type,f=n.getPointerIndex(i),h=n.pointers[f];if(l==="tap"&&(n.pointerWasMoved||!h||h.downTarget!==a))return[];for(var g=Oe(a),p={interaction:n,pointer:i,event:s,eventTarget:a,type:l,path:g,targets:[],node:null},m=0;m<g.length;m++){var b=g[m];p.node=b,e.fire("pointerEvents:collect-targets",p)}return l==="hold"&&(p.targets=p.targets.filter(function(k){var x,O;return k.eventable.options.holdDuration===((x=n.pointers[f])==null||(O=x.hold)==null?void 0:O.duration)})),p.targets}function yn(t){var e=t.interaction,n=t.pointerIndex,i=e.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var Ho=Object.freeze({__proto__:null,default:ot});function Jo(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var Qo={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(ot);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=Jo,t},{"pointerEvents:new":function(t){var e=t.pointerEvent;e.type==="hold"&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,i=t.pointerEvent,s=t.eventTarget,a=t.targets;if(i.type==="hold"&&a.length){var l=a[0].eventable.options.holdRepeatInterval;l<=0||(n.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:n,eventTarget:s,type:"hold",pointer:i,event:i},e)},l))}}})},Xo=Qo,$o={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=function(i){return L(this.events.options,i),this};var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(i,s){var a=n.call(this,i,s);return a===this&&(this.events.options[i]=s),a}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,i=t.node,s=t.type,a=t.eventTarget;e.interactables.forEachMatch(i,function(l){var f=l.events,h=f.options;f.types[s]&&f.types[s].length&&l.testIgnoreAllow(h,i,a)&&n.push({node:i,eventable:f,props:{interactable:l}})})},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(n){return e.getRect(n)}},"interactable:set":function(t,e){var n=t.interactable,i=t.options;L(n.events.options,e.pointerEvents.defaults),L(n.events.options,i.pointerEvents||{})}}},es=$o,ts={id:"pointer-events",install:function(t){t.usePlugin(Ho),t.usePlugin(Xo),t.usePlugin(es)}},ns=ts,rs={id:"reflow",install:function(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(n){return function(i,s,a){for(var l=i.getAllElements(),f=a.window.Promise,h=f?[]:null,g=function(){var m=l[p],b=i.getRect(m);if(!b)return 1;var k,x=et(a.interactions.list,function(C){return C.interacting()&&C.interactable===i&&C.element===m&&C.prepared.name===s.name});if(x)x.move(),h&&(k=x._reflowPromise||new f(function(C){x._reflowResolve=C}));else{var O=Ht(b),R=function(C){return{coords:C,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:O.x,y:O.y},client:{x:O.x,y:O.y},timeStamp:a.now()});k=function(C,B,G,W,Y){var U=C.interactions.new({pointerType:"reflow"}),ge={interaction:U,event:Y,pointer:Y,eventTarget:G,phase:"reflow"};U.interactable=B,U.element=G,U.prevEvent=Y,U.updatePointer(Y,Y,G,!0),Wn(U.coords.delta),sn(U.prepared,W),U._doPhase(ge);var ee=C.window,be=ee.Promise,Ee=be?new be(function(Ce){U._reflowResolve=Ce}):void 0;return U._reflowPromise=Ee,U.start(W,B,G),U._interacting?(U.move(ge),U.end(Y)):(U.stop(),U._reflowResolve()),U.removePointer(Y,Y),Ee}(a,i,m,s,R)}h&&h.push(k)},p=0;p<l.length&&!g();p++);return h&&f.all(h).then(function(){return i})}(this,n,t)}},listeners:{"interactions:stop":function(t,e){var n=t.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),function(i,s){i.splice(i.indexOf(s),1)}(e.interactions.list,n))}}},is=rs;if(de.use(pr),de.use(br),de.use(ns),de.use(xo),de.use(Zo),de.use(co),de.use(Qi),de.use($i),de.use(is),de.default=de,d(u)==="object"&&u)try{u.exports=de}catch{}return de.default=de,de})}(Ze,Ze.exports)),Ze.exports}var zi=Yi();const Gn=Yr(zi);function vt(){const u=navigator.userAgent.toLowerCase(),r=/(ipad|tablet|playbook|silk)|(android(?!.*mobile))/i.test(u);return/mobile|android|iphone|ipod|blackberry|windows phone/i.test(u)||r?"H5":"PC"}const ji=u=>{var q,J;const r=`
        <div class="agent-sdk-floating-button" id="agent-sdk-floating-button">
            <div class="agent-sdk-unread-count" id="agent-sdk-unread-count"></div>
            <img src="${Fi}" alt="Chat" draggable="false"/>
        </div>
    `;document.body.insertAdjacentHTML("beforeend",r);const o=document.getElementById("agent-sdk-floating-button");if(!o)return;const c=document.getElementById("agent-sdk-ui-iframe");if(!c)return;const d=document.getElementById("agent-sdk-floating-reminder");if(!d)return;o.style.right=`${-o.offsetWidth/2}px`,o.style.bottom=`${(q=u.options)!=null&&q.bottom?u.options.bottom:20}px`;let y=null;const A=()=>{var X;y&&y.unset(),y=Gn("#agent-sdk-floating-button").draggable({enabled:(X=u.options)!=null&&X.draggable?u.options.draggable:!1,modifiers:[Gn.modifiers.restrictRect({restriction:"parent",endOnly:!0})],listeners:{start(){o.style.pointerEvents="none",_()},move(V){requestAnimationFrame(()=>{if(d.style.display==="flex"||c.style.display==="block"||!o.classList.contains("clicked"))return;const Z=V.target,ie=parseFloat(Z.style.right)||0,ae=parseFloat(Z.style.bottom)||0,$=ie-V.dx,se=ae-V.dy;Z.style.right=`${$}px`,Z.style.bottom=`${se}px`,Z.setAttribute("data-right",$),Z.setAttribute("data-bottom",se)})},end(V){const Z=V.target,ie=parseFloat(Z.style.right)||0,ae=parseFloat(Z.style.bottom)||0,$=window.innerWidth,se=Z.offsetWidth;$-ie-se/2<$/2?(Z.style.right=`${$-se/2}px`,Z.style.left="auto"):(Z.style.right=`${-se/2}px`,Z.style.left="auto"),Z.setAttribute("data-right",parseFloat(Z.style.right)),Z.setAttribute("data-bottom",ae),o.style.pointerEvents="auto",u.showButton()}}})};(J=u.options)!=null&&J.draggable&&u.options.draggable&&A();let M=null;const _=()=>{M&&clearTimeout(M),M=setTimeout(()=>{o.classList.remove("clicked"),o.style.transform="",M=null},5e3)};o.addEventListener("click",X=>{var ie;if((ie=u.options)!=null&&ie.preventDefault||!X.target)return;const Z=document.getElementById("agent-sdk-ui-iframe");if(Z){if(o.classList.contains("clicked"))if(Z.style.display==="none"){if(u.showIframe(),!M)return;clearTimeout(M)}else u.hideIframe();else _();u.showButton()}})},Gi=u=>{const r=`
<iframe src="${u.uiIframeSrc}" class="agent-sdk-floating-iframe" id="agent-sdk-ui-iframe" allow="clipboard-write" style="display: none"></iframe>
`;document.body.insertAdjacentHTML("beforeend",r);const o=document.getElementById("agent-sdk-ui-iframe");o&&(vt()==="PC"?(o.style.borderRadius="16px",o.style.boxShadow="0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05)",o.style.zIndex="9999",o.style.bottom=u!=null&&u.bottom?`${u.bottom}px`:"20px",o.style.right=u!=null&&u.right?`${u.bottom+70}px`:"90px",o.style.width="30vw",o.style.height="80vh"):vt()==="H5"&&(o.style.zIndex="10000",o.style.bottom="0",o.style.right="0",o.style.width="100vw",o.style.height="100vh"))},Vi=u=>{var d,y,A,M,_;document.body.insertAdjacentHTML("beforeend",`
<div class="agent-sdk-floating-reminder" id="agent-sdk-floating-reminder">
    <div class="title-container">
        <div class="title"></div>
        <svg class="close" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M14.9397 3.0603L3.0603 14.9397M3.0603 3.0603L14.9397 14.9397" stroke="#B2B8FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>
    <div class="content"></div>
    <button></button>
</div>
`);const o=document.getElementById("agent-sdk-floating-reminder");if(!o)return;vt()==="PC"?(o.style.right=(d=u.options)!=null&&d.right?`${u.options.right+70}px`:"90px",o.style.bottom=(y=u.options)!=null&&y.bottom?`${u.options.bottom}px`:"20px",o.style.maxWidth="400px"):vt()==="H5"&&(o.style.right=(A=u.options)!=null&&A.right?`${u.options.right}px`:"20px",o.style.bottom=(M=u.options)!=null&&M.bottom?`${u.options.bottom+70}px`:"90px",o.style.maxWidth=`calc(100vw - ${(_=u.options)!=null&&_.right?u.options.right+20:40}px)`,o.style.marginLeft="20px");const c=document.querySelector(".agent-sdk-floating-reminder .close");c&&c.addEventListener("click",()=>{u.hideReminder(),u.hideButton()})};class Ui{constructor(r){Fe(this,"options");Fe(this,"bellhop");Fe(this,"signalClient");Fe(this,"signalServerUrl","wss://ai-signal.edusoho.net");Fe(this,"shortcutList",[]);r.uiIframeSrc||(r.uiIframeSrc="/ui.html"),this.options=r,this.bellhop=new Nr,this.signalClient=new _i,this.signalClient.connect(r.signalServerUrl?r.signalServerUrl:this.signalServerUrl,{token:r.token}),this.signalClient.on("message",o=>{const c=document.getElementById("agent-sdk-unread-count"),d=document.getElementById("agent-sdk-ui-iframe");if(!c||!d)return;const y=JSON.parse(o);y.signal==="message.unread"&&(this.options.variables.unreadMessages=y.data.messages.filter(A=>A.domainId===this.options.variables.domainId),d.style.display==="none"?(c.style.display="block",c.textContent=y.data.count):d.style.display==="block"&&(c.style.display="none",c.textContent=String(y.data.count-this.options.variables.unreadMessages.length),this.bellhop.send("fetchUnreadMessages",{ids:this.options.variables.unreadMessages.map(A=>A.messageId)})))})}setChatMetadata(r){this.options.variables={...this.options.variables,...r}}addShortcut(r,o){this.shortcutList.push({key:r,content:o})}removeShortcut(r){var c;const o=((c=this.shortcutList)==null?void 0:c.findIndex(d=>d.key===r))??-1;o!==-1&&this.shortcutList.splice(o,1)}boot(){Vi(this),Gi(this.options),ji(this);const r=document.getElementById("agent-sdk-ui-iframe");this.bellhop.connect(r),this.bellhop.send("init",{token:this.options.token,shortcutList:this.shortcutList,variables:this.options.variables}),this.bellhop.on("hide",()=>{this.hideIframe()}),this.bellhop.on("link",o=>{window.open(`${o.data}/show`,"_blank")})}shutdown(){const r=document.getElementById("agent-sdk-ui-iframe"),o=document.getElementById("agent-sdk-floating-button"),c=document.getElementById("agent-sdk-floating-reminder");r&&o&&c&&(r.remove(),o.remove(),c.remove())}showIframe(){var d,y;const r=document.getElementById("agent-sdk-ui-iframe"),o=document.getElementById("agent-sdk-unread-count"),c=document.getElementById("agent-sdk-floating-reminder");r&&o&&c&&(c.style.display="none",o.style.display="none",r.style.display="block",(d=this.options.variables)!=null&&d.unreadMessages&&((y=this.options.variables)==null?void 0:y.unreadMessages.length)>0?this.bellhop.send("show",{loadUnreadMessages:!0,ids:this.options.variables.unreadMessages.map(A=>A.messageId)}):this.bellhop.send("show",{loadUnreadMessages:!1}),this.showButton())}hideIframe(){const r=document.getElementById("agent-sdk-ui-iframe");r&&(r.style.display="none"),this.hideButton()}showButton(){var o,c;const r=document.getElementById("agent-sdk-floating-button");if(r){r.classList.add("clicked");const d=window.innerWidth,y=r.offsetWidth;(parseFloat(r.style.right)||0-y/2)<d/2?r.style.transform=`translateX(-${(o=this.options)!=null&&o.right?this.options.right+y/2:20+y/2}px)`:r.style.transform=`translateX(${(c=this.options)!=null&&c.right?this.options.right+y/2:20+y/2}px)`}}hideButton(){const r=document.getElementById("agent-sdk-floating-button");r&&(r.classList.remove("clicked"),r.style.transform="")}chat(r,o){const c={content:r,workflow:o};this.bellhop.send("chat",c)}generateStudyPlan(){this.bellhop.on("fetchMessagesCompleted",()=>{this.chat("",null),this.bellhop.off("fetchMessagesCompleted")}),this.hideReminder(),this.showIframe()}teacherQuestion(r,o){this.bellhop.on("fetchMessagesCompleted",()=>{this.chat(r,o),this.bellhop.off("fetchMessagesCompleted")}),this.hideReminder(),this.showIframe()}async showReminder(r){const o=document.querySelector(".agent-sdk-floating-reminder"),c=document.querySelector(".agent-sdk-floating-reminder .title"),d=document.querySelector(".agent-sdk-floating-reminder .content"),y=document.querySelector(".agent-sdk-floating-reminder .close"),A=document.querySelector(".agent-sdk-floating-reminder button");y.style.display="block",c.style.display="none",d.style.display="none",A.style.display="none",o&&(o.style.display="flex"),r!=null&&r.title&&c&&(c.style.display="block",c.textContent=r.title),r!=null&&r.content&&d&&(d.style.display="block",d.textContent=r.content),r!=null&&r.buttonContent&&A&&(A.style.display="block",r.buttonContent==="plan.generate"?(A.textContent="",A.addEventListener("click",()=>{this.generateStudyPlan()})):r.buttonContent==="teacher.question"&&(A.textContent="",A.addEventListener("click",()=>{this.teacherQuestion(r==null?void 0:r.chatContent,r==null?void 0:r.workflow)}))),r!=null&&r.duration&&y&&(y.style.display="none",setTimeout(()=>{o&&(o.style.display="none")},r.duration)),this.showButton()}hideReminder(){const r=document.getElementById("agent-sdk-floating-reminder");r&&(r.style.display="none"),this.hideButton()}}return Ui}();
