!function(e){function t(t){for(var n,s,i=t[0],l=t[1],u=t[2],p=0,h=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);h.length;)h.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={163:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static-dist/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;o.push([1141,0]),a()}({102:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(14),r=a.n(n),o=a(5),s=a.n(o),i=a(6),l=a.n(i),u=a(25),c=a.n(u),p=a(26),h=a.n(p),m=a(13),d=a.n(m),f=a(7),v=a.n(f),y=a(90),b=a(93);function g(e){var t=T();return function(){var a,n=d()(e);if(t){var o=d()(this).constructor;a=r()(n,arguments,o)}else a=n.apply(this,arguments);return h()(this,a)}}function T(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var k=function(e){c()(a,e);var t=g(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).listId=Object(b.a)(),n.$list=null,n.$item=null,n}return l()(a,[{key:"componentDidMount",value:function(){var e=this,t="#".concat(this.listId);this.$list=$(t),this.context.sortable&&(Object(y.a)({element:t,itemSelector:"li",ajax:!1},(function(a){$(t).children().remove(),$(t).append(e.$item),e.context.sortItem(a)})),this.onChange(t))}},{key:"onChange",value:function(e){var t=this;this.$list.on("mousedown","li",(function(){t.$item=$(e).children(".list-group-item")}))}},{key:"componentWillMount",value:function(){this.$item=$(this.listId).children().clone()}},{key:"render",value:function(){var e=this,t=this.context,a=t.dataSourceUi,n=t.sortable,r=t.inputName,o=t.listClassName,s="";return a.length>0&&(s="list-group"),v.a.createElement("ul",{id:this.listId,className:"multi-list sortable-list ".concat(s," ").concat(o)},a.map((function(t,a){return v.a.createElement("li",{className:"list-group-item",id:t.itemId,key:a,"data-seq":t.seq},v.a.createElement("i",{className:n?"es-icon es-icon-yidong drag-icon-btn":"hidden"}),v.a.createElement("span",{className:"content"},t.label),v.a.createElement("a",{className:"move-icon-btn link-gray",onClick:function(t){return e.context.removeItem(t)},"data-item-id":t.itemId},v.a.createElement("i",{className:"es-icon es-icon-close01 "})),v.a.createElement("input",{type:"hidden",name:r,value:t.label}))})))}}]),a}(f.Component);k.contextTypes={removeItem:v.a.PropTypes.func,sortItem:v.a.PropTypes.func,sortable:v.a.PropTypes.bool,listClassName:v.a.PropTypes.string,inputName:v.a.PropTypes.string,dataSourceUi:v.a.PropTypes.array.isRequired}},106:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));var n=a(14),r=a.n(n),o=a(37),s=a.n(o),i=a(5),l=a.n(i),u=a(6),c=a.n(u),p=a(81),h=a.n(p),m=a(25),d=a.n(m),f=a(26),v=a.n(f),y=a(13),b=a.n(y),g=a(50),T=a.n(g),k=a(7),N=a.n(k),P=a(102),S=a(127);function C(e){var t=I();return function(){var a,n=b()(e);if(t){var o=b()(this).constructor;a=r()(n,arguments,o)}else a=n.apply(this,arguments);return v()(this,a)}}function I(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var x=function(e){d()(a,e);var t=C(a);function a(e){var n;return l()(this,a),(n=t.call(this,e)).state={resultful:n.props.resultful},n}return c()(a,[{key:"render",value:function(){var e=this,t=[];return this.props.searchResult.map((function(a,n){var r=N.a.createElement("li",{key:n},N.a.createElement("a",{"data-item":s()(a),onClick:function(t){return e.handleChange(t)},"data-name":a.nickname},a.nickname));t.push(r)})),t.length<=0&&t.push(N.a.createElement("li",{className:"not-find"},N.a.createElement("a",null,Translator.trans("site.data.not_found")))),N.a.createElement("ul",{className:"dropdown-menu options ".concat(this.state.resultful&&"show"," ")},t)}},{key:"handleChange",value:function(e){this.setState({resultful:!1});var t=e.currentTarget.attributes["data-item"].value;this.props.selectChange(e.currentTarget.attributes["data-name"].value,JSON.parse(t))}}]),a}(k.Component),E=a(60),w=a.n(E);function U(e){var t=B();return function(){var a,n=b()(e);if(t){var o=b()(this).constructor;a=r()(n,arguments,o)}else a=n.apply(this,arguments);return v()(this,a)}}function B(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}var O=function(e){d()(a,e);var t=U(a);function a(e){var n;return l()(this,a),(n=t.call(this,e)).state={itemName:"",searched:!0,resultful:!1,searchResult:[]},n.timer=!1,n.subscribeMessage(),n}return c()(a,[{key:"subscribeMessage",value:function(){var e=this;w.a.subscribe({channel:"courseInfoMultiInput",topic:"addMultiInput",callback:function(){console.log("add"),e.handleAdd()}})}},{key:"selectChange",value:function(e,t){t&&this.context.addItem(e,t),this.setState({itemName:""})}},{key:"onFocus",value:function(e){this.setState({searched:!0})}},{key:"handleNameChange",value:function(e){var t=this,a=e.currentTarget.value;this.setState({itemName:a,searchResult:[],resultful:!1}),!this.context.searchable.enable||a.length<0||!this.state.searched||(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){!function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";$.ajax({url:e,type:n,data:a,success:function(e){t&&"function"==typeof t&&t(e)},error:function(){t&&"function"==typeof t&&t([])}})}(t.context.searchable.url+a,(function(e){t.state.itemName.length>0&&(console.log({searchResult:e}),t.setState({searchResult:e,resultful:!0}))}))}),500))}},{key:"handleAdd",value:function(){Object(S.c)(this.state.itemName).length>0&&this.context.addItem(this.state.itemName,this.state.itemData),this.setState({itemName:"",searchResult:[],resultful:!1})}},{key:"render",value:function(){var e=this,t=Translator.trans("site.data.create");return N.a.createElement("div",{className:"input-group"},N.a.createElement("input",{className:"form-control",value:this.state.itemName,onChange:function(t){return e.handleNameChange(t)},onFocus:function(t){return e.onFocus(t)}}),this.context.searchable.enable&&this.state.resultful&&N.a.createElement(x,{searchResult:this.state.searchResult,selectChange:function(t,a){return e.selectChange(t,a)},resultful:this.state.resultful}),this.context.addable&&N.a.createElement("span",{className:"input-group-btn"},N.a.createElement("a",{className:"btn btn-default",onClick:function(){return e.handleAdd()}},t)))}}]),a}(k.Component);O.contextTypes={addItem:N.a.PropTypes.func,addable:N.a.PropTypes.bool,searchable:N.a.PropTypes.shape({enable:N.a.PropTypes.bool,url:N.a.PropTypes.string})};var j=a(93);function V(e){var t=D();return function(){var a,n=b()(e);if(t){var o=b()(this).constructor;a=r()(n,arguments,o)}else a=n.apply(this,arguments);return v()(this,a)}}function D(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}function M(e,t){var a={itemId:Object(j.a)(),label:t,outputValue:t};e.push(a)}var R=function(e){d()(a,e);var t=V(a);function a(e){var n;return l()(this,a),n=t.call(this,e),T()(h()(n),"removeItem",(function(e){var t=e.currentTarget.attributes["data-item-id"].value;!function(e,t){for(var a=0;a<e.length;a++)if(e[a].itemId==t){e.splice(a,1);break}}(n.state.dataSourceUi,t),n.setState({dataSourceUi:n.state.dataSourceUi})})),T()(h()(n),"sortItem",(function(e){n.state.dataSourceUi=function(e,t){for(var a=[],n=0;n<e.length;n++)for(var r=0;r<t.length;r++)if(e[n]==t[r].itemId){a.push(t[r]);break}return a}(e,n.state.dataSourceUi),n.setState({dataSourceUi:n.state.dataSourceUi})})),T()(h()(n),"addItem",(function(e,t){M(n.state.dataSourceUi,e),n.setState({dataSourceUi:n.state.dataSourceUi})})),n}return c()(a,[{key:"componentWillMount",value:function(){var e=this;this.state={dataSourceUi:[]},this.props.dataSource.map((function(t,a){M(e.state.dataSourceUi,t)})),console.log({"initItem after":this.state.dataSourceUi})}},{key:"getChildContext",value:function(){return{removeItem:this.removeItem,sortItem:this.sortItem,addItem:this.addItem,addable:this.props.addable,searchable:this.props.searchable,sortable:this.props.sortable,listClassName:this.props.listClassName,inputName:this.props.inputName,dataSourceUi:this.state.dataSourceUi}}},{key:"getOutputSets",value:function(){var e=[];return this.state.dataSourceUi.map((function(t,a){e.push(t.outputValue)})),e}},{key:"getList",value:function(){return N.a.createElement(P.a,null)}},{key:"render",value:function(){var e=this.getList(),t=this.getOutputSets();return N.a.createElement("div",{className:"multi-group"},e,this.props.showAddBtnGroup&&N.a.createElement(O,null),N.a.createElement("input",{type:"hidden",name:this.props.outputDataElement,value:s()(t)}))}}]),a}(k.Component);R.propTypes={multiInputClassName:N.a.PropTypes.string,listClassName:N.a.PropTypes.string,dataSource:N.a.PropTypes.array.isRequired,sortable:N.a.PropTypes.bool,addable:N.a.PropTypes.bool,searchable:N.a.PropTypes.shape({enable:N.a.PropTypes.bool,url:N.a.PropTypes.string}),showAddBtnGroup:N.a.PropTypes.bool,inputName:N.a.PropTypes.string,checkBoxName:N.a.PropTypes.string,outputDataElement:N.a.PropTypes.string},R.defaultProps={multiInputClassName:"multi-group",listClassName:"",dataSource:[],sortable:!0,addable:!0,searchable:{enable:!1,url:""},showAddBtnGroup:!0,inputName:"",checkBoxName:"visible_",outputDataElement:"hidden-input"},R.childContextTypes={removeItem:N.a.PropTypes.func,sortItem:N.a.PropTypes.func,addItem:N.a.PropTypes.func,addable:N.a.PropTypes.bool,searchable:N.a.PropTypes.shape({enable:N.a.PropTypes.bool,url:N.a.PropTypes.string}),sortable:N.a.PropTypes.bool,listClassName:N.a.PropTypes.string,inputName:N.a.PropTypes.string,dataSourceUi:N.a.PropTypes.array.isRequired}},1141:function(e,t,a){"use strict";a.r(t);var n=a(167),r=a.n(n),o=a(7),s=a.n(o),i=a(192);r.a.render(s.a.createElement(i.a,{replaceItem:!0,sortable:!1,addable:!0,showCheckbox:!1,inputName:"ids[]",dataSource:$("#classroom-head-teacher").data("teacher"),outputDataElement:"teachers",searchable:{enable:!0,url:$("#classroom-head-teacher").data("url")+"?q="},showDeleteBtn:!1}),document.getElementById("classroom-head-teacher"))},192:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(22),r=a.n(n),o=a(110),s=a.n(o),i=a(87),l=a.n(i),u=a(80),c=a.n(u),p=a(83),h=a.n(p),m=a(36),d=a.n(m),f=a(14),v=a.n(f),y=a(5),b=a.n(y),g=a(6),T=a.n(g),k=a(81),N=a.n(k),P=a(25),S=a.n(P),C=a(26),I=a.n(C),x=a(13),E=a.n(x),w=a(50),U=a.n(w),B=a(7),O=a.n(B),j=a(106),V=(a(90),a(93),a(102));function D(e,t){var a=d()(e);if(h.a){var n=h()(e);t&&(n=n.filter((function(t){return c()(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){U()(e,t,a[t])})):l.a?s()(e,l()(a)):D(Object(a)).forEach((function(t){r()(e,t,c()(a,t))}))}return e}function M(e){var t=R();return function(){var a,n=E()(e);if(t){var r=E()(this).constructor;a=v()(n,arguments,r)}else a=n.apply(this,arguments);return I()(this,a)}}function R(){try{var e=!Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var _=function(e){S()(a,e);var t=M(a);function a(e){return b()(this,a),t.call(this,e)}return T()(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.dataSourceUi,n=t.listClassName,r=t.sortable,o=t.showCheckbox,s=t.showDeleteBtn,i=t.checkBoxName,l=t.inputName,u="";return a.length>0&&(u="list-group"),O.a.createElement("ul",{id:this.listId,className:"multi-list sortable-list ".concat(u," ").concat(n)},a.map((function(t,a){return O.a.createElement("li",{className:"list-group-item",id:t.itemId,key:a,"data-seq":t.seq},r&&O.a.createElement("i",{className:"es-icon es-icon-yidong mrl color-gray inline-block vertical-middle"}),O.a.createElement("img",{className:"avatar-sm avatar-sm-square mrm",src:t.avatar}),O.a.createElement("span",{className:"label-name text-overflow inline-block vertical-middle"},t.nickname),O.a.createElement("label",{className:o?"":"hidden"},O.a.createElement("input",{type:"checkbox",name:i+t.id,checked:t.isVisible,onChange:function(t){return e.context.onChecked(t)},value:t.itemId}),Translator.trans("course.manage.teacher_display_label")),O.a.createElement("span",{"data-url":"","data-toggle":"tooltip","data-placement":"top",title:Translator.trans("del.role.theater.hover.title"),className:t.isCanceledTeacherRoles?"":"hidden"},O.a.createElement("i",{className:"es-icon es-icon-infooutline pull-right mtm mlm text-16 text-FF7D00"})),O.a.createElement("a",{className:s?"pull-right link-gray mtm":"hidden",onClick:function(t){return e.context.removeItem(t)},"data-item-id":t.itemId},O.a.createElement("i",{className:"es-icon es-icon-close01 text-16"})),O.a.createElement("input",{type:"hidden",name:l,value:t.id}))})))}}]),a}(V.a);function q(e,t){var a=d()(e);if(h.a){var n=h()(e);t&&(n=n.filter((function(t){return c()(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){U()(e,t,a[t])})):l.a?s()(e,l()(a)):q(Object(a)).forEach((function(t){r()(e,t,c()(a,t))}))}return e}function F(e){var t=G();return function(){var a,n=E()(e);if(t){var r=E()(this).constructor;a=v()(n,arguments,r)}else a=n.apply(this,arguments);return I()(this,a)}}function G(){try{var e=!Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function J(e,t,a,n){var r,o={itemId:Math.random(),nickname:t[n.nickname],isVisible:1==t[n.isVisible],avatar:t[n.avatar],seq:a,id:t[n.id],isCanceledTeacherRoles:t.isCanceledTeacherRoles,outputValue:(r={},U()(r,n.id,t[n.id]),U()(r,n.isVisible,t[n.isVisible]),r)};e.push(o)}_.contextTypes=$($({},V.a.contextTypes),{},{showCheckbox:O.a.PropTypes.bool,showDeleteBtn:O.a.PropTypes.bool,checkBoxName:O.a.PropTypes.string,onChecked:O.a.PropTypes.func});var L=function(e){S()(a,e);var t=F(a);function a(e){var n;return b()(this,a),n=t.call(this,e),U()(N()(n),"onChecked",(function(e){var t=e.currentTarget.value;!function(e,t){e.map((function(a,n){a.itemId==t&&(e[n].isVisible=!e[n].isVisible,e[n].outputValue.isVisible=e[n].isVisible?1:0)}))}(n.state.dataSourceUi,t),n.setState({dataSourceUi:n.state.dataSourceUi})})),U()(N()(n),"addItem",(function(e,t){if(t){n.props.replaceItem&&(n.state.dataSourceUi=[]),J(n.state.dataSourceUi,t,n.state.dataSourceUi.length+1,n.props);var a=function(e){var t={};return e.reduce((function(e,a){return t[a.id]?cd.message({type:"danger",message:Translator.trans("course.manage.teacher.manage.repeat_tip")}):(t[a.id]=!0,e.push(a)),e}),[])}(n.state.dataSourceUi);n.setState({dataSourceUi:a})}})),n}return T()(a,[{key:"componentWillMount",value:function(){var e=this;this.state={dataSourceUi:[]},this.props.dataSource.map((function(t,a){J(e.state.dataSourceUi,t,a+1,e.props)}))}},{key:"getChildContext",value:function(){return{addable:this.props.addable,searchable:this.props.searchable,sortable:this.props.sortable,listClassName:this.props.listClassName,inputName:this.props.inputName,showCheckbox:this.props.showCheckbox,showDeleteBtn:this.props.showDeleteBtn,checkBoxName:this.props.checkBoxName,onChecked:this.onChecked,removeItem:this.removeItem,sortItem:this.sortItem,addItem:this.addItem,dataSourceUi:this.state.dataSourceUi}}},{key:"getList",value:function(){return O.a.createElement(_,null)}}]),a}(j.a);L.propTypes=A(A({},j.a.propTypes),{},{id:O.a.PropTypes.string,nickname:O.a.PropTypes.string,avatar:O.a.PropTypes.string,isVisible:O.a.PropTypes.string,replaceItem:O.a.PropTypes.bool,showCheckbox:O.a.PropTypes.bool,showDeleteBtn:O.a.PropTypes.bool}),L.defaultProps=A(A({},j.a.defaultProps),{},{id:"id",nickname:"nickname",avatar:"avatar",isVisible:"isVisible",replaceItem:!1,showCheckbox:!0,showDeleteBtn:!0}),L.childContextTypes=A(A({},j.a.childContextTypes),{},{showCheckbox:O.a.PropTypes.bool,showDeleteBtn:O.a.PropTypes.bool,checkBoxName:O.a.PropTypes.string,onChecked:O.a.PropTypes.func})},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(){return Math.random().toString().replace(".","")}}});