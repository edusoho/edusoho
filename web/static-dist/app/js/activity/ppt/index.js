webpackJsonp(["app/js/activity/ppt/index"],{f3c7e4fbf91afda92bf3:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("63fff8fb24f3bd1f61cd"),c=r(s),u=n("56b32877cbcf8d29840e"),f=r(u),d=function(e){function t(e){var n=e.element,r=e.slides,i=e.watermark;l(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.element=$(n),o.slides=r||[],o.watermark=i||"",o._KEY_ACTION_MAP={37:o._onPrev,39:o._onNext,38:o._onLast,40:o._onFirst},o.total=o.slides.length,o._page=0,o.placeholder="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",o._init(),o}return i(t,e),o(t,[{key:"_render",value:function(){var e='\n      <div class="slide-player">\n        <div class="slide-player-body loading-background"></div>\n        <div class="slide-notice">\n          <div class="header">{{ \'已经到最后一张图片了哦\'|trans }}\n            <button type="button" class="close">×</button>\n          </div>\n        </div>\n      \n        <div class="slide-player-control clearfix">\n          <a href="javascript:" class="goto-first">\n            <span class="glyphicon glyphicon-step-backward"></span>\n          </a>\n          <a href="javascript:" class="goto-prev">\n            <span class="glyphicon glyphicon-chevron-left"></span>\n          </a>\n          <a href="javascript:" class="goto-next">\n            <span class="glyphicon glyphicon-chevron-right"></span>\n          </a>\n          <a href="javascript:" class="goto-last">\n            <span class="glyphicon glyphicon-step-forward"></span>\n          </a>\n          <a href="javascript:" class="fullscreen">\n            <span class="glyphicon glyphicon-fullscreen"></span>\n          </a>\n          <div class="goto-page-input">\n            <input type="text" class="goto-page form-control input-sm" value="1">&nbsp;/&nbsp;\n              <span class="total"></span>\n          </div>\n        </div>\n      </div>';this.element.html(e),this.element.find(".total").text(this.total);var t=this.slides.reduce(function(e,t,n){return e+='<img data-src="'+t+'" class="slide" data-page="'+(n+1)+'">'},"");this.element.find(".slide-player-body").html(t),this.watermark&&this.element.append('<div class="slide-player-watermark">'+this.watermark+"</div>")}},{key:"_init",value:function(){this._render(),this._bindEvents(),this._onFirst()}},{key:"_lazyLoad",value:function(e){for(var t=e;t<e+4&&!(t>this.total);t++){var n=this._getSlide(t);n.attr("src")||n.attr("src",n.data("src"))}}},{key:"_getSlide",value:function(e){return this.element.find(".slide-player-body .slide").eq(e-1)}},{key:"_bindEvents",value:function(){var e=this;$(document).on("keydown",function(t){e._KEY_ACTION_MAP[t.keyCode]&&e._KEY_ACTION_MAP[t.keyCode].call(e)}),this.element.on("click",".goto-next",function(t){return e._onNext(t)}),this.element.on("click",".goto-prev",function(t){return e._onPrev(t)}),this.element.on("click",".goto-first",function(t){return e._onFirst(t)}),this.element.on("click",".goto-last",function(t){return e._onLast(t)}),this.element.on("click",".fullscreen",function(t){return e._onFullScreen(t)}),this.element.on("change",".goto-page",function(t){return e._onChangePage(t)});var t=this;this.on("change",function(n){var r=n.current;n.before;r==t.total&&t.emit("end",{page:e.total})})}},{key:"_onNext",value:function(){return this.page===this.total?void this.emit("end",{page:this.total}):void this.page++}},{key:"_onPrev",value:function(){1!=this.page&&this.page--}},{key:"_onFirst",value:function(){this.page=1}},{key:"_onLast",value:function(){this.page=this.total}},{key:"_onFullScreen",value:function(){f.default.enabled&&(f.default.isFullscreen?f.default.toggle():f.default.request())}},{key:"_onChangePage",value:function(e){this.page=$(e.target).val()}},{key:"page",get:function(){return this._page},set:function(e){var t=this,n=this.page,r=e;r>this.total&&(this.element.find(".goto-page").val(r),this._page=r),r<1&&(this.element.find(".goto-page").val(n),this._page=n),n&&this.element.find(".slide-player-body .slide").eq(n-1).removeClass("active");var l=this._getSlide(r);l.attr("src")?l.addClass("active"):(l.load(function(){t._page==l.data("page")&&l.addClass("active")}),l.attr("src",l.data("src"))),this._lazyLoad(r),this.element.find(".goto-page").val(r),this._page=r,this.emit("change",{current:r,before:n})}}]),t}(c.default);t.default=d},0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var l=n("f3c7e4fbf91afda92bf3"),a=r(l),i=n("da32dea28c2b82c7aab1"),o=r(i),s=new o.default,c=$("#activity-ppt-content"),u=c.data("watermarkUrl"),f=function(e){var t=new a.default({element:"#activity-ppt-content",slides:c.data("slides").split(","),watermark:e});return"end"===c.data("finishType")&&t.once("end",function(e){s.emit("finish",e)}),t};if(void 0===u){f()}else $.get(u).then(function(e){f(e)}).fail(function(e){})},"63fff8fb24f3bd1f61cd":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("17c25dd7d9d2615bc1d9"),c=r(s),u=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"delay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=function(){var e=arguments;setTimeout(function(){t.apply(self,[].concat(Array.prototype.slice.call(e)))},n)};return this.on(e,r)}},{key:"once",value:function(e,t){var n=this,r=function r(){t.apply(n,[].concat(Array.prototype.slice.call(arguments))),n.off(e,r)};return this.on(e,r)}}]),t}(c.default);t.default=u},"56b32877cbcf8d29840e":function(e,t){!function(){"use strict";var t="undefined"!=typeof e&&e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,l=n.length,a={};r<l;r++)if(e=n[r],e&&e[1]in document){for(r=0,t=e.length;r<t;r++)a[n[0][r]]=e[r];return a}return!1}(),l={request:function(e){var t=r.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:r};return r?(Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(document[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[r.fullscreenEnabled])}}}),void(t?e.exports=l:window.screenfull=l)):void(t?e.exports=!1:window.screenfull=!1)}()}});