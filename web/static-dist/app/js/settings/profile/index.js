webpackJsonp(["app/js/settings/profile/index"],{0:function(e,t){e.exports=jQuery},"13a6c5c8e2bc32889ed2":function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l,r,o=i("b334fd7e4c5a19234db2"),s=n(o),d=i("da1016b113836a3c7b68"),c=n(d);i("ab1ad5e1fad5f150970e");CKEDITOR.replace("profile_about",{toolbar:"Simple",fileSingleSizeLimit:app.fileSingleSizeLimit,filebrowserImageUploadUrl:$("#profile_about").data("imageUploadUrl")});$(".js-date").datetimepicker({autoclose:!0,format:"yyyy-mm-dd",minView:"month",language:document.documentElement.lang}),$("#user-profile-form").validate({rules:(r={nickname:(l={required:!0,chinese_alphanumeric:!0,byte_minlength:4,byte_maxlength:18,nickname:!0},a(l,"chinese_alphanumeric",!0),a(l,"es_remote",{type:"get"}),l),"profile[truename]":{minlength:2,maxlength:18},"profile[title]":{maxlength:24},"profile[qq]":"qq","profile[weibo]":"url","profile[blog]":"url","profile[site]":"url","profile[mobile]":"mobile","profile[idcard]":"idcardNumber","profile[intField1]":{digits:!0,maxlength:9},"profile[intField2]":{digits:!0,maxlength:9},"profile[intField3]":{digits:!0,maxlength:9},"profile[intField4]":{digits:!0,maxlength:9},"profile[intField5]":{digits:!0,maxlength:9},"profile[floatField1]":"float","profile[floatField2]":"float","profile[floatField3]":"float","profile[floatField4]":"float","profile[floatField5]":"float","profile[dateField5]":"date"},a(r,"profile[dateField5]","date"),a(r,"profile[dateField5]","date"),a(r,"profile[dateField5]","date"),a(r,"profile[dateField5]","date"),r)}),new c.default({el:"#nickname-form-group",success:function(e){(0,s.default)("success",Translator.trans(e.message))},fail:function(e){e.responseJSON.message?(0,s.default)("danger",Translator.trans(e.responseJSON.message)):(0,s.default)("danger",Translator.trans("user.settings.basic_info.nickname_change_fail"))}})},ab1ad5e1fad5f150970e:function(e,t,i){"use strict";cd.upload({el:".js-upload-input"}).on("error",function(e){"FILE_SIZE_LIMIT"===e?cd.message({type:"danger",message:Translator.trans("uploader.size_2m_limit_hint")}):"FLIE_TYPE_LIMIT"===e&&cd.message({type:"danger",message:Translator.trans("uploader.type_denied_limit_hint")})}).on("success",function(e,t,i){cd.crop({event:e,src:i}).on("success",function(t){var i=$(e.currentTarget);localStorage.setItem("crop_image_attr",JSON.stringify(t));var n=cd.loading({isFixed:!0});$("#modal").html(n).modal({backdrop:"static",keyboard:!1}).load(i.data("saveUrl"))})})},da1016b113836a3c7b68:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function(){function e(t){n(this,e),this.el=t.el,this.parent=t.parent||document,this.$el=$(this.el),this.editBtn=t.editBtn||".input-edit__edit-btn",this.saveBtn=t.saveBtn||".input-edit__save-btn",this.cancelBtn=t.cancelBtn||".input-edit__cancel-btn",this.success=t.success||this.success,this.fail=t.fail||this.fail,this.init()}return a(e,[{key:"init",value:function(){this.event()}},{key:"event",value:function(){var e=this,t=$(this.parent);t.on("click",this.editBtn,function(t){return e.edit(t)}),t.on("click",this.saveBtn,function(t){return e.save(t)}),t.on("click",this.cancelBtn,function(t){return e.cancel(t)})}},{key:"edit",value:function(e){$(e.currentTarget).parent().hide(),this.$el.find(".input-edit__edit-dom").show().find(".input-edit__input").focus().select()}},{key:"cancel",value:function(e){$(e.currentTarget);this.$el.find(".input-edit__edit-dom").hide();var t=this.$el.find(".input-edit__static-text").text();this.$el.find(".input-edit__input").val(t),this.$el.find(".input-edit__static-dom").show()}},{key:"save",value:function(e){var t=this,i=$(e.currentTarget),n=i.data("url"),a=i.data("input-name"),l={};l[a]=$("input[name="+a+"]").val(),i.button("loading"),$.post(n,l).always(function(){i.button("reset")}).done(function(e){var i=t.$el.find(".input-edit__input");t.$el.find(".input-edit__static-text").text(i.val()),t.$el.find(".input-edit__edit-dom").hide(),t.$el.find(".input-edit__static-dom").show(),t.success(e)}).fail(function(e){t.fail(e)})}},{key:"success",value:function(e){}},{key:"fail",value:function(e){}}]),e}();t.default=l}},["13a6c5c8e2bc32889ed2"]);