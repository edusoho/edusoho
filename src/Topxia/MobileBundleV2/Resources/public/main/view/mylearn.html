<div class="ui-bar" ui-bar>
  <div class="ui-bar-bg">
    <button class="ui-btn btn-outline iconfont icon-fanhui" back="go"></button>
    <h3 class="title">我的学习</h3>
  </div>
</div>

<div class="ui-tab tab-top" ui-tab>
    <ul class="ui-tab-nav ui-border-b">
        <li><span class="line">课程</span></li>
        <li><span class="line">直播课</span></li>
        <li><span>班级</span></li>
    </ul>
    <ul class="ui-tab-content tab-display ui-course-learn">
        <li>
            <div class="ui-scroller course-card" ui-scroll data="course.data" on-infinite="loadMore('course', successCallback)">
              <ul class="ui-list ui-border-tb">
                  <li class="ui-border-t ui-list-avatar" ng-repeat="course in course.data" ng-href="#/course/{{ course.id  }}">
                      <div class="ui-list-img">
                          <img ng-src="{{ course.middlePicture | coverPic }}" img-error="course"/>
                      </div>
                      <div class="ui-list-info">
                          <h2 class="ui-nowrap ui-list-title">{{ course.title }}</h2>
                          <p>
                            <span>
                                上次学习时间:{{ course.startTime | coverLearnTime }}
                            </span>
                            <div class="ui-progress">
                                <div class="ui-progress-bg">
                                  <span ng-style="course | coverLearnProsser"></span>
                                </div>
                            </div>
                          </p>
                      </div>
                  </li>
              </ul>

              <list-empty-view data="course.data" title="暂时没有在学课程">
              </list-empty-view>

              <div class="ui-loading-wrap" ng-show="canLoadMore('course')">
                <p>正在加载中...</p>
                <i class="ui-loading"></i>
              </div>
            </div>

        </li>
        <li ng-onload="loadLiveCourses()">
            <div class="ui-scroller course-card" ui-scroll data="live.data" on-infinite="loadMore('live', successCallback)">
              <ul class="ui-list ui-border-tb">
                  <li class="ui-border-t ui-list-avatar" ng-repeat="course in live.data" ng-href="#/course/{{ course.id  }}">
                      <div class="ui-list-img">
                          <img ng-src="{{ course.middlePicture | coverPic }}" img-error="course"/>
                      </div>
                      <div class="ui-list-info">
                          <h2 class="ui-nowrap ui-list-title">{{ course.title }}</h2>
                          <p>
                            <span>
                                上次学习时间:{{ course.startTime | coverLearnTime }}
                            </span>
                            <div class="ui-progress">
                                <div class="ui-progress-bg">
                                  <span ng-style="course | coverLearnProsser"></span>
                                </div>
                            </div>
                          </p>
                      </div>
                  </li>
              </ul>

              <list-empty-view data="live.data" title="暂时没有在学直播">
              </list-empty-view>

              <div class="ui-loading-wrap" ng-show="canLoadMore('live')">
                <p>正在加载中...</p>
                <i class="ui-loading"></i>
              </div>
            </div>
        </li>
        <li ng-onload="loadClassRooms()">
            <div class="ui-scroller course-card" ui-scroll data="classroom.data" on-infinite="loadMore('classroom', successCallback)">
              <ul class="ui-list ui-border-tb">
                  <li class="ui-border-t ui-list-avatar" ng-repeat="classroom in classroom.data" ng-href="#/classroom/{{ classroom.id  }}">
                      <div class="ui-list-img">
                          <img ng-src="{{ classroom.middlePicture | coverPic }}" img-error="classroom"/>
                      </div>
                      <div class="ui-list-info">
                          <h2 class="ui-nowrap ui-list-title">{{ classroom.title }}</h2>
                          <p>
                            <span>
                                上次学习时间:{{ classroom.startTime | coverLearnTime }}
                            </span>
                            <div class="ui-progress">
                                <div class="ui-progress-bg">
                                  <span ng-style="classroom | coverLearnProsser"></span>
                                </div>
                            </div>
                          </p>
                      </div>
                  </li>
              </ul>

              <list-empty-view data="classroom.data" title="暂时没有在学班级">
              </list-empty-view>

              <div class="ui-loading-wrap" ng-show="canLoadMore('classroom')">
                <p>正在加载中...</p>
                <i class="ui-loading"></i>
              </div>
            </div>
        </li>
    </ul>
</div>