{"version":3,"sources":["node_modules/.0.14.8@react/lib/ReactChildren.js"],"names":["PooledClass","require","ReactElement","emptyFunction","traverseAllChildren","twoArgumentPooler","fourArgumentPooler","userProvidedKeyEscapeRegex","escapeUserProvidedKey","text","replace","ForEachBookKeeping","forEachFunction","forEachContext","func","context","count","prototype","destructor","addPoolingTo","forEachSingleChild","bookKeeping","child","name","call","forEachChildren","children","forEachFunc","traverseContext","getPooled","release","MapBookKeeping","mapResult","keyPrefix","mapFunction","mapContext","result","mapSingleChildIntoContext","childKey","mappedChild","Array","isArray","mapIntoWithKeyPrefixInternal","thatReturnsArgument","isValidElement","cloneAndReplaceKey","key","push","array","prefix","escapedPrefix","mapChildren","forEachSingleChildDummy","countChildren","toArray","ReactChildren","forEach","map","module","exports"],"mappings":"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","file":"ReactChildren.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactChildren\n */\n\n'use strict';\n\nvar PooledClass = require('./PooledClass');\nvar ReactElement = require('./ReactElement');\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar traverseAllChildren = require('./traverseAllChildren');\n\nvar twoArgumentPooler = PooledClass.twoArgumentPooler;\nvar fourArgumentPooler = PooledClass.fourArgumentPooler;\n\nvar userProvidedKeyEscapeRegex = /\\/(?!\\/)/g;\nfunction escapeUserProvidedKey(text) {\n  return ('' + text).replace(userProvidedKeyEscapeRegex, '//');\n}\n\n/**\n * PooledClass representing the bookkeeping associated with performing a child\n * traversal. Allows avoiding binding callbacks.\n *\n * @constructor ForEachBookKeeping\n * @param {!function} forEachFunction Function to perform traversal with.\n * @param {?*} forEachContext Context to perform context with.\n */\nfunction ForEachBookKeeping(forEachFunction, forEachContext) {\n  this.func = forEachFunction;\n  this.context = forEachContext;\n  this.count = 0;\n}\nForEachBookKeeping.prototype.destructor = function () {\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(ForEachBookKeeping, twoArgumentPooler);\n\nfunction forEachSingleChild(bookKeeping, child, name) {\n  var func = bookKeeping.func;\n  var context = bookKeeping.context;\n\n  func.call(context, child, bookKeeping.count++);\n}\n\n/**\n * Iterates through children that are typically specified as `props.children`.\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} forEachFunc\n * @param {*} forEachContext Context for forEachContext.\n */\nfunction forEachChildren(children, forEachFunc, forEachContext) {\n  if (children == null) {\n    return children;\n  }\n  var traverseContext = ForEachBookKeeping.getPooled(forEachFunc, forEachContext);\n  traverseAllChildren(children, forEachSingleChild, traverseContext);\n  ForEachBookKeeping.release(traverseContext);\n}\n\n/**\n * PooledClass representing the bookkeeping associated with performing a child\n * mapping. Allows avoiding binding callbacks.\n *\n * @constructor MapBookKeeping\n * @param {!*} mapResult Object containing the ordered map of results.\n * @param {!function} mapFunction Function to perform mapping with.\n * @param {?*} mapContext Context to perform mapping with.\n */\nfunction MapBookKeeping(mapResult, keyPrefix, mapFunction, mapContext) {\n  this.result = mapResult;\n  this.keyPrefix = keyPrefix;\n  this.func = mapFunction;\n  this.context = mapContext;\n  this.count = 0;\n}\nMapBookKeeping.prototype.destructor = function () {\n  this.result = null;\n  this.keyPrefix = null;\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(MapBookKeeping, fourArgumentPooler);\n\nfunction mapSingleChildIntoContext(bookKeeping, child, childKey) {\n  var result = bookKeeping.result;\n  var keyPrefix = bookKeeping.keyPrefix;\n  var func = bookKeeping.func;\n  var context = bookKeeping.context;\n\n  var mappedChild = func.call(context, child, bookKeeping.count++);\n  if (Array.isArray(mappedChild)) {\n    mapIntoWithKeyPrefixInternal(mappedChild, result, childKey, emptyFunction.thatReturnsArgument);\n  } else if (mappedChild != null) {\n    if (ReactElement.isValidElement(mappedChild)) {\n      mappedChild = ReactElement.cloneAndReplaceKey(mappedChild,\n      // Keep both the (mapped) and old keys if they differ, just as\n      // traverseAllChildren used to do for objects as children\n      keyPrefix + (mappedChild !== child ? escapeUserProvidedKey(mappedChild.key || '') + '/' : '') + childKey);\n    }\n    result.push(mappedChild);\n  }\n}\n\nfunction mapIntoWithKeyPrefixInternal(children, array, prefix, func, context) {\n  var escapedPrefix = '';\n  if (prefix != null) {\n    escapedPrefix = escapeUserProvidedKey(prefix) + '/';\n  }\n  var traverseContext = MapBookKeeping.getPooled(array, escapedPrefix, func, context);\n  traverseAllChildren(children, mapSingleChildIntoContext, traverseContext);\n  MapBookKeeping.release(traverseContext);\n}\n\n/**\n * Maps children that are typically specified as `props.children`.\n *\n * The provided mapFunction(child, key, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} func The map function.\n * @param {*} context Context for mapFunction.\n * @return {object} Object containing the ordered map of results.\n */\nfunction mapChildren(children, func, context) {\n  if (children == null) {\n    return children;\n  }\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, func, context);\n  return result;\n}\n\nfunction forEachSingleChildDummy(traverseContext, child, name) {\n  return null;\n}\n\n/**\n * Count the number of children that are typically specified as\n * `props.children`.\n *\n * @param {?*} children Children tree container.\n * @return {number} The number of children.\n */\nfunction countChildren(children, context) {\n  return traverseAllChildren(children, forEachSingleChildDummy, null);\n}\n\n/**\n * Flatten a children object (typically specified as `props.children`) and\n * return an array with appropriately re-keyed children.\n */\nfunction toArray(children) {\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, emptyFunction.thatReturnsArgument);\n  return result;\n}\n\nvar ReactChildren = {\n  forEach: forEachChildren,\n  map: mapChildren,\n  mapIntoWithKeyPrefixInternal: mapIntoWithKeyPrefixInternal,\n  count: countChildren,\n  toArray: toArray\n};\n\nmodule.exports = ReactChildren;"]}