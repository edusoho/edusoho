{"version":3,"sources":["node_modules/.2.3.10@bootstrap-datetime-picker/js/bootstrap-datetimepicker.js"],"names":["define","module","exports","factory","amd","require","jQuery","$","undefined","Array","prototype","indexOf","find","i","length","n","elementOrParentIsFixed","element","$element","$checkElements","add","parents","isFixed","each","css","UTCDate","Date","UTC","apply","arguments","UTCToday","today","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Datetimepicker","options","that","container","language","data","dates","split","isRTL","rtl","formatType","format","DPGlobal","parseFormat","getDefaultFormat","isInline","isVisible","isInput","is","fontAwesome","bootcssVer","component","parent","componentReset","hasInput","linkField","linkFormat","minuteStep","pickerPosition","showMeridian","initialDate","zIndex","title","icons","leftArrow","rightArrow","icontype","_attachEvents","clickedOutside","e","target","closest","hide","formatViewType","minView","convertViewMode","maxView","modes","wheelViewModeNavigation","wheelViewModeNavigationInverseDirection","wheelViewModeNavigationDelay","startViewMode","startView","viewMode","viewSelect","forceParse","template","templateV3","replace","picker","appendTo","on","click","proxy","mousedown","fn","mousewheel","console","log","addClass","selector","toggleClass","document","autoclose","keyboardNavigation","todayBtn","clearBtn","todayHighlight","weekStart","weekEnd","startDate","Infinity","endDate","datesDisabled","daysOfWeekDisabled","setStartDate","setEndDate","setDatesDisabled","setDaysOfWeekDisabled","setMinutesDisabled","minutesDisabled","setHoursDisabled","hoursDisabled","fillDow","fillMonths","update","showMode","show","constructor","_events","_detachEvents","focus","keyup","keydown","push","reset","el","ev","off","height","outerHeight","place","window","stopPropagation","preventDefault","trigger","type","date","val","setValue","remove","datetimepicker","getDate","d","getTime","getTimezoneOffset","getInitialDate","setInitialDate","setDate","setUTCDate","viewDate","fill","setFormat","formatted","getFormattedDate","formatDate","parseDate","updateNavArrows","isArray","map","toDateString","setTitle","value","text","parseInt","index_highest","index_current","offset","top","left","containerOffset","outerWidth","bodyWidth","body","clientWidth","innerWidth","fromArgs","String","dowCnt","html","daysMin","append","monthsShort","year","month","dayMonth","hours","minutes","startYear","startMonth","endYear","endMonth","currentDate","valueOf","months","toggle","clear","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","clsName","getFullYear","getMonth","inArray","empty","join","txt","meridian","meridianOld","actual","meridiem","toUpperCase","Math","floor","currentYear","end","removeClass","eq","slice","yearCont","hour","visibility","wheelPause","originalEvent","delta","wheelDelta","mode","setTimeout","nodeName","toLowerCase","className","dir","navStep","moveHour","moveDate","moveMonth","moveYear","convertViewModeText","getHours","getMinutes","getSeconds","_setDate","seconds","index","setUTCMonth","setUTCFullYear","hasClass","setUTCHours","substr","setUTCMinutes","oldViewMode","which","change","moveMinute","new_date","mag","abs","new_month","test","dateWithinRange","keyCode","dateChanged","newDate","newViewDate","ctrlKey","shiftKey","newViewMode","max","min","filter","old","option","args","shift","internal_return","$this","extend","defaults","Constructor","en","days","daysShort","suffix","navFnc","isLeapYear","field","Error","validParts","nonpunctuation","separators","parts","match","dateUTC","setMilliseconds","part_re","part","exec","call","toString","parsed","setters_order","setters_map","hh","v","h","HH","H","ii","ss","setUTCSeconds","s","yyyy","yy","m","isNaN","p","filtered","cnt","t","substring","M","MM","D","DD","P","dd","mm","y","Y","F","j","l","w","N","S","a","g","G","A","seps","headTemplate","headTemplateV3","contTemplate","footTemplate","noConflict"],"mappings":"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","file":"bootstrap-datetimepicker.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["/*** IMPORTS FROM imports-loader ***/\nvar define = false;\nvar module = false;\nvar exports = false;\n(function() {\n\n/* =========================================================\r\n * bootstrap-datetimepicker.js\r\n * =========================================================\r\n * Copyright 2012 Stefan Petre\r\n *\r\n * Improvements by Andrew Rowls\r\n * Improvements by Sbastien Malot\r\n * Improvements by Yun Lai\r\n * Improvements by Kenneth Henderick\r\n * Improvements by CuGBabyBeaR\r\n * Improvements by Christian Vaas <auspex@auspex.eu>\r\n *\r\n * Project URL : http://www.malot.fr/bootstrap-datetimepicker\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */\r\n\r\n(function(factory){\r\n    if (typeof define === 'function' && define.amd)\r\n      define(['jquery'], factory);\r\n    else if (typeof exports === 'object')\r\n      factory(require('jquery'));\r\n    else\r\n      factory(jQuery);\r\n\r\n}(function($, undefined){\r\n\r\n  // Add ECMA262-5 Array methods if not supported natively (IE8)\r\n  if (!('indexOf' in Array.prototype)) {\r\n    Array.prototype.indexOf = function (find, i) {\r\n      if (i === undefined) i = 0;\r\n      if (i < 0) i += this.length;\r\n      if (i < 0) i = 0;\r\n      for (var n = this.length; i < n; i++) {\r\n        if (i in this && this[i] === find) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  function elementOrParentIsFixed (element) {\r\n    var $element = $(element);\r\n    var $checkElements = $element.add($element.parents());\r\n    var isFixed = false;\r\n    $checkElements.each(function(){\r\n      if ($(this).css('position') === 'fixed') {\r\n        isFixed = true;\r\n        return false;\r\n      }\r\n    });\r\n    return isFixed;\r\n  }\r\n\r\n  function UTCDate() {\r\n    return new Date(Date.UTC.apply(Date, arguments));\r\n  }\r\n\r\n  function UTCToday() {\r\n    var today = new Date();\r\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate(), today.getUTCHours(), today.getUTCMinutes(), today.getUTCSeconds(), 0);\r\n  }\r\n\r\n  // Picker object\r\n  var Datetimepicker = function (element, options) {\r\n    var that = this;\r\n\r\n    this.element = $(element);\r\n\r\n    // add container for single page application\r\n    // when page switch the datetimepicker div will be removed also.\r\n    this.container = options.container || 'body';\r\n\r\n    this.language = options.language || this.element.data('date-language') || 'en';\r\n    this.language = this.language in dates ? this.language : this.language.split('-')[0]; // fr-CA fallback to fr\r\n    this.language = this.language in dates ? this.language : 'en';\r\n    this.isRTL = dates[this.language].rtl || false;\r\n    this.formatType = options.formatType || this.element.data('format-type') || 'standard';\r\n    this.format = DPGlobal.parseFormat(options.format || this.element.data('date-format') || dates[this.language].format || DPGlobal.getDefaultFormat(this.formatType, 'input'), this.formatType);\r\n    this.isInline = false;\r\n    this.isVisible = false;\r\n    this.isInput = this.element.is('input');\r\n    this.fontAwesome = options.fontAwesome || this.element.data('font-awesome') || false;\r\n\r\n    this.bootcssVer = options.bootcssVer || (this.isInput ? (this.element.is('.form-control') ? 3 : 2) : ( this.bootcssVer = this.element.is('.input-group') ? 3 : 2 ));\r\n\r\n    this.component = this.element.is('.date') ? ( this.bootcssVer == 3 ? this.element.find('.input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o').parent() : this.element.find('.add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o').parent()) : false;\r\n    this.componentReset = this.element.is('.date') ? ( this.bootcssVer == 3 ? this.element.find('.input-group-addon .glyphicon-remove, .input-group-addon .fa-times').parent():this.element.find('.add-on .icon-remove, .add-on .fa-times').parent()) : false;\r\n    this.hasInput = this.component && this.element.find('input').length;\r\n    if (this.component && this.component.length === 0) {\r\n      this.component = false;\r\n    }\r\n    this.linkField = options.linkField || this.element.data('link-field') || false;\r\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data('link-format') || DPGlobal.getDefaultFormat(this.formatType, 'link'), this.formatType);\r\n    this.minuteStep = options.minuteStep || this.element.data('minute-step') || 5;\r\n    this.pickerPosition = options.pickerPosition || this.element.data('picker-position') || 'bottom-right';\r\n    this.showMeridian = options.showMeridian || this.element.data('show-meridian') || false;\r\n    this.initialDate = options.initialDate || new Date();\r\n    this.zIndex = options.zIndex || this.element.data('z-index') || undefined;\r\n    this.title = typeof options.title === 'undefined' ? false : options.title;\r\n\r\n    this.icons = {\r\n      leftArrow: this.fontAwesome ? 'fa-arrow-left' : (this.bootcssVer === 3 ? 'glyphicon-arrow-left' : 'icon-arrow-left'),\r\n      rightArrow: this.fontAwesome ? 'fa-arrow-right' : (this.bootcssVer === 3 ? 'glyphicon-arrow-right' : 'icon-arrow-right')\r\n    }\r\n    this.icontype = this.fontAwesome ? 'fa' : 'glyphicon';\r\n\r\n    this._attachEvents();\r\n\r\n    this.clickedOutside = function (e) {\r\n        // Clicked outside the datetimepicker, hide it\r\n        if ($(e.target).closest('.datetimepicker').length === 0) {\r\n            that.hide();\r\n        }\r\n    }\r\n\r\n    this.formatViewType = 'datetime';\r\n    if ('formatViewType' in options) {\r\n      this.formatViewType = options.formatViewType;\r\n    } else if ('formatViewType' in this.element.data()) {\r\n      this.formatViewType = this.element.data('formatViewType');\r\n    }\r\n\r\n    this.minView = 0;\r\n    if ('minView' in options) {\r\n      this.minView = options.minView;\r\n    } else if ('minView' in this.element.data()) {\r\n      this.minView = this.element.data('min-view');\r\n    }\r\n    this.minView = DPGlobal.convertViewMode(this.minView);\r\n\r\n    this.maxView = DPGlobal.modes.length - 1;\r\n    if ('maxView' in options) {\r\n      this.maxView = options.maxView;\r\n    } else if ('maxView' in this.element.data()) {\r\n      this.maxView = this.element.data('max-view');\r\n    }\r\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\r\n\r\n    this.wheelViewModeNavigation = false;\r\n    if ('wheelViewModeNavigation' in options) {\r\n      this.wheelViewModeNavigation = options.wheelViewModeNavigation;\r\n    } else if ('wheelViewModeNavigation' in this.element.data()) {\r\n      this.wheelViewModeNavigation = this.element.data('view-mode-wheel-navigation');\r\n    }\r\n\r\n    this.wheelViewModeNavigationInverseDirection = false;\r\n\r\n    if ('wheelViewModeNavigationInverseDirection' in options) {\r\n      this.wheelViewModeNavigationInverseDirection = options.wheelViewModeNavigationInverseDirection;\r\n    } else if ('wheelViewModeNavigationInverseDirection' in this.element.data()) {\r\n      this.wheelViewModeNavigationInverseDirection = this.element.data('view-mode-wheel-navigation-inverse-dir');\r\n    }\r\n\r\n    this.wheelViewModeNavigationDelay = 100;\r\n    if ('wheelViewModeNavigationDelay' in options) {\r\n      this.wheelViewModeNavigationDelay = options.wheelViewModeNavigationDelay;\r\n    } else if ('wheelViewModeNavigationDelay' in this.element.data()) {\r\n      this.wheelViewModeNavigationDelay = this.element.data('view-mode-wheel-navigation-delay');\r\n    }\r\n\r\n    this.startViewMode = 2;\r\n    if ('startView' in options) {\r\n      this.startViewMode = options.startView;\r\n    } else if ('startView' in this.element.data()) {\r\n      this.startViewMode = this.element.data('start-view');\r\n    }\r\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\r\n    this.viewMode = this.startViewMode;\r\n\r\n    this.viewSelect = this.minView;\r\n    if ('viewSelect' in options) {\r\n      this.viewSelect = options.viewSelect;\r\n    } else if ('viewSelect' in this.element.data()) {\r\n      this.viewSelect = this.element.data('view-select');\r\n    }\r\n    this.viewSelect = DPGlobal.convertViewMode(this.viewSelect);\r\n\r\n    this.forceParse = true;\r\n    if ('forceParse' in options) {\r\n      this.forceParse = options.forceParse;\r\n    } else if ('dateForceParse' in this.element.data()) {\r\n      this.forceParse = this.element.data('date-force-parse');\r\n    }\r\n    var template = this.bootcssVer === 3 ? DPGlobal.templateV3 : DPGlobal.template;\r\n    while (template.indexOf('{iconType}') !== -1) {\r\n      template = template.replace('{iconType}', this.icontype);\r\n    }\r\n    while (template.indexOf('{leftArrow}') !== -1) {\r\n      template = template.replace('{leftArrow}', this.icons.leftArrow);\r\n    }\r\n    while (template.indexOf('{rightArrow}') !== -1) {\r\n      template = template.replace('{rightArrow}', this.icons.rightArrow);\r\n    }\r\n    this.picker = $(template)\r\n      .appendTo(this.isInline ? this.element : this.container) // 'body')\r\n      .on({\r\n        click:     $.proxy(this.click, this),\r\n        mousedown: $.proxy(this.mousedown, this)\r\n      });\r\n\r\n    if (this.wheelViewModeNavigation) {\r\n      if ($.fn.mousewheel) {\r\n        this.picker.on({mousewheel: $.proxy(this.mousewheel, this)});\r\n      } else {\r\n        console.log('Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option');\r\n      }\r\n    }\r\n\r\n    if (this.isInline) {\r\n      this.picker.addClass('datetimepicker-inline');\r\n    } else {\r\n      this.picker.addClass('datetimepicker-dropdown-' + this.pickerPosition + ' dropdown-menu');\r\n    }\r\n    if (this.isRTL) {\r\n      this.picker.addClass('datetimepicker-rtl');\r\n      var selector = this.bootcssVer === 3 ? '.prev span, .next span' : '.prev i, .next i';\r\n      this.picker.find(selector).toggleClass(this.icons.leftArrow + ' ' + this.icons.rightArrow);\r\n    }\r\n\r\n    $(document).on('mousedown', this.clickedOutside);\r\n\r\n    this.autoclose = false;\r\n    if ('autoclose' in options) {\r\n      this.autoclose = options.autoclose;\r\n    } else if ('dateAutoclose' in this.element.data()) {\r\n      this.autoclose = this.element.data('date-autoclose');\r\n    }\r\n\r\n    this.keyboardNavigation = true;\r\n    if ('keyboardNavigation' in options) {\r\n      this.keyboardNavigation = options.keyboardNavigation;\r\n    } else if ('dateKeyboardNavigation' in this.element.data()) {\r\n      this.keyboardNavigation = this.element.data('date-keyboard-navigation');\r\n    }\r\n\r\n    this.todayBtn = (options.todayBtn || this.element.data('date-today-btn') || false);\r\n    this.clearBtn = (options.clearBtn || this.element.data('date-clear-btn') || false);\r\n    this.todayHighlight = (options.todayHighlight || this.element.data('date-today-highlight') || false);\r\n\r\n    this.weekStart = ((options.weekStart || this.element.data('date-weekstart') || dates[this.language].weekStart || 0) % 7);\r\n    this.weekEnd = ((this.weekStart + 6) % 7);\r\n    this.startDate = -Infinity;\r\n    this.endDate = Infinity;\r\n    this.datesDisabled = [];\r\n    this.daysOfWeekDisabled = [];\r\n    this.setStartDate(options.startDate || this.element.data('date-startdate'));\r\n    this.setEndDate(options.endDate || this.element.data('date-enddate'));\r\n    this.setDatesDisabled(options.datesDisabled || this.element.data('date-dates-disabled'));\r\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data('date-days-of-week-disabled'));\r\n    this.setMinutesDisabled(options.minutesDisabled || this.element.data('date-minute-disabled'));\r\n    this.setHoursDisabled(options.hoursDisabled || this.element.data('date-hour-disabled'));\r\n    this.fillDow();\r\n    this.fillMonths();\r\n    this.update();\r\n    this.showMode();\r\n\r\n    if (this.isInline) {\r\n      this.show();\r\n    }\r\n  };\r\n\r\n  Datetimepicker.prototype = {\r\n    constructor: Datetimepicker,\r\n\r\n    _events:       [],\r\n    _attachEvents: function () {\r\n      this._detachEvents();\r\n      if (this.isInput) { // single input\r\n        this._events = [\r\n          [this.element, {\r\n            focus:   $.proxy(this.show, this),\r\n            keyup:   $.proxy(this.update, this),\r\n            keydown: $.proxy(this.keydown, this)\r\n          }]\r\n        ];\r\n      }\r\n      else if (this.component && this.hasInput) { // component: input + button\r\n        this._events = [\r\n          // For components that are not readonly, allow keyboard nav\r\n          [this.element.find('input'), {\r\n            focus:   $.proxy(this.show, this),\r\n            keyup:   $.proxy(this.update, this),\r\n            keydown: $.proxy(this.keydown, this)\r\n          }],\r\n          [this.component, {\r\n            click: $.proxy(this.show, this)\r\n          }]\r\n        ];\r\n        if (this.componentReset) {\r\n          this._events.push([\r\n            this.componentReset,\r\n            {click: $.proxy(this.reset, this)}\r\n          ]);\r\n        }\r\n      }\r\n      else if (this.element.is('div')) {  // inline datetimepicker\r\n        this.isInline = true;\r\n      }\r\n      else {\r\n        this._events = [\r\n          [this.element, {\r\n            click: $.proxy(this.show, this)\r\n          }]\r\n        ];\r\n      }\r\n      for (var i = 0, el, ev; i < this._events.length; i++) {\r\n        el = this._events[i][0];\r\n        ev = this._events[i][1];\r\n        el.on(ev);\r\n      }\r\n    },\r\n\r\n    _detachEvents: function () {\r\n      for (var i = 0, el, ev; i < this._events.length; i++) {\r\n        el = this._events[i][0];\r\n        ev = this._events[i][1];\r\n        el.off(ev);\r\n      }\r\n      this._events = [];\r\n    },\r\n\r\n    show: function (e) {\r\n      this.picker.show();\r\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\r\n      if (this.forceParse) {\r\n        this.update();\r\n      }\r\n      this.place();\r\n      $(window).on('resize', $.proxy(this.place, this));\r\n      if (e) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      }\r\n      this.isVisible = true;\r\n      this.element.trigger({\r\n        type: 'show',\r\n        date: this.date\r\n      });\r\n    },\r\n\r\n    hide: function (e) {\r\n      if (!this.isVisible) return;\r\n      if (this.isInline) return;\r\n      this.picker.hide();\r\n      $(window).off('resize', this.place);\r\n      this.viewMode = this.startViewMode;\r\n      this.showMode();\r\n      if (!this.isInput) {\r\n        $(document).off('mousedown', this.hide);\r\n      }\r\n\r\n      if (\r\n        this.forceParse &&\r\n          (\r\n            this.isInput && this.element.val() ||\r\n              this.hasInput && this.element.find('input').val()\r\n            )\r\n        )\r\n        this.setValue();\r\n      this.isVisible = false;\r\n      this.element.trigger({\r\n        type: 'hide',\r\n        date: this.date\r\n      });\r\n    },\r\n\r\n    remove: function () {\r\n      this._detachEvents();\r\n      $(document).off('mousedown', this.clickedOutside);\r\n      this.picker.remove();\r\n      delete this.picker;\r\n      delete this.element.data().datetimepicker;\r\n    },\r\n\r\n    getDate: function () {\r\n      var d = this.getUTCDate();\r\n      return new Date(d.getTime() + (d.getTimezoneOffset() * 60000));\r\n    },\r\n\r\n    getUTCDate: function () {\r\n      return this.date;\r\n    },\r\n\r\n    getInitialDate: function () {\r\n      return this.initialDate\r\n    },\r\n\r\n    setInitialDate: function (initialDate) {\r\n      this.initialDate = initialDate;\r\n    },\r\n\r\n    setDate: function (d) {\r\n      this.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset() * 60000)));\r\n    },\r\n\r\n    setUTCDate: function (d) {\r\n      if (d >= this.startDate && d <= this.endDate) {\r\n        this.date = d;\r\n        this.setValue();\r\n        this.viewDate = this.date;\r\n        this.fill();\r\n      } else {\r\n        this.element.trigger({\r\n          type:      'outOfRange',\r\n          date:      d,\r\n          startDate: this.startDate,\r\n          endDate:   this.endDate\r\n        });\r\n      }\r\n    },\r\n\r\n    setFormat: function (format) {\r\n      this.format = DPGlobal.parseFormat(format, this.formatType);\r\n      var element;\r\n      if (this.isInput) {\r\n        element = this.element;\r\n      } else if (this.component) {\r\n        element = this.element.find('input');\r\n      }\r\n      if (element && element.val()) {\r\n        this.setValue();\r\n      }\r\n    },\r\n\r\n    setValue: function () {\r\n      var formatted = this.getFormattedDate();\r\n      if (!this.isInput) {\r\n        if (this.component) {\r\n          this.element.find('input').val(formatted);\r\n        }\r\n        this.element.data('date', formatted);\r\n      } else {\r\n        this.element.val(formatted);\r\n      }\r\n      if (this.linkField) {\r\n        $('#' + this.linkField).val(this.getFormattedDate(this.linkFormat));\r\n      }\r\n    },\r\n\r\n    getFormattedDate: function (format) {\r\n      if (format == undefined) format = this.format;\r\n      return DPGlobal.formatDate(this.date, format, this.language, this.formatType);\r\n    },\r\n\r\n    setStartDate: function (startDate) {\r\n      this.startDate = startDate || -Infinity;\r\n      if (this.startDate !== -Infinity) {\r\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language, this.formatType);\r\n      }\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setEndDate: function (endDate) {\r\n      this.endDate = endDate || Infinity;\r\n      if (this.endDate !== Infinity) {\r\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language, this.formatType);\r\n      }\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setDatesDisabled: function (datesDisabled) {\r\n      this.datesDisabled = datesDisabled || [];\r\n      if (!$.isArray(this.datesDisabled)) {\r\n        this.datesDisabled = this.datesDisabled.split(/,\\s*/);\r\n      }\r\n      this.datesDisabled = $.map(this.datesDisabled, function (d) {\r\n        return DPGlobal.parseDate(d, this.format, this.language, this.formatType).toDateString();\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setTitle: function (selector, value) {\r\n      return this.picker.find(selector)\r\n        .find('th:eq(1)')\r\n        .text(this.title === false ? value : this.title);\r\n    },\r\n\r\n    setDaysOfWeekDisabled: function (daysOfWeekDisabled) {\r\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\r\n      if (!$.isArray(this.daysOfWeekDisabled)) {\r\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\r\n      }\r\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\r\n        return parseInt(d, 10);\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setMinutesDisabled: function (minutesDisabled) {\r\n      this.minutesDisabled = minutesDisabled || [];\r\n      if (!$.isArray(this.minutesDisabled)) {\r\n        this.minutesDisabled = this.minutesDisabled.split(/,\\s*/);\r\n      }\r\n      this.minutesDisabled = $.map(this.minutesDisabled, function (d) {\r\n        return parseInt(d, 10);\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    setHoursDisabled: function (hoursDisabled) {\r\n      this.hoursDisabled = hoursDisabled || [];\r\n      if (!$.isArray(this.hoursDisabled)) {\r\n        this.hoursDisabled = this.hoursDisabled.split(/,\\s*/);\r\n      }\r\n      this.hoursDisabled = $.map(this.hoursDisabled, function (d) {\r\n        return parseInt(d, 10);\r\n      });\r\n      this.update();\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    place: function () {\r\n      if (this.isInline) return;\r\n\r\n      if (!this.zIndex) {\r\n        var index_highest = 0;\r\n        $('div').each(function () {\r\n          var index_current = parseInt($(this).css('zIndex'), 10);\r\n          if (index_current > index_highest) {\r\n            index_highest = index_current;\r\n          }\r\n        });\r\n        this.zIndex = index_highest + 10;\r\n      }\r\n\r\n      var offset, top, left, containerOffset;\r\n      if (this.container instanceof $) {\r\n        containerOffset = this.container.offset();\r\n      } else {\r\n        containerOffset = $(this.container).offset();\r\n      }\r\n\r\n      if (this.component) {\r\n        offset = this.component.offset();\r\n        left = offset.left;\r\n        if (this.pickerPosition == 'bottom-left' || this.pickerPosition == 'top-left') {\r\n          left += this.component.outerWidth() - this.picker.outerWidth();\r\n        }\r\n      } else {\r\n        offset = this.element.offset();\r\n        left = offset.left;\r\n        if (this.pickerPosition == 'bottom-left' || this.pickerPosition == 'top-left') {\r\n          left += this.element.outerWidth() - this.picker.outerWidth();\r\n        }\r\n      }\r\n\r\n      var bodyWidth = document.body.clientWidth || window.innerWidth;\r\n      if (left + 220 > bodyWidth) {\r\n        left = bodyWidth - 220;\r\n      }\r\n\r\n      if (this.pickerPosition == 'top-left' || this.pickerPosition == 'top-right') {\r\n        top = offset.top - this.picker.outerHeight();\r\n      } else {\r\n        top = offset.top + this.height;\r\n      }\r\n\r\n      top = top - containerOffset.top;\r\n      left = left - containerOffset.left;\r\n\r\n      this.picker.css({\r\n        top:    top,\r\n        left:   left,\r\n        zIndex: this.zIndex\r\n      });\r\n    },\r\n\r\n    update: function () {\r\n      var date, fromArgs = false;\r\n      if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\r\n        date = arguments[0];\r\n        fromArgs = true;\r\n      } else {\r\n        date = (this.isInput ? this.element.val() : this.element.find('input').val()) || this.element.data('date') || this.initialDate;\r\n        if (typeof date == 'string' || date instanceof String) {\r\n          date = date.replace(/^\\s+|\\s+$/g,'');\r\n        }\r\n      }\r\n\r\n      if (!date) {\r\n        date = new Date();\r\n        fromArgs = false;\r\n      }\r\n\r\n      this.date = DPGlobal.parseDate(date, this.format, this.language, this.formatType);\r\n\r\n      if (fromArgs) this.setValue();\r\n\r\n      if (this.date < this.startDate) {\r\n        this.viewDate = new Date(this.startDate);\r\n      } else if (this.date > this.endDate) {\r\n        this.viewDate = new Date(this.endDate);\r\n      } else {\r\n        this.viewDate = new Date(this.date);\r\n      }\r\n      this.fill();\r\n    },\r\n\r\n    fillDow: function () {\r\n      var dowCnt = this.weekStart,\r\n        html = '<tr>';\r\n      while (dowCnt < this.weekStart + 7) {\r\n        html += '<th class=\"dow\">' + dates[this.language].daysMin[(dowCnt++) % 7] + '</th>';\r\n      }\r\n      html += '</tr>';\r\n      this.picker.find('.datetimepicker-days thead').append(html);\r\n    },\r\n\r\n    fillMonths: function () {\r\n      var html = '',\r\n        i = 0;\r\n      while (i < 12) {\r\n        html += '<span class=\"month\">' + dates[this.language].monthsShort[i++] + '</span>';\r\n      }\r\n      this.picker.find('.datetimepicker-months td').html(html);\r\n    },\r\n\r\n    fill: function () {\r\n      if (this.date == null || this.viewDate == null) {\r\n        return;\r\n      }\r\n      var d = new Date(this.viewDate),\r\n        year = d.getUTCFullYear(),\r\n        month = d.getUTCMonth(),\r\n        dayMonth = d.getUTCDate(),\r\n        hours = d.getUTCHours(),\r\n        minutes = d.getUTCMinutes(),\r\n        startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\r\n        startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() + 1 : -Infinity,\r\n        endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\r\n        endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() + 1 : Infinity,\r\n        currentDate = (new UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate())).valueOf(),\r\n        today = new Date();\r\n      this.setTitle('.datetimepicker-days', dates[this.language].months[month] + ' ' + year)\r\n      if (this.formatViewType == 'time') {\r\n        var formatted = this.getFormattedDate();\r\n        this.setTitle('.datetimepicker-hours', formatted);\r\n        this.setTitle('.datetimepicker-minutes', formatted);\r\n      } else {\r\n        this.setTitle('.datetimepicker-hours', dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\r\n        this.setTitle('.datetimepicker-minutes', dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\r\n      }\r\n      this.picker.find('tfoot th.today')\r\n        .text(dates[this.language].today || dates['en'].today)\r\n        .toggle(this.todayBtn !== false);\r\n      this.picker.find('tfoot th.clear')\r\n        .text(dates[this.language].clear || dates['en'].clear)\r\n        .toggle(this.clearBtn !== false);\r\n      this.updateNavArrows();\r\n      this.fillMonths();\r\n      /*var prevMonth = UTCDate(year, month, 0,0,0,0,0);\r\n       prevMonth.setUTCDate(prevMonth.getDate() - (prevMonth.getUTCDay() - this.weekStart + 7)%7);*/\r\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\r\n        day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\r\n      prevMonth.setUTCDate(day);\r\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\r\n      var nextMonth = new Date(prevMonth);\r\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\r\n      nextMonth = nextMonth.valueOf();\r\n      var html = [];\r\n      var clsName;\r\n      while (prevMonth.valueOf() < nextMonth) {\r\n        if (prevMonth.getUTCDay() == this.weekStart) {\r\n          html.push('<tr>');\r\n        }\r\n        clsName = '';\r\n        if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month)) {\r\n          clsName += ' old';\r\n        } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month)) {\r\n          clsName += ' new';\r\n        }\r\n        // Compare internal UTC date with local today, not UTC today\r\n        if (this.todayHighlight &&\r\n          prevMonth.getUTCFullYear() == today.getFullYear() &&\r\n          prevMonth.getUTCMonth() == today.getMonth() &&\r\n          prevMonth.getUTCDate() == today.getDate()) {\r\n          clsName += ' today';\r\n        }\r\n        if (prevMonth.valueOf() == currentDate) {\r\n          clsName += ' active';\r\n        }\r\n        if ((prevMonth.valueOf() + 86400000) <= this.startDate || prevMonth.valueOf() > this.endDate ||\r\n          $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1 ||\r\n\t\t\t\t\t$.inArray(prevMonth.toDateString(), this.datesDisabled) !== -1) {\r\n          clsName += ' disabled';\r\n        }\r\n        html.push('<td class=\"day' + clsName + '\">' + prevMonth.getUTCDate() + '</td>');\r\n        if (prevMonth.getUTCDay() == this.weekEnd) {\r\n          html.push('</tr>');\r\n        }\r\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\r\n      }\r\n      this.picker.find('.datetimepicker-days tbody').empty().append(html.join(''));\r\n\r\n      html = [];\r\n      var txt = '', meridian = '', meridianOld = '';\r\n      var hoursDisabled = this.hoursDisabled || [];\r\n      for (var i = 0; i < 24; i++) {\r\n        if (hoursDisabled.indexOf(i) !== -1) continue;\r\n        var actual = UTCDate(year, month, dayMonth, i);\r\n        clsName = '';\r\n        // We want the previous hour for the startDate\r\n        if ((actual.valueOf() + 3600000) <= this.startDate || actual.valueOf() > this.endDate) {\r\n          clsName += ' disabled';\r\n        } else if (hours == i) {\r\n          clsName += ' active';\r\n        }\r\n        if (this.showMeridian && dates[this.language].meridiem.length == 2) {\r\n          meridian = (i < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\r\n          if (meridian != meridianOld) {\r\n            if (meridianOld != '') {\r\n              html.push('</fieldset>');\r\n            }\r\n            html.push('<fieldset class=\"hour\"><legend>' + meridian.toUpperCase() + '</legend>');\r\n          }\r\n          meridianOld = meridian;\r\n          txt = (i % 12 ? i % 12 : 12);\r\n          html.push('<span class=\"hour' + clsName + ' hour_' + (i < 12 ? 'am' : 'pm') + '\">' + txt + '</span>');\r\n          if (i == 23) {\r\n            html.push('</fieldset>');\r\n          }\r\n        } else {\r\n          txt = i + ':00';\r\n          html.push('<span class=\"hour' + clsName + '\">' + txt + '</span>');\r\n        }\r\n      }\r\n      this.picker.find('.datetimepicker-hours td').html(html.join(''));\r\n\r\n      html = [];\r\n      txt = '', meridian = '', meridianOld = '';\r\n      var minutesDisabled = this.minutesDisabled || [];\r\n      for (var i = 0; i < 60; i += this.minuteStep) {\r\n        if (minutesDisabled.indexOf(i) !== -1) continue;\r\n        var actual = UTCDate(year, month, dayMonth, hours, i, 0);\r\n        clsName = '';\r\n        if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\r\n          clsName += ' disabled';\r\n        } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\r\n          clsName += ' active';\r\n        }\r\n        if (this.showMeridian && dates[this.language].meridiem.length == 2) {\r\n          meridian = (hours < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\r\n          if (meridian != meridianOld) {\r\n            if (meridianOld != '') {\r\n              html.push('</fieldset>');\r\n            }\r\n            html.push('<fieldset class=\"minute\"><legend>' + meridian.toUpperCase() + '</legend>');\r\n          }\r\n          meridianOld = meridian;\r\n          txt = (hours % 12 ? hours % 12 : 12);\r\n          //html.push('<span class=\"minute'+clsName+' minute_'+(hours<12?'am':'pm')+'\">'+txt+'</span>');\r\n          html.push('<span class=\"minute' + clsName + '\">' + txt + ':' + (i < 10 ? '0' + i : i) + '</span>');\r\n          if (i == 59) {\r\n            html.push('</fieldset>');\r\n          }\r\n        } else {\r\n          txt = i + ':00';\r\n          //html.push('<span class=\"hour'+clsName+'\">'+txt+'</span>');\r\n          html.push('<span class=\"minute' + clsName + '\">' + hours + ':' + (i < 10 ? '0' + i : i) + '</span>');\r\n        }\r\n      }\r\n      this.picker.find('.datetimepicker-minutes td').html(html.join(''));\r\n\r\n      var currentYear = this.date.getUTCFullYear();\r\n      var months = this.setTitle('.datetimepicker-months', year)\r\n        .end()\r\n        .find('span').removeClass('active');\r\n      if (currentYear == year) {\r\n        // getUTCMonths() returns 0 based, and we need to select the next one\r\n        // To cater bootstrap 2 we don't need to select the next one\r\n        var offset = months.length - 12;\r\n        months.eq(this.date.getUTCMonth() + offset).addClass('active');\r\n      }\r\n      if (year < startYear || year > endYear) {\r\n        months.addClass('disabled');\r\n      }\r\n      if (year == startYear) {\r\n        months.slice(0, startMonth + 1).addClass('disabled');\r\n      }\r\n      if (year == endYear) {\r\n        months.slice(endMonth).addClass('disabled');\r\n      }\r\n\r\n      html = '';\r\n      year = parseInt(year / 10, 10) * 10;\r\n      var yearCont = this.setTitle('.datetimepicker-years', year + '-' + (year + 9))\r\n        .end()\r\n        .find('td');\r\n      year -= 1;\r\n      for (var i = -1; i < 11; i++) {\r\n        html += '<span class=\"year' + (i == -1 || i == 10 ? ' old' : '') + (currentYear == year ? ' active' : '') + (year < startYear || year > endYear ? ' disabled' : '') + '\">' + year + '</span>';\r\n        year += 1;\r\n      }\r\n      yearCont.html(html);\r\n      this.place();\r\n    },\r\n\r\n    updateNavArrows: function () {\r\n      var d = new Date(this.viewDate),\r\n        year = d.getUTCFullYear(),\r\n        month = d.getUTCMonth(),\r\n        day = d.getUTCDate(),\r\n        hour = d.getUTCHours();\r\n      switch (this.viewMode) {\r\n        case 0:\r\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\r\n            && month <= this.startDate.getUTCMonth()\r\n            && day <= this.startDate.getUTCDate()\r\n            && hour <= this.startDate.getUTCHours()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\r\n            && month >= this.endDate.getUTCMonth()\r\n            && day >= this.endDate.getUTCDate()\r\n            && hour >= this.endDate.getUTCHours()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n        case 1:\r\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\r\n            && month <= this.startDate.getUTCMonth()\r\n            && day <= this.startDate.getUTCDate()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\r\n            && month >= this.endDate.getUTCMonth()\r\n            && day >= this.endDate.getUTCDate()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n        case 2:\r\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\r\n            && month <= this.startDate.getUTCMonth()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\r\n            && month >= this.endDate.getUTCMonth()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n        case 3:\r\n        case 4:\r\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\r\n            this.picker.find('.prev').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.prev').css({visibility: 'visible'});\r\n          }\r\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\r\n            this.picker.find('.next').css({visibility: 'hidden'});\r\n          } else {\r\n            this.picker.find('.next').css({visibility: 'visible'});\r\n          }\r\n          break;\r\n      }\r\n    },\r\n\r\n    mousewheel: function (e) {\r\n\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      if (this.wheelPause) {\r\n        return;\r\n      }\r\n\r\n      this.wheelPause = true;\r\n\r\n      var originalEvent = e.originalEvent;\r\n\r\n      var delta = originalEvent.wheelDelta;\r\n\r\n      var mode = delta > 0 ? 1 : (delta === 0) ? 0 : -1;\r\n\r\n      if (this.wheelViewModeNavigationInverseDirection) {\r\n        mode = -mode;\r\n      }\r\n\r\n      this.showMode(mode);\r\n\r\n      setTimeout($.proxy(function () {\r\n\r\n        this.wheelPause = false\r\n\r\n      }, this), this.wheelViewModeNavigationDelay);\r\n\r\n    },\r\n\r\n    click: function (e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      var target = $(e.target).closest('span, td, th, legend');\r\n      if (target.is('.' + this.icontype)) {\r\n        target = $(target).parent().closest('span, td, th, legend');\r\n      }\r\n      if (target.length == 1) {\r\n        if (target.is('.disabled')) {\r\n          this.element.trigger({\r\n            type:      'outOfRange',\r\n            date:      this.viewDate,\r\n            startDate: this.startDate,\r\n            endDate:   this.endDate\r\n          });\r\n          return;\r\n        }\r\n        switch (target[0].nodeName.toLowerCase()) {\r\n          case 'th':\r\n            switch (target[0].className) {\r\n              case 'switch':\r\n                this.showMode(1);\r\n                break;\r\n              case 'prev':\r\n              case 'next':\r\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == 'prev' ? -1 : 1);\r\n                switch (this.viewMode) {\r\n                  case 0:\r\n                    this.viewDate = this.moveHour(this.viewDate, dir);\r\n                    break;\r\n                  case 1:\r\n                    this.viewDate = this.moveDate(this.viewDate, dir);\r\n                    break;\r\n                  case 2:\r\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\r\n                    break;\r\n                  case 3:\r\n                  case 4:\r\n                    this.viewDate = this.moveYear(this.viewDate, dir);\r\n                    break;\r\n                }\r\n                this.fill();\r\n                this.element.trigger({\r\n                  type:      target[0].className + ':' + this.convertViewModeText(this.viewMode),\r\n                  date:      this.viewDate,\r\n                  startDate: this.startDate,\r\n                  endDate:   this.endDate\r\n                });\r\n                break;\r\n              case 'clear':\r\n                this.reset();\r\n                if (this.autoclose) {\r\n                  this.hide();\r\n                }\r\n                break;\r\n              case 'today':\r\n                var date = new Date();\r\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), 0);\r\n\r\n                // Respect startDate and endDate.\r\n                if (date < this.startDate) date = this.startDate;\r\n                else if (date > this.endDate) date = this.endDate;\r\n\r\n                this.viewMode = this.startViewMode;\r\n                this.showMode(0);\r\n                this._setDate(date);\r\n                this.fill();\r\n                if (this.autoclose) {\r\n                  this.hide();\r\n                }\r\n                break;\r\n            }\r\n            break;\r\n          case 'span':\r\n            if (!target.is('.disabled')) {\r\n              var year = this.viewDate.getUTCFullYear(),\r\n                month = this.viewDate.getUTCMonth(),\r\n                day = this.viewDate.getUTCDate(),\r\n                hours = this.viewDate.getUTCHours(),\r\n                minutes = this.viewDate.getUTCMinutes(),\r\n                seconds = this.viewDate.getUTCSeconds();\r\n\r\n              if (target.is('.month')) {\r\n                this.viewDate.setUTCDate(1);\r\n                month = target.parent().find('span').index(target);\r\n                day = this.viewDate.getUTCDate();\r\n                this.viewDate.setUTCMonth(month);\r\n                this.element.trigger({\r\n                  type: 'changeMonth',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 3) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              } else if (target.is('.year')) {\r\n                this.viewDate.setUTCDate(1);\r\n                year = parseInt(target.text(), 10) || 0;\r\n                this.viewDate.setUTCFullYear(year);\r\n                this.element.trigger({\r\n                  type: 'changeYear',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 4) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              } else if (target.is('.hour')) {\r\n                hours = parseInt(target.text(), 10) || 0;\r\n                if (target.hasClass('hour_am') || target.hasClass('hour_pm')) {\r\n                  if (hours == 12 && target.hasClass('hour_am')) {\r\n                    hours = 0;\r\n                  } else if (hours != 12 && target.hasClass('hour_pm')) {\r\n                    hours += 12;\r\n                  }\r\n                }\r\n                this.viewDate.setUTCHours(hours);\r\n                this.element.trigger({\r\n                  type: 'changeHour',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 1) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              } else if (target.is('.minute')) {\r\n                minutes = parseInt(target.text().substr(target.text().indexOf(':') + 1), 10) || 0;\r\n                this.viewDate.setUTCMinutes(minutes);\r\n                this.element.trigger({\r\n                  type: 'changeMinute',\r\n                  date: this.viewDate\r\n                });\r\n                if (this.viewSelect >= 0) {\r\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n                }\r\n              }\r\n              if (this.viewMode != 0) {\r\n                var oldViewMode = this.viewMode;\r\n                this.showMode(-1);\r\n                this.fill();\r\n                if (oldViewMode == this.viewMode && this.autoclose) {\r\n                  this.hide();\r\n                }\r\n              } else {\r\n                this.fill();\r\n                if (this.autoclose) {\r\n                  this.hide();\r\n                }\r\n              }\r\n            }\r\n            break;\r\n          case 'td':\r\n            if (target.is('.day') && !target.is('.disabled')) {\r\n              var day = parseInt(target.text(), 10) || 1;\r\n              var year = this.viewDate.getUTCFullYear(),\r\n                month = this.viewDate.getUTCMonth(),\r\n                hours = this.viewDate.getUTCHours(),\r\n                minutes = this.viewDate.getUTCMinutes(),\r\n                seconds = this.viewDate.getUTCSeconds();\r\n              if (target.is('.old')) {\r\n                if (month === 0) {\r\n                  month = 11;\r\n                  year -= 1;\r\n                } else {\r\n                  month -= 1;\r\n                }\r\n              } else if (target.is('.new')) {\r\n                if (month == 11) {\r\n                  month = 0;\r\n                  year += 1;\r\n                } else {\r\n                  month += 1;\r\n                }\r\n              }\r\n              this.viewDate.setUTCFullYear(year);\r\n              this.viewDate.setUTCMonth(month, day);\r\n              this.element.trigger({\r\n                type: 'changeDay',\r\n                date: this.viewDate\r\n              });\r\n              if (this.viewSelect >= 2) {\r\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\r\n              }\r\n            }\r\n            var oldViewMode = this.viewMode;\r\n            this.showMode(-1);\r\n            this.fill();\r\n            if (oldViewMode == this.viewMode && this.autoclose) {\r\n              this.hide();\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    },\r\n\r\n    _setDate: function (date, which) {\r\n      if (!which || which == 'date')\r\n        this.date = date;\r\n      if (!which || which == 'view')\r\n        this.viewDate = date;\r\n      this.fill();\r\n      this.setValue();\r\n      var element;\r\n      if (this.isInput) {\r\n        element = this.element;\r\n      } else if (this.component) {\r\n        element = this.element.find('input');\r\n      }\r\n      if (element) {\r\n        element.change();\r\n        if (this.autoclose && (!which || which == 'date')) {\r\n          //this.hide();\r\n        }\r\n      }\r\n      this.element.trigger({\r\n        type: 'changeDate',\r\n        date: this.getDate()\r\n      });\r\n      if(date == null)\r\n        this.date = this.viewDate;\r\n    },\r\n\r\n    moveMinute: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf());\r\n      //dir = dir > 0 ? 1 : -1;\r\n      new_date.setUTCMinutes(new_date.getUTCMinutes() + (dir * this.minuteStep));\r\n      return new_date;\r\n    },\r\n\r\n    moveHour: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf());\r\n      //dir = dir > 0 ? 1 : -1;\r\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\r\n      return new_date;\r\n    },\r\n\r\n    moveDate: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf());\r\n      //dir = dir > 0 ? 1 : -1;\r\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\r\n      return new_date;\r\n    },\r\n\r\n    moveMonth: function (date, dir) {\r\n      if (!dir) return date;\r\n      var new_date = new Date(date.valueOf()),\r\n        day = new_date.getUTCDate(),\r\n        month = new_date.getUTCMonth(),\r\n        mag = Math.abs(dir),\r\n        new_month, test;\r\n      dir = dir > 0 ? 1 : -1;\r\n      if (mag == 1) {\r\n        test = dir == -1\r\n          // If going back one month, make sure month is not current month\r\n          // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\r\n          ? function () {\r\n          return new_date.getUTCMonth() == month;\r\n        }\r\n          // If going forward one month, make sure month is as expected\r\n          // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\r\n          : function () {\r\n          return new_date.getUTCMonth() != new_month;\r\n        };\r\n        new_month = month + dir;\r\n        new_date.setUTCMonth(new_month);\r\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\r\n        if (new_month < 0 || new_month > 11)\r\n          new_month = (new_month + 12) % 12;\r\n      } else {\r\n        // For magnitudes >1, move one month at a time...\r\n        for (var i = 0; i < mag; i++)\r\n          // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\r\n          new_date = this.moveMonth(new_date, dir);\r\n        // ...then reset the day, keeping it in the new month\r\n        new_month = new_date.getUTCMonth();\r\n        new_date.setUTCDate(day);\r\n        test = function () {\r\n          return new_month != new_date.getUTCMonth();\r\n        };\r\n      }\r\n      // Common date-resetting loop -- if date is beyond end of month, make it\r\n      // end of month\r\n      while (test()) {\r\n        new_date.setUTCDate(--day);\r\n        new_date.setUTCMonth(new_month);\r\n      }\r\n      return new_date;\r\n    },\r\n\r\n    moveYear: function (date, dir) {\r\n      return this.moveMonth(date, dir * 12);\r\n    },\r\n\r\n    dateWithinRange: function (date) {\r\n      return date >= this.startDate && date <= this.endDate;\r\n    },\r\n\r\n    keydown: function (e) {\r\n      if (this.picker.is(':not(:visible)')) {\r\n        if (e.keyCode == 27) // allow escape to hide and re-show picker\r\n          this.show();\r\n        return;\r\n      }\r\n      var dateChanged = false,\r\n        dir, day, month,\r\n        newDate, newViewDate;\r\n      switch (e.keyCode) {\r\n        case 27: // escape\r\n          this.hide();\r\n          e.preventDefault();\r\n          break;\r\n        case 37: // left\r\n        case 39: // right\r\n          if (!this.keyboardNavigation) break;\r\n          dir = e.keyCode == 37 ? -1 : 1;\r\n          viewMode = this.viewMode;\r\n          if (e.ctrlKey) {\r\n            viewMode += 2;\r\n          } else if (e.shiftKey) {\r\n            viewMode += 1;\r\n          }\r\n          if (viewMode == 4) {\r\n            newDate = this.moveYear(this.date, dir);\r\n            newViewDate = this.moveYear(this.viewDate, dir);\r\n          } else if (viewMode == 3) {\r\n            newDate = this.moveMonth(this.date, dir);\r\n            newViewDate = this.moveMonth(this.viewDate, dir);\r\n          } else if (viewMode == 2) {\r\n            newDate = this.moveDate(this.date, dir);\r\n            newViewDate = this.moveDate(this.viewDate, dir);\r\n          } else if (viewMode == 1) {\r\n            newDate = this.moveHour(this.date, dir);\r\n            newViewDate = this.moveHour(this.viewDate, dir);\r\n          } else if (viewMode == 0) {\r\n            newDate = this.moveMinute(this.date, dir);\r\n            newViewDate = this.moveMinute(this.viewDate, dir);\r\n          }\r\n          if (this.dateWithinRange(newDate)) {\r\n            this.date = newDate;\r\n            this.viewDate = newViewDate;\r\n            this.setValue();\r\n            this.update();\r\n            e.preventDefault();\r\n            dateChanged = true;\r\n          }\r\n          break;\r\n        case 38: // up\r\n        case 40: // down\r\n          if (!this.keyboardNavigation) break;\r\n          dir = e.keyCode == 38 ? -1 : 1;\r\n          viewMode = this.viewMode;\r\n          if (e.ctrlKey) {\r\n            viewMode += 2;\r\n          } else if (e.shiftKey) {\r\n            viewMode += 1;\r\n          }\r\n          if (viewMode == 4) {\r\n            newDate = this.moveYear(this.date, dir);\r\n            newViewDate = this.moveYear(this.viewDate, dir);\r\n          } else if (viewMode == 3) {\r\n            newDate = this.moveMonth(this.date, dir);\r\n            newViewDate = this.moveMonth(this.viewDate, dir);\r\n          } else if (viewMode == 2) {\r\n            newDate = this.moveDate(this.date, dir * 7);\r\n            newViewDate = this.moveDate(this.viewDate, dir * 7);\r\n          } else if (viewMode == 1) {\r\n            if (this.showMeridian) {\r\n              newDate = this.moveHour(this.date, dir * 6);\r\n              newViewDate = this.moveHour(this.viewDate, dir * 6);\r\n            } else {\r\n              newDate = this.moveHour(this.date, dir * 4);\r\n              newViewDate = this.moveHour(this.viewDate, dir * 4);\r\n            }\r\n          } else if (viewMode == 0) {\r\n            newDate = this.moveMinute(this.date, dir * 4);\r\n            newViewDate = this.moveMinute(this.viewDate, dir * 4);\r\n          }\r\n          if (this.dateWithinRange(newDate)) {\r\n            this.date = newDate;\r\n            this.viewDate = newViewDate;\r\n            this.setValue();\r\n            this.update();\r\n            e.preventDefault();\r\n            dateChanged = true;\r\n          }\r\n          break;\r\n        case 13: // enter\r\n          if (this.viewMode != 0) {\r\n            var oldViewMode = this.viewMode;\r\n            this.showMode(-1);\r\n            this.fill();\r\n            if (oldViewMode == this.viewMode && this.autoclose) {\r\n              this.hide();\r\n            }\r\n          } else {\r\n            this.fill();\r\n            if (this.autoclose) {\r\n              this.hide();\r\n            }\r\n          }\r\n          e.preventDefault();\r\n          break;\r\n        case 9: // tab\r\n          this.hide();\r\n          break;\r\n      }\r\n      if (dateChanged) {\r\n        var element;\r\n        if (this.isInput) {\r\n          element = this.element;\r\n        } else if (this.component) {\r\n          element = this.element.find('input');\r\n        }\r\n        if (element) {\r\n          element.change();\r\n        }\r\n        this.element.trigger({\r\n          type: 'changeDate',\r\n          date: this.getDate()\r\n        });\r\n      }\r\n    },\r\n\r\n    showMode: function (dir) {\r\n      if (dir) {\r\n        var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\r\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\r\n          this.element.trigger({\r\n            type:        'changeMode',\r\n            date:        this.viewDate,\r\n            oldViewMode: this.viewMode,\r\n            newViewMode: newViewMode\r\n          });\r\n\r\n          this.viewMode = newViewMode;\r\n        }\r\n      }\r\n      /*\r\n       vitalets: fixing bug of very special conditions:\r\n       jquery 1.7.1 + webkit + show inline datetimepicker in bootstrap popover.\r\n       Method show() does not set display css correctly and datetimepicker is not shown.\r\n       Changed to .css('display', 'block') solve the problem.\r\n       See https://github.com/vitalets/x-editable/issues/37\r\n\r\n       In jquery 1.7.2+ everything works fine.\r\n       */\r\n      //this.picker.find('>div').hide().filter('.datetimepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\r\n      this.picker.find('>div').hide().filter('.datetimepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\r\n      this.updateNavArrows();\r\n    },\r\n\r\n    reset: function (e) {\r\n      this._setDate(null, 'date');\r\n    },\r\n\r\n    convertViewModeText:  function (viewMode) {\r\n      switch (viewMode) {\r\n        case 4:\r\n          return 'decade';\r\n        case 3:\r\n          return 'year';\r\n        case 2:\r\n          return 'month';\r\n        case 1:\r\n          return 'day';\r\n        case 0:\r\n          return 'hour';\r\n      }\r\n    }\r\n  };\r\n\r\n  var old = $.fn.datetimepicker;\r\n  $.fn.datetimepicker = function (option) {\r\n    var args = Array.apply(null, arguments);\r\n    args.shift();\r\n    var internal_return;\r\n    this.each(function () {\r\n      var $this = $(this),\r\n        data = $this.data('datetimepicker'),\r\n        options = typeof option == 'object' && option;\r\n      if (!data) {\r\n        $this.data('datetimepicker', (data = new Datetimepicker(this, $.extend({}, $.fn.datetimepicker.defaults, options))));\r\n      }\r\n      if (typeof option == 'string' && typeof data[option] == 'function') {\r\n        internal_return = data[option].apply(data, args);\r\n        if (internal_return !== undefined) {\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n    if (internal_return !== undefined)\r\n      return internal_return;\r\n    else\r\n      return this;\r\n  };\r\n\r\n  $.fn.datetimepicker.defaults = {\r\n  };\r\n  $.fn.datetimepicker.Constructor = Datetimepicker;\r\n  var dates = $.fn.datetimepicker.dates = {\r\n    en: {\r\n      days:        ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\r\n      daysShort:   ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\r\n      daysMin:     ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\r\n      months:      ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n      meridiem:    ['am', 'pm'],\r\n      suffix:      ['st', 'nd', 'rd', 'th'],\r\n      today:       'Today',\r\n      clear:       'Clear'\r\n    }\r\n  };\r\n\r\n  var DPGlobal = {\r\n    modes:            [\r\n      {\r\n        clsName: 'minutes',\r\n        navFnc:  'Hours',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'hours',\r\n        navFnc:  'Date',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'days',\r\n        navFnc:  'Month',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'months',\r\n        navFnc:  'FullYear',\r\n        navStep: 1\r\n      },\r\n      {\r\n        clsName: 'years',\r\n        navFnc:  'FullYear',\r\n        navStep: 10\r\n      }\r\n    ],\r\n    isLeapYear:       function (year) {\r\n      return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\r\n    },\r\n    getDaysInMonth:   function (year, month) {\r\n      return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\r\n    },\r\n    getDefaultFormat: function (type, field) {\r\n      if (type == 'standard') {\r\n        if (field == 'input')\r\n          return 'yyyy-mm-dd hh:ii';\r\n        else\r\n          return 'yyyy-mm-dd hh:ii:ss';\r\n      } else if (type == 'php') {\r\n        if (field == 'input')\r\n          return 'Y-m-d H:i';\r\n        else\r\n          return 'Y-m-d H:i:s';\r\n      } else {\r\n        throw new Error('Invalid format type.');\r\n      }\r\n    },\r\n    validParts: function (type) {\r\n      if (type == 'standard') {\r\n        return /t|hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;\r\n      } else if (type == 'php') {\r\n        return /[dDjlNwzFmMnStyYaABgGhHis]/g;\r\n      } else {\r\n        throw new Error('Invalid format type.');\r\n      }\r\n    },\r\n    nonpunctuation: /[^ -\\/:-@\\[-`{-~\\t\\n\\rTZ]+/g,\r\n    parseFormat: function (format, type) {\r\n      // IE treats \\0 as a string end in inputs (truncating the value),\r\n      // so it's a bad format delimiter, anyway\r\n      var separators = format.replace(this.validParts(type), '\\0').split('\\0'),\r\n        parts = format.match(this.validParts(type));\r\n      if (!separators || !separators.length || !parts || parts.length == 0) {\r\n        throw new Error('Invalid date format.');\r\n      }\r\n      return {separators: separators, parts: parts};\r\n    },\r\n    parseDate: function (date, format, language, type) {\r\n      if (date instanceof Date) {\r\n        var dateUTC = new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\r\n        dateUTC.setMilliseconds(0);\r\n        return dateUTC;\r\n      }\r\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\r\n        format = this.parseFormat('yyyy-mm-dd', type);\r\n      }\r\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\r\n        format = this.parseFormat('yyyy-mm-dd hh:ii', type);\r\n      }\r\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\r\n        format = this.parseFormat('yyyy-mm-dd hh:ii:ss', type);\r\n      }\r\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\r\n        var part_re = /([-+]\\d+)([dmwy])/,\r\n          parts = date.match(/([-+]\\d+)([dmwy])/g),\r\n          part, dir;\r\n        date = new Date();\r\n        for (var i = 0; i < parts.length; i++) {\r\n          part = part_re.exec(parts[i]);\r\n          dir = parseInt(part[1]);\r\n          switch (part[2]) {\r\n            case 'd':\r\n              date.setUTCDate(date.getUTCDate() + dir);\r\n              break;\r\n            case 'm':\r\n              date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\r\n              break;\r\n            case 'w':\r\n              date.setUTCDate(date.getUTCDate() + dir * 7);\r\n              break;\r\n            case 'y':\r\n              date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\r\n              break;\r\n          }\r\n        }\r\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), 0);\r\n      }\r\n      var parts = date && date.toString().match(this.nonpunctuation) || [],\r\n        date = new Date(0, 0, 0, 0, 0, 0, 0),\r\n        parsed = {},\r\n        setters_order = ['hh', 'h', 'ii', 'i', 'ss', 's', 'yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'D', 'DD', 'd', 'dd', 'H', 'HH', 'p', 'P'],\r\n        setters_map = {\r\n          hh:   function (d, v) {\r\n            return d.setUTCHours(v);\r\n          },\r\n          h:    function (d, v) {\r\n            return d.setUTCHours(v);\r\n          },\r\n          HH:   function (d, v) {\r\n            return d.setUTCHours(v == 12 ? 0 : v);\r\n          },\r\n          H:    function (d, v) {\r\n            return d.setUTCHours(v == 12 ? 0 : v);\r\n          },\r\n          ii:   function (d, v) {\r\n            return d.setUTCMinutes(v);\r\n          },\r\n          i:    function (d, v) {\r\n            return d.setUTCMinutes(v);\r\n          },\r\n          ss:   function (d, v) {\r\n            return d.setUTCSeconds(v);\r\n          },\r\n          s:    function (d, v) {\r\n            return d.setUTCSeconds(v);\r\n          },\r\n          yyyy: function (d, v) {\r\n            return d.setUTCFullYear(v);\r\n          },\r\n          yy:   function (d, v) {\r\n            return d.setUTCFullYear(2000 + v);\r\n          },\r\n          m:    function (d, v) {\r\n            v -= 1;\r\n            while (v < 0) v += 12;\r\n            v %= 12;\r\n            d.setUTCMonth(v);\r\n            while (d.getUTCMonth() != v)\r\n              if (isNaN(d.getUTCMonth()))\r\n                return d;\r\n              else\r\n                d.setUTCDate(d.getUTCDate() - 1);\r\n            return d;\r\n          },\r\n          d:    function (d, v) {\r\n            return d.setUTCDate(v);\r\n          },\r\n          p:    function (d, v) {\r\n            return d.setUTCHours(v == 1 ? d.getUTCHours() + 12 : d.getUTCHours());\r\n          }\r\n        },\r\n        val, filtered, part;\r\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\r\n      setters_map['dd'] = setters_map['d'];\r\n      setters_map['P'] = setters_map['p'];\r\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\r\n      if (parts.length == format.parts.length) {\r\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n          val = parseInt(parts[i], 10);\r\n          part = format.parts[i];\r\n          if (isNaN(val)) {\r\n            switch (part) {\r\n              case 'MM':\r\n                filtered = $(dates[language].months).filter(function () {\r\n                  var m = this.slice(0, parts[i].length),\r\n                    p = parts[i].slice(0, m.length);\r\n                  return m == p;\r\n                });\r\n                val = $.inArray(filtered[0], dates[language].months) + 1;\r\n                break;\r\n              case 'M':\r\n                filtered = $(dates[language].monthsShort).filter(function () {\r\n                  var m = this.slice(0, parts[i].length),\r\n                    p = parts[i].slice(0, m.length);\r\n                  return m.toLowerCase() == p.toLowerCase();\r\n                });\r\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\r\n                break;\r\n              case 'p':\r\n              case 'P':\r\n                val = $.inArray(parts[i].toLowerCase(), dates[language].meridiem);\r\n                break;\r\n            }\r\n          }\r\n          parsed[part] = val;\r\n        }\r\n        for (var i = 0, s; i < setters_order.length; i++) {\r\n          s = setters_order[i];\r\n          if (s in parsed && !isNaN(parsed[s]))\r\n            setters_map[s](date, parsed[s])\r\n        }\r\n      }\r\n      return date;\r\n    },\r\n    formatDate:       function (date, format, language, type) {\r\n      if (date == null) {\r\n        return '';\r\n      }\r\n      var val;\r\n      if (type == 'standard') {\r\n        val = {\r\n          t:    date.getTime(),\r\n          // year\r\n          yy:   date.getUTCFullYear().toString().substring(2),\r\n          yyyy: date.getUTCFullYear(),\r\n          // month\r\n          m:    date.getUTCMonth() + 1,\r\n          M:    dates[language].monthsShort[date.getUTCMonth()],\r\n          MM:   dates[language].months[date.getUTCMonth()],\r\n          // day\r\n          d:    date.getUTCDate(),\r\n          D:    dates[language].daysShort[date.getUTCDay()],\r\n          DD:   dates[language].days[date.getUTCDay()],\r\n          p:    (dates[language].meridiem.length == 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\r\n          // hour\r\n          h:    date.getUTCHours(),\r\n          // minute\r\n          i:    date.getUTCMinutes(),\r\n          // second\r\n          s:    date.getUTCSeconds()\r\n        };\r\n\r\n        if (dates[language].meridiem.length == 2) {\r\n          val.H = (val.h % 12 == 0 ? 12 : val.h % 12);\r\n        }\r\n        else {\r\n          val.H = val.h;\r\n        }\r\n        val.HH = (val.H < 10 ? '0' : '') + val.H;\r\n        val.P = val.p.toUpperCase();\r\n        val.hh = (val.h < 10 ? '0' : '') + val.h;\r\n        val.ii = (val.i < 10 ? '0' : '') + val.i;\r\n        val.ss = (val.s < 10 ? '0' : '') + val.s;\r\n        val.dd = (val.d < 10 ? '0' : '') + val.d;\r\n        val.mm = (val.m < 10 ? '0' : '') + val.m;\r\n      } else if (type == 'php') {\r\n        // php format\r\n        val = {\r\n          // year\r\n          y: date.getUTCFullYear().toString().substring(2),\r\n          Y: date.getUTCFullYear(),\r\n          // month\r\n          F: dates[language].months[date.getUTCMonth()],\r\n          M: dates[language].monthsShort[date.getUTCMonth()],\r\n          n: date.getUTCMonth() + 1,\r\n          t: DPGlobal.getDaysInMonth(date.getUTCFullYear(), date.getUTCMonth()),\r\n          // day\r\n          j: date.getUTCDate(),\r\n          l: dates[language].days[date.getUTCDay()],\r\n          D: dates[language].daysShort[date.getUTCDay()],\r\n          w: date.getUTCDay(), // 0 -> 6\r\n          N: (date.getUTCDay() == 0 ? 7 : date.getUTCDay()),       // 1 -> 7\r\n          S: (date.getUTCDate() % 10 <= dates[language].suffix.length ? dates[language].suffix[date.getUTCDate() % 10 - 1] : ''),\r\n          // hour\r\n          a: (dates[language].meridiem.length == 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\r\n          g: (date.getUTCHours() % 12 == 0 ? 12 : date.getUTCHours() % 12),\r\n          G: date.getUTCHours(),\r\n          // minute\r\n          i: date.getUTCMinutes(),\r\n          // second\r\n          s: date.getUTCSeconds()\r\n        };\r\n        val.m = (val.n < 10 ? '0' : '') + val.n;\r\n        val.d = (val.j < 10 ? '0' : '') + val.j;\r\n        val.A = val.a.toString().toUpperCase();\r\n        val.h = (val.g < 10 ? '0' : '') + val.g;\r\n        val.H = (val.G < 10 ? '0' : '') + val.G;\r\n        val.i = (val.i < 10 ? '0' : '') + val.i;\r\n        val.s = (val.s < 10 ? '0' : '') + val.s;\r\n      } else {\r\n        throw new Error('Invalid format type.');\r\n      }\r\n      var date = [],\r\n        seps = $.extend([], format.separators);\r\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\r\n        if (seps.length) {\r\n          date.push(seps.shift());\r\n        }\r\n        date.push(val[format.parts[i]]);\r\n      }\r\n      if (seps.length) {\r\n        date.push(seps.shift());\r\n      }\r\n      return date.join('');\r\n    },\r\n    convertViewMode:  function (viewMode) {\r\n      switch (viewMode) {\r\n        case 4:\r\n        case 'decade':\r\n          viewMode = 4;\r\n          break;\r\n        case 3:\r\n        case 'year':\r\n          viewMode = 3;\r\n          break;\r\n        case 2:\r\n        case 'month':\r\n          viewMode = 2;\r\n          break;\r\n        case 1:\r\n        case 'day':\r\n          viewMode = 1;\r\n          break;\r\n        case 0:\r\n        case 'hour':\r\n          viewMode = 0;\r\n          break;\r\n      }\r\n\r\n      return viewMode;\r\n    },\r\n    headTemplate: '<thead>' +\r\n                '<tr>' +\r\n                '<th class=\"prev\"><i class=\"{iconType} {leftArrow}\"/></th>' +\r\n                '<th colspan=\"5\" class=\"switch\"></th>' +\r\n                '<th class=\"next\"><i class=\"{iconType} {rightArrow}\"/></th>' +\r\n                '</tr>' +\r\n      '</thead>',\r\n    headTemplateV3: '<thead>' +\r\n                '<tr>' +\r\n                '<th class=\"prev\"><span class=\"{iconType} {leftArrow}\"></span> </th>' +\r\n                '<th colspan=\"5\" class=\"switch\"></th>' +\r\n                '<th class=\"next\"><span class=\"{iconType} {rightArrow}\"></span> </th>' +\r\n                '</tr>' +\r\n      '</thead>',\r\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\r\n    footTemplate: '<tfoot>' + \r\n                    '<tr><th colspan=\"7\" class=\"today\"></th></tr>' +\r\n                    '<tr><th colspan=\"7\" class=\"clear\"></th></tr>' +\r\n                  '</tfoot>'\r\n  };\r\n  DPGlobal.template = '<div class=\"datetimepicker\">' +\r\n    '<div class=\"datetimepicker-minutes\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-hours\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-days\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    '<tbody></tbody>' +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-months\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-years\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplate +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '</div>';\r\n  DPGlobal.templateV3 = '<div class=\"datetimepicker\">' +\r\n    '<div class=\"datetimepicker-minutes\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-hours\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-days\">' +\r\n    '<table class=\" table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    '<tbody></tbody>' +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-months\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '<div class=\"datetimepicker-years\">' +\r\n    '<table class=\"table-condensed\">' +\r\n    DPGlobal.headTemplateV3 +\r\n    DPGlobal.contTemplate +\r\n    DPGlobal.footTemplate +\r\n    '</table>' +\r\n    '</div>' +\r\n    '</div>';\r\n  $.fn.datetimepicker.DPGlobal = DPGlobal;\r\n\r\n  /* DATETIMEPICKER NO CONFLICT\r\n   * =================== */\r\n\r\n  $.fn.datetimepicker.noConflict = function () {\r\n    $.fn.datetimepicker = old;\r\n    return this;\r\n  };\r\n\r\n  /* DATETIMEPICKER DATA-API\r\n   * ================== */\r\n\r\n  $(document).on(\r\n    'focus.datetimepicker.data-api click.datetimepicker.data-api',\r\n    '[data-provide=\"datetimepicker\"]',\r\n    function (e) {\r\n      var $this = $(this);\r\n      if ($this.data('datetimepicker')) return;\r\n      e.preventDefault();\r\n      // component click requires us to explicitly show it\r\n      $this.datetimepicker('show');\r\n    }\r\n  );\r\n  $(function () {\r\n    $('[data-provide=\"datetimepicker-inline\"]').datetimepicker();\r\n  });\r\n\r\n}));\r\n\n}.call(window));"]}