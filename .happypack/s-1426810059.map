{"version":3,"sources":["node_modules/.0.14.8@react/lib/SyntheticEvent.js"],"names":["PooledClass","require","assign","emptyFunction","warning","EventInterface","type","target","currentTarget","thatReturnsNull","eventPhase","bubbles","cancelable","timeStamp","event","Date","now","defaultPrevented","isTrusted","SyntheticEvent","dispatchConfig","dispatchMarker","nativeEvent","nativeEventTarget","Interface","constructor","propName","hasOwnProperty","normalize","returnValue","isDefaultPrevented","thatReturnsTrue","thatReturnsFalse","isPropagationStopped","prototype","preventDefault","process","env","NODE_ENV","undefined","stopPropagation","cancelBubble","persist","isPersistent","destructor","augmentClass","Class","Super","Object","create","addPoolingTo","fourArgumentPooler","module","exports"],"mappings":"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","file":"SyntheticEvent.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule SyntheticEvent\n * @typechecks static-only\n */\n\n'use strict';\n\nvar PooledClass = require('./PooledClass');\n\nvar assign = require('./Object.assign');\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar warning = require('fbjs/lib/warning');\n\n/**\n * @interface Event\n * @see http://www.w3.org/TR/DOM-Level-3-Events/\n */\nvar EventInterface = {\n  type: null,\n  target: null,\n  // currentTarget is set when dispatching; no use in copying it here\n  currentTarget: emptyFunction.thatReturnsNull,\n  eventPhase: null,\n  bubbles: null,\n  cancelable: null,\n  timeStamp: function (event) {\n    return event.timeStamp || Date.now();\n  },\n  defaultPrevented: null,\n  isTrusted: null\n};\n\n/**\n * Synthetic events are dispatched by event plugins, typically in response to a\n * top-level event delegation handler.\n *\n * These systems should generally use pooling to reduce the frequency of garbage\n * collection. The system should check `isPersistent` to determine whether the\n * event should be released into the pool after being dispatched. Users that\n * need a persisted event should invoke `persist`.\n *\n * Synthetic events (and subclasses) implement the DOM Level 3 Events API by\n * normalizing browser quirks. Subclasses do not necessarily have to implement a\n * DOM interface; custom application-specific events can also subclass this.\n *\n * @param {object} dispatchConfig Configuration used to dispatch this event.\n * @param {string} dispatchMarker Marker identifying the event target.\n * @param {object} nativeEvent Native browser event.\n */\nfunction SyntheticEvent(dispatchConfig, dispatchMarker, nativeEvent, nativeEventTarget) {\n  this.dispatchConfig = dispatchConfig;\n  this.dispatchMarker = dispatchMarker;\n  this.nativeEvent = nativeEvent;\n\n  var Interface = this.constructor.Interface;\n  for (var propName in Interface) {\n    if (!Interface.hasOwnProperty(propName)) {\n      continue;\n    }\n    var normalize = Interface[propName];\n    if (normalize) {\n      this[propName] = normalize(nativeEvent);\n    } else {\n      if (propName === 'target') {\n        this.target = nativeEventTarget;\n      } else {\n        this[propName] = nativeEvent[propName];\n      }\n    }\n  }\n\n  var defaultPrevented = nativeEvent.defaultPrevented != null ? nativeEvent.defaultPrevented : nativeEvent.returnValue === false;\n  if (defaultPrevented) {\n    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;\n  } else {\n    this.isDefaultPrevented = emptyFunction.thatReturnsFalse;\n  }\n  this.isPropagationStopped = emptyFunction.thatReturnsFalse;\n}\n\nassign(SyntheticEvent.prototype, {\n\n  preventDefault: function () {\n    this.defaultPrevented = true;\n    var event = this.nativeEvent;\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(event, 'This synthetic event is reused for performance reasons. If you\\'re ' + 'seeing this, you\\'re calling `preventDefault` on a ' + 'released/nullified synthetic event. This is a no-op. See ' + 'https://fb.me/react-event-pooling for more information.') : undefined;\n    }\n    if (!event) {\n      return;\n    }\n\n    if (event.preventDefault) {\n      event.preventDefault();\n    } else {\n      event.returnValue = false;\n    }\n    this.isDefaultPrevented = emptyFunction.thatReturnsTrue;\n  },\n\n  stopPropagation: function () {\n    var event = this.nativeEvent;\n    if (process.env.NODE_ENV !== 'production') {\n      process.env.NODE_ENV !== 'production' ? warning(event, 'This synthetic event is reused for performance reasons. If you\\'re ' + 'seeing this, you\\'re calling `stopPropagation` on a ' + 'released/nullified synthetic event. This is a no-op. See ' + 'https://fb.me/react-event-pooling for more information.') : undefined;\n    }\n    if (!event) {\n      return;\n    }\n\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else {\n      event.cancelBubble = true;\n    }\n    this.isPropagationStopped = emptyFunction.thatReturnsTrue;\n  },\n\n  /**\n   * We release all dispatched `SyntheticEvent`s after each event loop, adding\n   * them back into the pool. This allows a way to hold onto a reference that\n   * won't be added back into the pool.\n   */\n  persist: function () {\n    this.isPersistent = emptyFunction.thatReturnsTrue;\n  },\n\n  /**\n   * Checks if this event should be released back into the pool.\n   *\n   * @return {boolean} True if this should not be released, false otherwise.\n   */\n  isPersistent: emptyFunction.thatReturnsFalse,\n\n  /**\n   * `PooledClass` looks for `destructor` on each instance it releases.\n   */\n  destructor: function () {\n    var Interface = this.constructor.Interface;\n    for (var propName in Interface) {\n      this[propName] = null;\n    }\n    this.dispatchConfig = null;\n    this.dispatchMarker = null;\n    this.nativeEvent = null;\n  }\n\n});\n\nSyntheticEvent.Interface = EventInterface;\n\n/**\n * Helper to reduce boilerplate when creating subclasses.\n *\n * @param {function} Class\n * @param {?object} Interface\n */\nSyntheticEvent.augmentClass = function (Class, Interface) {\n  var Super = this;\n\n  var prototype = Object.create(Super.prototype);\n  assign(prototype, Class.prototype);\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n\n  Class.Interface = assign({}, Super.Interface, Interface);\n  Class.augmentClass = Super.augmentClass;\n\n  PooledClass.addPoolingTo(Class, PooledClass.fourArgumentPooler);\n};\n\nPooledClass.addPoolingTo(SyntheticEvent, PooledClass.fourArgumentPooler);\n\nmodule.exports = SyntheticEvent;"]}